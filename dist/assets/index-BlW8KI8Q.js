(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&u(g)}).observe(document,{childList:!0,subtree:!0});function l(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function u(o){if(o.ep)return;o.ep=!0;const h=l(o);fetch(o.href,h)}})();function jg(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var G1={exports:{}},ih={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function y3(){if(Em)return ih;Em=1;var f=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function l(u,o,h){var g=null;if(h!==void 0&&(g=""+h),o.key!==void 0&&(g=""+o.key),"key"in o){h={};for(var y in o)y!=="key"&&(h[y]=o[y])}else h=o;return o=h.ref,{$$typeof:f,type:u,key:g,ref:o!==void 0?o:null,props:h}}return ih.Fragment=e,ih.jsx=l,ih.jsxs=l,ih}var Tm;function v3(){return Tm||(Tm=1,G1.exports=y3()),G1.exports}var O=v3(),B1={exports:{}},Ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am;function S3(){if(Am)return Ft;Am=1;var f=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.iterator;function D(z){return z===null||typeof z!="object"?null:(z=T&&z[T]||z["@@iterator"],typeof z=="function"?z:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,B={};function w(z,$,lt){this.props=z,this.context=$,this.refs=B,this.updater=lt||N}w.prototype.isReactComponent={},w.prototype.setState=function(z,$){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,$,"setState")},w.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function V(){}V.prototype=w.prototype;function J(z,$,lt){this.props=z,this.context=$,this.refs=B,this.updater=lt||N}var W=J.prototype=new V;W.constructor=J,X(W,w.prototype),W.isPureReactComponent=!0;var dt=Array.isArray;function rt(){}var et={H:null,A:null,T:null,S:null},it=Object.prototype.hasOwnProperty;function xt(z,$,lt){var Tt=lt.ref;return{$$typeof:f,type:z,key:$,ref:Tt!==void 0?Tt:null,props:lt}}function At(z,$){return xt(z.type,$,z.props)}function zt(z){return typeof z=="object"&&z!==null&&z.$$typeof===f}function _t(z){var $={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(lt){return $[lt]})}var jt=/\/+/g;function Ut(z,$){return typeof z=="object"&&z!==null&&z.key!=null?_t(""+z.key):$.toString(36)}function gt(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(rt,rt):(z.status="pending",z.then(function($){z.status==="pending"&&(z.status="fulfilled",z.value=$)},function($){z.status==="pending"&&(z.status="rejected",z.reason=$)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function H(z,$,lt,Tt,wt){var Xt=typeof z;(Xt==="undefined"||Xt==="boolean")&&(z=null);var fe=!1;if(z===null)fe=!0;else switch(Xt){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(z.$$typeof){case f:case e:fe=!0;break;case C:return fe=z._init,H(fe(z._payload),$,lt,Tt,wt)}}if(fe)return wt=wt(z),fe=Tt===""?"."+Ut(z,0):Tt,dt(wt)?(lt="",fe!=null&&(lt=fe.replace(jt,"$&/")+"/"),H(wt,$,lt,"",function(vl){return vl})):wt!=null&&(zt(wt)&&(wt=At(wt,lt+(wt.key==null||z&&z.key===wt.key?"":(""+wt.key).replace(jt,"$&/")+"/")+fe)),$.push(wt)),1;fe=0;var Ie=Tt===""?".":Tt+":";if(dt(z))for(var he=0;he<z.length;he++)Tt=z[he],Xt=Ie+Ut(Tt,he),fe+=H(Tt,$,lt,Xt,wt);else if(he=D(z),typeof he=="function")for(z=he.call(z),he=0;!(Tt=z.next()).done;)Tt=Tt.value,Xt=Ie+Ut(Tt,he++),fe+=H(Tt,$,lt,Xt,wt);else if(Xt==="object"){if(typeof z.then=="function")return H(gt(z),$,lt,Tt,wt);throw $=String(z),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return fe}function ct(z,$,lt){if(z==null)return z;var Tt=[],wt=0;return H(z,Tt,"","",function(Xt){return $.call(lt,Xt,wt++)}),Tt}function ft(z){if(z._status===-1){var $=z._result;$=$(),$.then(function(lt){(z._status===0||z._status===-1)&&(z._status=1,z._result=lt)},function(lt){(z._status===0||z._status===-1)&&(z._status=2,z._result=lt)}),z._status===-1&&(z._status=0,z._result=$)}if(z._status===1)return z._result.default;throw z._result}var Et=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Ot={map:ct,forEach:function(z,$,lt){ct(z,function(){$.apply(this,arguments)},lt)},count:function(z){var $=0;return ct(z,function(){$++}),$},toArray:function(z){return ct(z,function($){return $})||[]},only:function(z){if(!zt(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Ft.Activity=E,Ft.Children=Ot,Ft.Component=w,Ft.Fragment=l,Ft.Profiler=o,Ft.PureComponent=J,Ft.StrictMode=u,Ft.Suspense=S,Ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=et,Ft.__COMPILER_RUNTIME={__proto__:null,c:function(z){return et.H.useMemoCache(z)}},Ft.cache=function(z){return function(){return z.apply(null,arguments)}},Ft.cacheSignal=function(){return null},Ft.cloneElement=function(z,$,lt){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var Tt=X({},z.props),wt=z.key;if($!=null)for(Xt in $.key!==void 0&&(wt=""+$.key),$)!it.call($,Xt)||Xt==="key"||Xt==="__self"||Xt==="__source"||Xt==="ref"&&$.ref===void 0||(Tt[Xt]=$[Xt]);var Xt=arguments.length-2;if(Xt===1)Tt.children=lt;else if(1<Xt){for(var fe=Array(Xt),Ie=0;Ie<Xt;Ie++)fe[Ie]=arguments[Ie+2];Tt.children=fe}return xt(z.type,wt,Tt)},Ft.createContext=function(z){return z={$$typeof:g,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:h,_context:z},z},Ft.createElement=function(z,$,lt){var Tt,wt={},Xt=null;if($!=null)for(Tt in $.key!==void 0&&(Xt=""+$.key),$)it.call($,Tt)&&Tt!=="key"&&Tt!=="__self"&&Tt!=="__source"&&(wt[Tt]=$[Tt]);var fe=arguments.length-2;if(fe===1)wt.children=lt;else if(1<fe){for(var Ie=Array(fe),he=0;he<fe;he++)Ie[he]=arguments[he+2];wt.children=Ie}if(z&&z.defaultProps)for(Tt in fe=z.defaultProps,fe)wt[Tt]===void 0&&(wt[Tt]=fe[Tt]);return xt(z,Xt,wt)},Ft.createRef=function(){return{current:null}},Ft.forwardRef=function(z){return{$$typeof:y,render:z}},Ft.isValidElement=zt,Ft.lazy=function(z){return{$$typeof:C,_payload:{_status:-1,_result:z},_init:ft}},Ft.memo=function(z,$){return{$$typeof:x,type:z,compare:$===void 0?null:$}},Ft.startTransition=function(z){var $=et.T,lt={};et.T=lt;try{var Tt=z(),wt=et.S;wt!==null&&wt(lt,Tt),typeof Tt=="object"&&Tt!==null&&typeof Tt.then=="function"&&Tt.then(rt,Et)}catch(Xt){Et(Xt)}finally{$!==null&&lt.types!==null&&($.types=lt.types),et.T=$}},Ft.unstable_useCacheRefresh=function(){return et.H.useCacheRefresh()},Ft.use=function(z){return et.H.use(z)},Ft.useActionState=function(z,$,lt){return et.H.useActionState(z,$,lt)},Ft.useCallback=function(z,$){return et.H.useCallback(z,$)},Ft.useContext=function(z){return et.H.useContext(z)},Ft.useDebugValue=function(){},Ft.useDeferredValue=function(z,$){return et.H.useDeferredValue(z,$)},Ft.useEffect=function(z,$){return et.H.useEffect(z,$)},Ft.useEffectEvent=function(z){return et.H.useEffectEvent(z)},Ft.useId=function(){return et.H.useId()},Ft.useImperativeHandle=function(z,$,lt){return et.H.useImperativeHandle(z,$,lt)},Ft.useInsertionEffect=function(z,$){return et.H.useInsertionEffect(z,$)},Ft.useLayoutEffect=function(z,$){return et.H.useLayoutEffect(z,$)},Ft.useMemo=function(z,$){return et.H.useMemo(z,$)},Ft.useOptimistic=function(z,$){return et.H.useOptimistic(z,$)},Ft.useReducer=function(z,$,lt){return et.H.useReducer(z,$,lt)},Ft.useRef=function(z){return et.H.useRef(z)},Ft.useState=function(z){return et.H.useState(z)},Ft.useSyncExternalStore=function(z,$,lt){return et.H.useSyncExternalStore(z,$,lt)},Ft.useTransition=function(){return et.H.useTransition()},Ft.version="19.2.0",Ft}var Mm;function V0(){return Mm||(Mm=1,B1.exports=S3()),B1.exports}var St=V0();const ia=jg(St);var H1={exports:{}},lh={},j1={exports:{}},w1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function b3(){return Nm||(Nm=1,(function(f){function e(H,ct){var ft=H.length;H.push(ct);t:for(;0<ft;){var Et=ft-1>>>1,Ot=H[Et];if(0<o(Ot,ct))H[Et]=ct,H[ft]=Ot,ft=Et;else break t}}function l(H){return H.length===0?null:H[0]}function u(H){if(H.length===0)return null;var ct=H[0],ft=H.pop();if(ft!==ct){H[0]=ft;t:for(var Et=0,Ot=H.length,z=Ot>>>1;Et<z;){var $=2*(Et+1)-1,lt=H[$],Tt=$+1,wt=H[Tt];if(0>o(lt,ft))Tt<Ot&&0>o(wt,lt)?(H[Et]=wt,H[Tt]=ft,Et=Tt):(H[Et]=lt,H[$]=ft,Et=$);else if(Tt<Ot&&0>o(wt,ft))H[Et]=wt,H[Tt]=ft,Et=Tt;else break t}}return ct}function o(H,ct){var ft=H.sortIndex-ct.sortIndex;return ft!==0?ft:H.id-ct.id}if(f.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;f.unstable_now=function(){return h.now()}}else{var g=Date,y=g.now();f.unstable_now=function(){return g.now()-y}}var S=[],x=[],C=1,E=null,T=3,D=!1,N=!1,X=!1,B=!1,w=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function W(H){for(var ct=l(x);ct!==null;){if(ct.callback===null)u(x);else if(ct.startTime<=H)u(x),ct.sortIndex=ct.expirationTime,e(S,ct);else break;ct=l(x)}}function dt(H){if(X=!1,W(H),!N)if(l(S)!==null)N=!0,rt||(rt=!0,_t());else{var ct=l(x);ct!==null&&gt(dt,ct.startTime-H)}}var rt=!1,et=-1,it=5,xt=-1;function At(){return B?!0:!(f.unstable_now()-xt<it)}function zt(){if(B=!1,rt){var H=f.unstable_now();xt=H;var ct=!0;try{t:{N=!1,X&&(X=!1,V(et),et=-1),D=!0;var ft=T;try{e:{for(W(H),E=l(S);E!==null&&!(E.expirationTime>H&&At());){var Et=E.callback;if(typeof Et=="function"){E.callback=null,T=E.priorityLevel;var Ot=Et(E.expirationTime<=H);if(H=f.unstable_now(),typeof Ot=="function"){E.callback=Ot,W(H),ct=!0;break e}E===l(S)&&u(S),W(H)}else u(S);E=l(S)}if(E!==null)ct=!0;else{var z=l(x);z!==null&&gt(dt,z.startTime-H),ct=!1}}break t}finally{E=null,T=ft,D=!1}ct=void 0}}finally{ct?_t():rt=!1}}}var _t;if(typeof J=="function")_t=function(){J(zt)};else if(typeof MessageChannel<"u"){var jt=new MessageChannel,Ut=jt.port2;jt.port1.onmessage=zt,_t=function(){Ut.postMessage(null)}}else _t=function(){w(zt,0)};function gt(H,ct){et=w(function(){H(f.unstable_now())},ct)}f.unstable_IdlePriority=5,f.unstable_ImmediatePriority=1,f.unstable_LowPriority=4,f.unstable_NormalPriority=3,f.unstable_Profiling=null,f.unstable_UserBlockingPriority=2,f.unstable_cancelCallback=function(H){H.callback=null},f.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):it=0<H?Math.floor(1e3/H):5},f.unstable_getCurrentPriorityLevel=function(){return T},f.unstable_next=function(H){switch(T){case 1:case 2:case 3:var ct=3;break;default:ct=T}var ft=T;T=ct;try{return H()}finally{T=ft}},f.unstable_requestPaint=function(){B=!0},f.unstable_runWithPriority=function(H,ct){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ft=T;T=H;try{return ct()}finally{T=ft}},f.unstable_scheduleCallback=function(H,ct,ft){var Et=f.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Et+ft:Et):ft=Et,H){case 1:var Ot=-1;break;case 2:Ot=250;break;case 5:Ot=1073741823;break;case 4:Ot=1e4;break;default:Ot=5e3}return Ot=ft+Ot,H={id:C++,callback:ct,priorityLevel:H,startTime:ft,expirationTime:Ot,sortIndex:-1},ft>Et?(H.sortIndex=ft,e(x,H),l(S)===null&&H===l(x)&&(X?(V(et),et=-1):X=!0,gt(dt,ft-Et))):(H.sortIndex=Ot,e(S,H),N||D||(N=!0,rt||(rt=!0,_t()))),H},f.unstable_shouldYield=At,f.unstable_wrapCallback=function(H){var ct=T;return function(){var ft=T;T=ct;try{return H.apply(this,arguments)}finally{T=ft}}}})(w1)),w1}var Om;function M2(){return Om||(Om=1,j1.exports=b3()),j1.exports}var L1={exports:{}},yn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function x3(){if(Dm)return yn;Dm=1;var f=V0();function e(S){var x="https://react.dev/errors/"+S;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)x+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+S+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var u={d:{f:l,r:function(){throw Error(e(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(S,x,C){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:S,containerInfo:x,implementation:C}}var g=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(S,x){if(S==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,yn.createPortal=function(S,x){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(e(299));return h(S,x,null,C)},yn.flushSync=function(S){var x=g.T,C=u.p;try{if(g.T=null,u.p=2,S)return S()}finally{g.T=x,u.p=C,u.d.f()}},yn.preconnect=function(S,x){typeof S=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,u.d.C(S,x))},yn.prefetchDNS=function(S){typeof S=="string"&&u.d.D(S)},yn.preinit=function(S,x){if(typeof S=="string"&&x&&typeof x.as=="string"){var C=x.as,E=y(C,x.crossOrigin),T=typeof x.integrity=="string"?x.integrity:void 0,D=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;C==="style"?u.d.S(S,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:D}):C==="script"&&u.d.X(S,{crossOrigin:E,integrity:T,fetchPriority:D,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},yn.preinitModule=function(S,x){if(typeof S=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var C=y(x.as,x.crossOrigin);u.d.M(S,{crossOrigin:C,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&u.d.M(S)},yn.preload=function(S,x){if(typeof S=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var C=x.as,E=y(C,x.crossOrigin);u.d.L(S,C,{crossOrigin:E,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},yn.preloadModule=function(S,x){if(typeof S=="string")if(x){var C=y(x.as,x.crossOrigin);u.d.m(S,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:C,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else u.d.m(S)},yn.requestFormReset=function(S){u.d.r(S)},yn.unstable_batchedUpdates=function(S,x){return S(x)},yn.useFormState=function(S,x,C){return g.H.useFormState(S,x,C)},yn.useFormStatus=function(){return g.H.useHostTransitionStatus()},yn.version="19.2.0",yn}var Rm;function wg(){if(Rm)return L1.exports;Rm=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(e){console.error(e)}}return f(),L1.exports=x3(),L1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function _3(){if(zm)return lh;zm=1;var f=M2(),e=V0(),l=wg();function u(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var a=t,s=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(s=a.return),t=a.return;while(t)}return a.tag===3?s:null}function g(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function y(t){if(t.tag===31){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function S(t){if(h(t)!==t)throw Error(u(188))}function x(t){var a=t.alternate;if(!a){if(a=h(t),a===null)throw Error(u(188));return a!==t?null:t}for(var s=t,r=a;;){var m=s.return;if(m===null)break;var p=m.alternate;if(p===null){if(r=m.return,r!==null){s=r;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===s)return S(m),t;if(p===r)return S(m),a;p=p.sibling}throw Error(u(188))}if(s.return!==r.return)s=m,r=p;else{for(var _=!1,M=m.child;M;){if(M===s){_=!0,s=m,r=p;break}if(M===r){_=!0,r=m,s=p;break}M=M.sibling}if(!_){for(M=p.child;M;){if(M===s){_=!0,s=p,r=m;break}if(M===r){_=!0,r=p,s=m;break}M=M.sibling}if(!_)throw Error(u(189))}}if(s.alternate!==r)throw Error(u(190))}if(s.tag!==3)throw Error(u(188));return s.stateNode.current===s?t:a}function C(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=C(t),a!==null)return a;t=t.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),J=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),et=Symbol.for("react.memo"),it=Symbol.for("react.lazy"),xt=Symbol.for("react.activity"),At=Symbol.for("react.memo_cache_sentinel"),zt=Symbol.iterator;function _t(t){return t===null||typeof t!="object"?null:(t=zt&&t[zt]||t["@@iterator"],typeof t=="function"?t:null)}var jt=Symbol.for("react.client.reference");function Ut(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===jt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case w:return"Profiler";case B:return"StrictMode";case dt:return"Suspense";case rt:return"SuspenseList";case xt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case J:return t.displayName||"Context";case V:return(t._context.displayName||"Context")+".Consumer";case W:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case et:return a=t.displayName||null,a!==null?a:Ut(t.type)||"Memo";case it:a=t._payload,t=t._init;try{return Ut(t(a))}catch{}}return null}var gt=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Et=[],Ot=-1;function z(t){return{current:t}}function $(t){0>Ot||(t.current=Et[Ot],Et[Ot]=null,Ot--)}function lt(t,a){Ot++,Et[Ot]=t.current,t.current=a}var Tt=z(null),wt=z(null),Xt=z(null),fe=z(null);function Ie(t,a){switch(lt(Xt,a),lt(wt,t),lt(Tt,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?k2(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=k2(a),t=J2(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(Tt),lt(Tt,t)}function he(){$(Tt),$(wt),$(Xt)}function vl(t){t.memoizedState!==null&&lt(fe,t);var a=Tt.current,s=J2(a,t.type);a!==s&&(lt(wt,t),lt(Tt,s))}function Vi(t){wt.current===t&&($(Tt),$(wt)),fe.current===t&&($(fe),th._currentValue=ft)}var Ya,mi;function li(t){if(Ya===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);Ya=a&&a[1]||"",mi=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ya+t+mi}var Sn=!1;function bn(t,a){if(!t||Sn)return"";Sn=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(a){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(I){var k=I}Reflect.construct(t,[],nt)}else{try{nt.call()}catch(I){k=I}t.call(nt.prototype)}}else{try{throw Error()}catch(I){k=I}(nt=t())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(I){if(I&&k&&typeof I.stack=="string")return[I.stack,k.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=r.DetermineComponentFrameRoot(),_=p[0],M=p[1];if(_&&M){var U=_.split(`
`),K=M.split(`
`);for(m=r=0;r<U.length&&!U[r].includes("DetermineComponentFrameRoot");)r++;for(;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;if(r===U.length||m===K.length)for(r=U.length-1,m=K.length-1;1<=r&&0<=m&&U[r]!==K[m];)m--;for(;1<=r&&0<=m;r--,m--)if(U[r]!==K[m]){if(r!==1||m!==1)do if(r--,m--,0>m||U[r]!==K[m]){var tt=`
`+U[r].replace(" at new "," at ");return t.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",t.displayName)),tt}while(1<=r&&0<=m);break}}}finally{Sn=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?li(s):""}function jn(t,a){switch(t.tag){case 26:case 27:case 5:return li(t.type);case 16:return li("Lazy");case 13:return t.child!==a&&a!==null?li("Suspense Fallback"):li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return bn(t.type,!1);case 11:return bn(t.type.render,!1);case 1:return bn(t.type,!0);case 31:return li("Activity");default:return""}}function Qi(t){try{var a="",s=null;do a+=jn(t,s),s=t,t=t.return;while(t);return a}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var as=Object.prototype.hasOwnProperty,gi=f.unstable_scheduleCallback,Sl=f.unstable_cancelCallback,Ki=f.unstable_shouldYield,Sa=f.unstable_requestPaint,ba=f.unstable_now,st=f.unstable_getCurrentPriorityLevel,Dt=f.unstable_ImmediatePriority,Kt=f.unstable_UserBlockingPriority,We=f.unstable_NormalPriority,ha=f.unstable_LowPriority,Re=f.unstable_IdlePriority,ns=f.log,$e=f.unstable_setDisableYieldValue,Ge=null,ee=null;function la(t){if(typeof ns=="function"&&$e(t),ee&&typeof ee.setStrictMode=="function")try{ee.setStrictMode(Ge,t)}catch{}}var xn=Math.clz32?Math.clz32:Ah,Mo=Math.log,$0=Math.LN2;function Ah(t){return t>>>=0,t===0?32:31-(Mo(t)/$0|0)|0}var Wr=256,Zs=262144,is=4194304;function bl(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ls(t,a,s){var r=t.pendingLanes;if(r===0)return 0;var m=0,p=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var M=r&134217727;return M!==0?(r=M&~p,r!==0?m=bl(r):(_&=M,_!==0?m=bl(_):s||(s=M&~t,s!==0&&(m=bl(s))))):(M=r&~p,M!==0?m=bl(M):_!==0?m=bl(_):s||(s=r&~t,s!==0&&(m=bl(s)))),m===0?0:a!==0&&a!==m&&(a&p)===0&&(p=m&-m,s=a&-a,p>=s||p===32&&(s&4194048)!==0)?a:m}function ks(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function Mh(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xl(){var t=is;return is<<=1,(is&62914560)===0&&(is=4194304),t}function $r(t){for(var a=[],s=0;31>s;s++)a.push(t);return a}function Js(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function tc(t,a,s,r,m,p){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var M=t.entanglements,U=t.expirationTimes,K=t.hiddenUpdates;for(s=_&~s;0<s;){var tt=31-xn(s),nt=1<<tt;M[tt]=0,U[tt]=-1;var k=K[tt];if(k!==null)for(K[tt]=null,tt=0;tt<k.length;tt++){var I=k[tt];I!==null&&(I.lane&=-536870913)}s&=~nt}r!==0&&Fs(t,r,0),p!==0&&m===0&&t.tag!==0&&(t.suspendedLanes|=p&~(_&~a))}function Fs(t,a,s){t.pendingLanes|=a,t.suspendedLanes&=~a;var r=31-xn(a);t.entangledLanes|=a,t.entanglements[r]=t.entanglements[r]|1073741824|s&261930}function $u(t,a){var s=t.entangledLanes|=a;for(t=t.entanglements;s;){var r=31-xn(s),m=1<<r;m&a|t[r]&a&&(t[r]|=a),s&=~m}}function No(t,a){var s=a&-a;return s=(s&42)!==0?1:Ps(s),(s&(t.suspendedLanes|a))!==0?0:s}function Ps(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Is(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ec(){var t=ct.p;return t!==0?t:(t=window.event,t===void 0?32:ym(t.type))}function _l(t,a){var s=ct.p;try{return ct.p=t,a()}finally{ct.p=s}}var Zi=Math.random().toString(36).slice(2),da="__reactFiber$"+Zi,qa="__reactProps$"+Zi,Cl="__reactContainer$"+Zi,pi="__reactEvents$"+Zi,El="__reactListeners$"+Zi,tr="__reactHandles$"+Zi,ac="__reactResources$"+Zi,ki="__reactMarker$"+Zi;function ss(t){delete t[da],delete t[qa],delete t[pi],delete t[El],delete t[tr]}function us(t){var a=t[da];if(a)return a;for(var s=t.parentNode;s;){if(a=s[Cl]||s[da]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(t=em(t);t!==null;){if(s=t[da])return s;t=em(t)}return a}t=s,s=t.parentNode}return null}function rs(t){if(t=t[da]||t[Cl]){var a=t.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return t}return null}function Ws(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(u(33))}function Tl(t){var a=t[ac];return a||(a=t[ac]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ma(t){t[ki]=!0}var Ji=new Set,nc={};function Al(t,a){_n(t,a),_n(t+"Capture",a)}function _n(t,a){for(nc[t]=a,t=0;t<a.length;t++)Ji.add(a[t])}var Cn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),er={},Xe={};function Oo(t){return as.call(Xe,t)?!0:as.call(er,t)?!1:Cn.test(t)?Xe[t]=!0:(er[t]=!0,!1)}function $s(t,a,s){if(Oo(a))if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var r=a.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+s)}}function ar(t,a,s){if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+s)}}function yi(t,a,s,r){if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(a,s,""+r)}}function wn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ic(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Do(t,a,s){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,a);if(!t.hasOwnProperty(a)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var m=r.get,p=r.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return m.call(this)},set:function(_){s=""+_,p.call(this,_)}}),Object.defineProperty(t,a,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(_){s=""+_},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function nr(t){if(!t._valueTracker){var a=ic(t)?"checked":"value";t._valueTracker=Do(t,a,""+t[a])}}function Xa(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var s=a.getValue(),r="";return t&&(r=ic(t)?t.checked?"true":"false":t.value),t=r,t!==s?(a.setValue(t),!0):!1}function Be(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var lc=/[\n"\\]/g;function Va(t){return t.replace(lc,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function tu(t,a,s,r,m,p,_,M){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),a!=null?_==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+wn(a)):t.value!==""+wn(a)&&(t.value=""+wn(a)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),a!=null?si(t,_,wn(a)):s!=null?si(t,_,wn(s)):r!=null&&t.removeAttribute("value"),m==null&&p!=null&&(t.defaultChecked=!!p),m!=null&&(t.checked=m&&typeof m!="function"&&typeof m!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.name=""+wn(M):t.removeAttribute("name")}function sc(t,a,s,r,m,p,_,M){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),a!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){nr(t);return}s=s!=null?""+wn(s):"",a=a!=null?""+wn(a):s,M||a===t.value||(t.value=a),t.defaultValue=a}r=r??m,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=M?t.checked:!!r,t.defaultChecked=!!r,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),nr(t)}function si(t,a,s){a==="number"&&Be(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Fi(t,a,s,r){if(t=t.options,a){a={};for(var m=0;m<s.length;m++)a["$"+s[m]]=!0;for(s=0;s<t.length;s++)m=a.hasOwnProperty("$"+t[s].value),t[s].selected!==m&&(t[s].selected=m),m&&r&&(t[s].defaultSelected=!0)}else{for(s=""+wn(s),a=null,m=0;m<t.length;m++){if(t[m].value===s){t[m].selected=!0,r&&(t[m].defaultSelected=!0);return}a!==null||t[m].disabled||(a=t[m])}a!==null&&(a.selected=!0)}}function uc(t,a,s){if(a!=null&&(a=""+wn(a),a!==t.value&&(t.value=a),s==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=s!=null?""+wn(s):""}function rc(t,a,s,r){if(a==null){if(r!=null){if(s!=null)throw Error(u(92));if(gt(r)){if(1<r.length)throw Error(u(93));r=r[0]}s=r}s==null&&(s=""),a=s}s=wn(a),t.defaultValue=s,r=t.textContent,r===s&&r!==""&&r!==null&&(t.value=r),nr(t)}function cs(t,a){if(a){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=a;return}}t.textContent=a}var Nh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ro(t,a,s){var r=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?r?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":r?t.setProperty(a,s):typeof s!="number"||s===0||Nh.has(a)?a==="float"?t.cssFloat=s:t[a]=(""+s).trim():t[a]=s+"px"}function zo(t,a,s){if(a!=null&&typeof a!="object")throw Error(u(62));if(t=t.style,s!=null){for(var r in s)!s.hasOwnProperty(r)||a!=null&&a.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var m in a)r=a[m],a.hasOwnProperty(m)&&s[m]!==r&&Ro(t,m,r)}else for(var p in a)a.hasOwnProperty(p)&&Ro(t,p,a[p])}function cc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ir(t){return Uo.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Pi(){}var oc=null;function fc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var os=null,Ml=null;function Go(t){var a=rs(t);if(a&&(t=a.stateNode)){var s=t[qa]||null;t:switch(t=a.stateNode,a.type){case"input":if(tu(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Va(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var r=s[a];if(r!==t&&r.form===t.form){var m=r[qa]||null;if(!m)throw Error(u(90));tu(r,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<s.length;a++)r=s[a],r.form===t.form&&Xa(r)}break t;case"textarea":uc(t,s.value,s.defaultValue);break t;case"select":a=s.value,a!=null&&Fi(t,!!s.multiple,a,!1)}}}var hc=!1;function Bo(t,a,s){if(hc)return t(a,s);hc=!0;try{var r=t(a);return r}finally{if(hc=!1,(os!==null||Ml!==null)&&(fi(),os&&(a=os,t=Ml,Ml=os=null,Go(a),t)))for(a=0;a<t.length;a++)Go(t[a])}}function eu(t,a){var s=t.stateNode;if(s===null)return null;var r=s[qa]||null;if(r===null)return null;s=r[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(u(231,a,typeof s));return s}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ho=!1;if(vi)try{var au={};Object.defineProperty(au,"passive",{get:function(){Ho=!0}}),window.addEventListener("test",au,au),window.removeEventListener("test",au,au)}catch{Ho=!1}var En=null,dc=null,fs=null;function lr(){if(fs)return fs;var t,a=dc,s=a.length,r,m="value"in En?En.value:En.textContent,p=m.length;for(t=0;t<s&&a[t]===m[t];t++);var _=s-t;for(r=1;r<=_&&a[s-r]===m[p-r];r++);return fs=m.slice(t,1<r?1-r:void 0)}function sr(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function nu(){return!0}function Dh(){return!1}function Fa(t){function a(s,r,m,p,_){this._reactName=s,this._targetInst=m,this.type=r,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var M in t)t.hasOwnProperty(M)&&(s=t[M],this[M]=s?s(p):p[M]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?nu:Dh,this.isPropagationStopped=Dh,this}return E(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=nu)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=nu)},persist:function(){},isPersistent:nu}),a}var Nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ur=Fa(Nl),iu=E({},Nl,{view:0,detail:0}),Rh=Fa(iu),rr,mc,lu,su=E({},iu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==lu&&(lu&&t.type==="mousemove"?(rr=t.screenX-lu.screenX,mc=t.screenY-lu.screenY):mc=rr=0,lu=t),rr)},movementY:function(t){return"movementY"in t?t.movementY:mc}}),jo=Fa(su),zh=E({},su,{dataTransfer:0}),Uh=Fa(zh),wo=E({},iu,{relatedTarget:0}),gc=Fa(wo),Gh=E({},Nl,{animationName:0,elapsedTime:0,pseudoElement:0}),t1=Fa(Gh),e1=E({},Nl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bh=Fa(e1),cr=E({},Nl,{data:0}),pc=Fa(cr),yc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lo(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=jh[t])?!!a[t]:!1}function vc(){return Lo}var wh=E({},iu,{key:function(t){if(t.key){var a=yc[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=sr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hh[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vc,charCode:function(t){return t.type==="keypress"?sr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hs=Fa(wh),Sc=E({},su,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yo=Fa(Sc),qo=E({},iu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vc}),Lh=Fa(qo),Yh=E({},Nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),a1=Fa(Yh),Ga=E({},su,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qh=Fa(Ga),Xh=E({},Nl,{newState:0,oldState:0}),Vh=Fa(Xh),Qh=[9,13,27,32],ds=vi&&"CompositionEvent"in window,uu=null;vi&&"documentMode"in document&&(uu=document.documentMode);var bc=vi&&"TextEvent"in window&&!uu,Xo=vi&&(!ds||uu&&8<uu&&11>=uu),Kh=" ",or=!1;function xc(t,a){switch(t){case"keyup":return Qh.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ms=!1;function Zh(t,a){switch(t){case"compositionend":return Vo(a);case"keypress":return a.which!==32?null:(or=!0,Kh);case"textInput":return t=a.data,t===Kh&&or?null:t;default:return null}}function Qo(t,a){if(ms)return t==="compositionend"||!ds&&xc(t,a)?(t=lr(),fs=dc=En=null,ms=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Xo&&a.locale!=="ko"?null:a.data;default:return null}}var Ko={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zo(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!Ko[t.type]:a==="textarea"}function _c(t,a,s,r){os?Ml?Ml.push(r):Ml=[r]:os=r,a=Id(a,"onChange"),0<a.length&&(s=new ur("onChange","change",null,s,r),t.push({event:s,listeners:a}))}var Ol=null,gs=null;function kh(t){q2(t,0)}function ru(t){var a=Ws(t);if(Xa(a))return t}function ko(t,a){if(t==="change")return a}var Si=!1;if(vi){var fr;if(vi){var Jo="oninput"in document;if(!Jo){var Fo=document.createElement("div");Fo.setAttribute("oninput","return;"),Jo=typeof Fo.oninput=="function"}fr=Jo}else fr=!1;Si=fr&&(!document.documentMode||9<document.documentMode)}function Ln(){Ol&&(Ol.detachEvent("onpropertychange",hr),gs=Ol=null)}function hr(t){if(t.propertyName==="value"&&ru(gs)){var a=[];_c(a,gs,t,fc(t)),Bo(kh,a)}}function Jh(t,a,s){t==="focusin"?(Ln(),Ol=a,gs=s,Ol.attachEvent("onpropertychange",hr)):t==="focusout"&&Ln()}function Po(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ru(gs)}function Fh(t,a){if(t==="click")return ru(a)}function Ph(t,a){if(t==="input"||t==="change")return ru(a)}function Io(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var Pa=typeof Object.is=="function"?Object.is:Io;function cu(t,a){if(Pa(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var s=Object.keys(t),r=Object.keys(a);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var m=s[r];if(!as.call(a,m)||!Pa(t[m],a[m]))return!1}return!0}function dr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ou(t,a){var s=dr(t);t=0;for(var r;s;){if(s.nodeType===3){if(r=t+s.textContent.length,t<=a&&r>=a)return{node:s,offset:a-t};t=r}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=dr(s)}}function Ae(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?Ae(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function Ih(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=Be(t.document);a instanceof t.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)t=a.contentWindow;else break;a=Be(t.document)}return a}function Wo(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var Wh=vi&&"documentMode"in document&&11>=document.documentMode,bi=null,xi=null,fu=null,Cc=!1;function hu(t,a,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Cc||bi==null||bi!==Be(r)||(r=bi,"selectionStart"in r&&Wo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fu&&cu(fu,r)||(fu=r,r=Id(xi,"onSelect"),0<r.length&&(a=new ur("onSelect","select",null,a,s),t.push({event:a,listeners:r}),a.target=bi)))}function Qa(t,a){var s={};return s[t.toLowerCase()]=a.toLowerCase(),s["Webkit"+t]="webkit"+a,s["Moz"+t]="moz"+a,s}var ps={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionrun:Qa("Transition","TransitionRun"),transitionstart:Qa("Transition","TransitionStart"),transitioncancel:Qa("Transition","TransitionCancel"),transitionend:Qa("Transition","TransitionEnd")},mr={},$o={};vi&&($o=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function Ii(t){if(mr[t])return mr[t];if(!ps[t])return t;var a=ps[t],s;for(s in a)if(a.hasOwnProperty(s)&&s in $o)return mr[t]=a[s];return t}var Ec=Ii("animationend"),gr=Ii("animationiteration"),tf=Ii("animationstart"),$h=Ii("transitionrun"),n1=Ii("transitionstart"),td=Ii("transitioncancel"),ef=Ii("transitionend"),Yn=new Map,pr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pr.push("scrollEnd");function qn(t,a){Yn.set(t,a),Al(a,[t])}var yr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Xn=[],Wi=0,Aa=0;function vr(){for(var t=Wi,a=Aa=Wi=0;a<t;){var s=Xn[a];Xn[a++]=null;var r=Xn[a];Xn[a++]=null;var m=Xn[a];Xn[a++]=null;var p=Xn[a];if(Xn[a++]=null,r!==null&&m!==null){var _=r.pending;_===null?m.next=m:(m.next=_.next,_.next=m),r.pending=m}p!==0&&Dl(s,m,p)}}function Ma(t,a,s,r){Xn[Wi++]=t,Xn[Wi++]=a,Xn[Wi++]=s,Xn[Wi++]=r,Aa|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Tc(t,a,s,r){return Ma(t,a,s,r),Vn(t)}function Ia(t,a){return Ma(t,null,null,a),Vn(t)}function Dl(t,a,s){t.lanes|=s;var r=t.alternate;r!==null&&(r.lanes|=s);for(var m=!1,p=t.return;p!==null;)p.childLanes|=s,r=p.alternate,r!==null&&(r.childLanes|=s),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(m=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,m&&a!==null&&(m=31-xn(s),t=p.hiddenUpdates,r=t[m],r===null?t[m]=[a]:r.push(a),a.lane=s|536870912),p):null}function Vn(t){if(50<Fl)throw Fl=0,Bs=null,Error(u(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var Rl={};function af(t,a,s,r){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(t,a,s,r){return new af(t,a,s,r)}function Ac(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rn(t,a){var s=t.alternate;return s===null?(s=Ve(t.tag,a,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=a,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,a=t.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function du(t,a){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,a=s.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function _i(t,a,s,r,m,p){var _=0;if(r=t,typeof t=="function")Ac(t)&&(_=1);else if(typeof t=="string")_=l3(t,s,Tt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case xt:return t=Ve(31,s,a,m),t.elementType=xt,t.lanes=p,t;case X:return zl(s.children,m,p,a);case B:_=8,m|=24;break;case w:return t=Ve(12,s,a,m|2),t.elementType=w,t.lanes=p,t;case dt:return t=Ve(13,s,a,m),t.elementType=dt,t.lanes=p,t;case rt:return t=Ve(19,s,a,m),t.elementType=rt,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:_=10;break t;case V:_=9;break t;case W:_=11;break t;case et:_=14;break t;case it:_=16,r=null;break t}_=29,s=Error(u(130,t===null?"null":typeof t,"")),r=null}return a=Ve(_,s,a,m),a.elementType=t,a.type=r,a.lanes=p,a}function zl(t,a,s,r){return t=Ve(7,t,r,a),t.lanes=s,t}function Mc(t,a,s){return t=Ve(6,t,null,a),t.lanes=s,t}function mu(t){var a=Ve(18,null,null,0);return a.stateNode=t,a}function Nc(t,a,s){return a=Ve(4,t.children!==null?t.children:[],t.key,a),a.lanes=s,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var Sr=new WeakMap;function Tn(t,a){if(typeof t=="object"&&t!==null){var s=Sr.get(t);return s!==void 0?s:(a={value:t,source:a,stack:Qi(a)},Sr.set(t,a),a)}return{value:t,source:a,stack:Qi(a)}}var Ul=[],Gl=0,gu=null,pu=0,cn=[],He=0,$i=null,Qe=1,ui="";function Ci(t,a){Ul[Gl++]=pu,Ul[Gl++]=gu,gu=t,pu=a}function ed(t,a,s){cn[He++]=Qe,cn[He++]=ui,cn[He++]=$i,$i=t;var r=Qe;t=ui;var m=32-xn(r)-1;r&=~(1<<m),s+=1;var p=32-xn(a)+m;if(30<p){var _=m-m%5;p=(r&(1<<_)-1).toString(32),r>>=_,m-=_,Qe=1<<32-xn(a)+m|s<<m|r,ui=p+t}else Qe=1<<p|s<<m|r,ui=t}function Ei(t){t.return!==null&&(Ci(t,1),ed(t,1,0))}function Oc(t){for(;t===gu;)gu=Ul[--Gl],Ul[Gl]=null,pu=Ul[--Gl],Ul[Gl]=null;for(;t===$i;)$i=cn[--He],cn[He]=null,ui=cn[--He],cn[He]=null,Qe=cn[--He],cn[He]=null}function Dc(t,a){cn[He++]=Qe,cn[He++]=ui,cn[He++]=$i,Qe=a.id,ui=a.overflow,$i=t}var ta=null,Me=null,ue=!1,tl=null,An=!1,yu=Error(u(519));function Ti(t){var a=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ai(Tn(a,t)),yu}function ad(t){var a=t.stateNode,s=t.type,r=t.memoizedProps;switch(a[da]=t,a[qa]=r,s){case"dialog":oe("cancel",a),oe("close",a);break;case"iframe":case"object":case"embed":oe("load",a);break;case"video":case"audio":for(s=0;s<ai.length;s++)oe(ai[s],a);break;case"source":oe("error",a);break;case"img":case"image":case"link":oe("error",a),oe("load",a);break;case"details":oe("toggle",a);break;case"input":oe("invalid",a),sc(a,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":oe("invalid",a);break;case"textarea":oe("invalid",a),rc(a,r.value,r.defaultValue,r.children)}s=r.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||r.suppressHydrationWarning===!0||K2(a.textContent,s)?(r.popover!=null&&(oe("beforetoggle",a),oe("toggle",a)),r.onScroll!=null&&oe("scroll",a),r.onScrollEnd!=null&&oe("scrollend",a),r.onClick!=null&&(a.onclick=Pi),a=!0):a=!1,a||Ti(t,!0)}function nd(t){for(ta=t.return;ta;)switch(ta.tag){case 5:case 31:case 13:An=!1;return;case 27:case 3:An=!0;return;default:ta=ta.return}}function vu(t){if(t!==ta)return!1;if(!ue)return nd(t),ue=!0,!1;var a=t.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||S1(t.type,t.memoizedProps)),s=!s),s&&Me&&Ti(t),nd(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(317));Me=tm(t)}else if(a===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(317));Me=tm(t)}else a===27?(a=Me,wu(t.type)?(t=E1,E1=null,Me=t):Me=a):Me=ta?Yi(t.stateNode.nextSibling):null;return!0}function Bl(){Me=ta=null,ue=!1}function Rc(){var t=tl;return t!==null&&(aa===null?aa=t:aa.push.apply(aa,t),tl=null),t}function Ai(t){tl===null?tl=[t]:tl.push(t)}var Su=z(null),Hl=null,Mi=null;function el(t,a,s){lt(Su,a._currentValue),a._currentValue=s}function Ni(t){t._currentValue=Su.current,$(Su)}function zc(t,a,s){for(;t!==null;){var r=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,r!==null&&(r.childLanes|=a)):r!==null&&(r.childLanes&a)!==a&&(r.childLanes|=a),t===s)break;t=t.return}}function Uc(t,a,s,r){var m=t.child;for(m!==null&&(m.return=t);m!==null;){var p=m.dependencies;if(p!==null){var _=m.child;p=p.firstContext;t:for(;p!==null;){var M=p;p=m;for(var U=0;U<a.length;U++)if(M.context===a[U]){p.lanes|=s,M=p.alternate,M!==null&&(M.lanes|=s),zc(p.return,s,t),r||(_=null);break t}p=M.next}}else if(m.tag===18){if(_=m.return,_===null)throw Error(u(341));_.lanes|=s,p=_.alternate,p!==null&&(p.lanes|=s),zc(_,s,t),_=null}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===t){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}}function Oi(t,a,s,r){t=null;for(var m=a,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var _=m.alternate;if(_===null)throw Error(u(387));if(_=_.memoizedProps,_!==null){var M=m.type;Pa(m.pendingProps.value,_.value)||(t!==null?t.push(M):t=[M])}}else if(m===fe.current){if(_=m.alternate,_===null)throw Error(u(387));_.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(t!==null?t.push(th):t=[th])}m=m.return}t!==null&&Uc(a,t,s,r),a.flags|=262144}function br(t){for(t=t.firstContext;t!==null;){if(!Pa(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function jl(t){Hl=t,Mi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return id(Hl,t)}function bu(t,a){return Hl===null&&jl(t),id(t,a)}function id(t,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},Mi===null){if(t===null)throw Error(u(308));Mi=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else Mi=Mi.next=a;return s}var ld=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(s,r){t.push(r)}};this.abort=function(){a.aborted=!0,t.forEach(function(s){return s()})}},i1=f.unstable_scheduleCallback,l1=f.unstable_NormalPriority,ga={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new ld,data:new Map,refCount:0}}function ys(t){t.refCount--,t.refCount===0&&i1(l1,function(){t.controller.abort()})}var Mn=null,Gc=0,al=0,Qn=null;function lf(t,a){if(Mn===null){var s=Mn=[];Gc=0,al=F(),Qn={status:"pending",value:void 0,then:function(r){s.push(r)}}}return Gc++,a.then(sf,sf),a}function sf(){if(--Gc===0&&Mn!==null){Qn!==null&&(Qn.status="fulfilled");var t=Mn;Mn=null,al=0,Qn=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function uf(t,a){var s=[],r={status:"pending",value:null,reason:null,then:function(m){s.push(m)}};return t.then(function(){r.status="fulfilled",r.value=a;for(var m=0;m<s.length;m++)(0,s[m])(a)},function(m){for(r.status="rejected",r.reason=m,m=0;m<s.length;m++)(0,s[m])(void 0)}),r}var sd=H.S;H.S=function(t,a){Jf=ba(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&lf(t,a),sd!==null&&sd(t,a)};var wl=z(null);function Bc(){var t=wl.current;return t!==null?t:Vt.pooledCache}function xr(t,a){a===null?lt(wl,wl.current):lt(wl,a.pool)}function rf(){var t=Bc();return t===null?null:{parent:ga._currentValue,pool:t}}var vs=Error(u(460)),_r=Error(u(474)),It=Error(u(542)),Hc={then:function(){}};function on(t){return t=t.status,t==="fulfilled"||t==="rejected"}function jc(t,a,s){switch(s=t[s],s===void 0?t.push(a):s!==a&&(a.then(Pi,Pi),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,xs(t),t;default:if(typeof a.status=="string")a.then(Pi,Pi);else{if(t=Vt,t!==null&&100<t.shellSuspendCounter)throw Error(u(482));t=a,t.status="pending",t.then(function(r){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=r}},function(r){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=r}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,xs(t),t}throw Di=a,vs}}function Ss(t){try{var a=t._init;return a(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Di=s,vs):s}}var Di=null;function bs(){if(Di===null)throw Error(u(459));var t=Di;return Di=null,t}function xs(t){if(t===vs||t===It)throw Error(u(483))}var _s=null,Cs=0;function Cr(t){var a=Cs;return Cs+=1,_s===null&&(_s=[]),jc(_s,t,a)}function Kn(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function xu(t,a){throw a.$$typeof===T?Error(u(525)):(t=Object.prototype.toString.call(a),Error(u(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function wc(t){function a(L,j){if(t){var Q=L.deletions;Q===null?(L.deletions=[j],L.flags|=16):Q.push(j)}}function s(L,j){if(!t)return null;for(;j!==null;)a(L,j),j=j.sibling;return null}function r(L){for(var j=new Map;L!==null;)L.key!==null?j.set(L.key,L):j.set(L.index,L),L=L.sibling;return j}function m(L,j){return L=rn(L,j),L.index=0,L.sibling=null,L}function p(L,j,Q){return L.index=Q,t?(Q=L.alternate,Q!==null?(Q=Q.index,Q<j?(L.flags|=67108866,j):Q):(L.flags|=67108866,j)):(L.flags|=1048576,j)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function M(L,j,Q,at){return j===null||j.tag!==6?(j=Mc(Q,L.mode,at),j.return=L,j):(j=m(j,Q),j.return=L,j)}function U(L,j,Q,at){var Bt=Q.type;return Bt===X?tt(L,j,Q.props.children,at,Q.key):j!==null&&(j.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===it&&Ss(Bt)===j.type)?(j=m(j,Q.props),Kn(j,Q),j.return=L,j):(j=_i(Q.type,Q.key,Q.props,null,L.mode,at),Kn(j,Q),j.return=L,j)}function K(L,j,Q,at){return j===null||j.tag!==4||j.stateNode.containerInfo!==Q.containerInfo||j.stateNode.implementation!==Q.implementation?(j=Nc(Q,L.mode,at),j.return=L,j):(j=m(j,Q.children||[]),j.return=L,j)}function tt(L,j,Q,at,Bt){return j===null||j.tag!==7?(j=zl(Q,L.mode,at,Bt),j.return=L,j):(j=m(j,Q),j.return=L,j)}function nt(L,j,Q){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Mc(""+j,L.mode,Q),j.return=L,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case D:return Q=_i(j.type,j.key,j.props,null,L.mode,Q),Kn(Q,j),Q.return=L,Q;case N:return j=Nc(j,L.mode,Q),j.return=L,j;case it:return j=Ss(j),nt(L,j,Q)}if(gt(j)||_t(j))return j=zl(j,L.mode,Q,null),j.return=L,j;if(typeof j.then=="function")return nt(L,Cr(j),Q);if(j.$$typeof===J)return nt(L,bu(L,j),Q);xu(L,j)}return null}function k(L,j,Q,at){var Bt=j!==null?j.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Bt!==null?null:M(L,j,""+Q,at);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case D:return Q.key===Bt?U(L,j,Q,at):null;case N:return Q.key===Bt?K(L,j,Q,at):null;case it:return Q=Ss(Q),k(L,j,Q,at)}if(gt(Q)||_t(Q))return Bt!==null?null:tt(L,j,Q,at,null);if(typeof Q.then=="function")return k(L,j,Cr(Q),at);if(Q.$$typeof===J)return k(L,j,bu(L,Q),at);xu(L,Q)}return null}function I(L,j,Q,at,Bt){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return L=L.get(Q)||null,M(j,L,""+at,Bt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case D:return L=L.get(at.key===null?Q:at.key)||null,U(j,L,at,Bt);case N:return L=L.get(at.key===null?Q:at.key)||null,K(j,L,at,Bt);case it:return at=Ss(at),I(L,j,Q,at,Bt)}if(gt(at)||_t(at))return L=L.get(Q)||null,tt(j,L,at,Bt,null);if(typeof at.then=="function")return I(L,j,Q,Cr(at),Bt);if(at.$$typeof===J)return I(L,j,Q,bu(j,at),Bt);xu(j,at)}return null}function Mt(L,j,Q,at){for(var Bt=null,ve=null,Nt=j,te=j=0,me=null;Nt!==null&&te<Q.length;te++){Nt.index>te?(me=Nt,Nt=null):me=Nt.sibling;var Se=k(L,Nt,Q[te],at);if(Se===null){Nt===null&&(Nt=me);break}t&&Nt&&Se.alternate===null&&a(L,Nt),j=p(Se,j,te),ve===null?Bt=Se:ve.sibling=Se,ve=Se,Nt=me}if(te===Q.length)return s(L,Nt),ue&&Ci(L,te),Bt;if(Nt===null){for(;te<Q.length;te++)Nt=nt(L,Q[te],at),Nt!==null&&(j=p(Nt,j,te),ve===null?Bt=Nt:ve.sibling=Nt,ve=Nt);return ue&&Ci(L,te),Bt}for(Nt=r(Nt);te<Q.length;te++)me=I(Nt,L,te,Q[te],at),me!==null&&(t&&me.alternate!==null&&Nt.delete(me.key===null?te:me.key),j=p(me,j,te),ve===null?Bt=me:ve.sibling=me,ve=me);return t&&Nt.forEach(function(Vu){return a(L,Vu)}),ue&&Ci(L,te),Bt}function Yt(L,j,Q,at){if(Q==null)throw Error(u(151));for(var Bt=null,ve=null,Nt=j,te=j=0,me=null,Se=Q.next();Nt!==null&&!Se.done;te++,Se=Q.next()){Nt.index>te?(me=Nt,Nt=null):me=Nt.sibling;var Vu=k(L,Nt,Se.value,at);if(Vu===null){Nt===null&&(Nt=me);break}t&&Nt&&Vu.alternate===null&&a(L,Nt),j=p(Vu,j,te),ve===null?Bt=Vu:ve.sibling=Vu,ve=Vu,Nt=me}if(Se.done)return s(L,Nt),ue&&Ci(L,te),Bt;if(Nt===null){for(;!Se.done;te++,Se=Q.next())Se=nt(L,Se.value,at),Se!==null&&(j=p(Se,j,te),ve===null?Bt=Se:ve.sibling=Se,ve=Se);return ue&&Ci(L,te),Bt}for(Nt=r(Nt);!Se.done;te++,Se=Q.next())Se=I(Nt,L,te,Se.value,at),Se!==null&&(t&&Se.alternate!==null&&Nt.delete(Se.key===null?te:Se.key),j=p(Se,j,te),ve===null?Bt=Se:ve.sibling=Se,ve=Se);return t&&Nt.forEach(function(p3){return a(L,p3)}),ue&&Ci(L,te),Bt}function De(L,j,Q,at){if(typeof Q=="object"&&Q!==null&&Q.type===X&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case D:t:{for(var Bt=Q.key;j!==null;){if(j.key===Bt){if(Bt=Q.type,Bt===X){if(j.tag===7){s(L,j.sibling),at=m(j,Q.props.children),at.return=L,L=at;break t}}else if(j.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===it&&Ss(Bt)===j.type){s(L,j.sibling),at=m(j,Q.props),Kn(at,Q),at.return=L,L=at;break t}s(L,j);break}else a(L,j);j=j.sibling}Q.type===X?(at=zl(Q.props.children,L.mode,at,Q.key),at.return=L,L=at):(at=_i(Q.type,Q.key,Q.props,null,L.mode,at),Kn(at,Q),at.return=L,L=at)}return _(L);case N:t:{for(Bt=Q.key;j!==null;){if(j.key===Bt)if(j.tag===4&&j.stateNode.containerInfo===Q.containerInfo&&j.stateNode.implementation===Q.implementation){s(L,j.sibling),at=m(j,Q.children||[]),at.return=L,L=at;break t}else{s(L,j);break}else a(L,j);j=j.sibling}at=Nc(Q,L.mode,at),at.return=L,L=at}return _(L);case it:return Q=Ss(Q),De(L,j,Q,at)}if(gt(Q))return Mt(L,j,Q,at);if(_t(Q)){if(Bt=_t(Q),typeof Bt!="function")throw Error(u(150));return Q=Bt.call(Q),Yt(L,j,Q,at)}if(typeof Q.then=="function")return De(L,j,Cr(Q),at);if(Q.$$typeof===J)return De(L,j,bu(L,Q),at);xu(L,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,j!==null&&j.tag===6?(s(L,j.sibling),at=m(j,Q),at.return=L,L=at):(s(L,j),at=Mc(Q,L.mode,at),at.return=L,L=at),_(L)):s(L,j)}return function(L,j,Q,at){try{Cs=0;var Bt=De(L,j,Q,at);return _s=null,Bt}catch(Nt){if(Nt===vs||Nt===It)throw Nt;var ve=Ve(29,Nt,null,L.mode);return ve.lanes=at,ve.return=L,ve}finally{}}}var nl=wc(!0),Lc=wc(!1),Wa=!1;function Er(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cf(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function il(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ll(t,a,s){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Rt&2)!==0){var m=r.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),r.pending=a,a=Vn(t),Dl(t,null,s),a}return Ma(t,r,a,s),Vn(t)}function Yl(t,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var r=a.lanes;r&=t.pendingLanes,s|=r,a.lanes=s,$u(t,s)}}function Gt(t,a){var s=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var m=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?m=p=_:p=p.next=_,s=s.next}while(s!==null);p===null?m=p=a:p=p.next=a}else m=p=a;s={baseState:r.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:r.shared,callbacks:r.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=a:t.next=a,s.lastBaseUpdate=a}var of=!1;function Tr(){if(of){var t=Qn;if(t!==null)throw t}}function _u(t,a,s,r){of=!1;var m=t.updateQueue;Wa=!1;var p=m.firstBaseUpdate,_=m.lastBaseUpdate,M=m.shared.pending;if(M!==null){m.shared.pending=null;var U=M,K=U.next;U.next=null,_===null?p=K:_.next=K,_=U;var tt=t.alternate;tt!==null&&(tt=tt.updateQueue,M=tt.lastBaseUpdate,M!==_&&(M===null?tt.firstBaseUpdate=K:M.next=K,tt.lastBaseUpdate=U))}if(p!==null){var nt=m.baseState;_=0,tt=K=U=null,M=p;do{var k=M.lane&-536870913,I=k!==M.lane;if(I?(Pt&k)===k:(r&k)===k){k!==0&&k===al&&(of=!0),tt!==null&&(tt=tt.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});t:{var Mt=t,Yt=M;k=a;var De=s;switch(Yt.tag){case 1:if(Mt=Yt.payload,typeof Mt=="function"){nt=Mt.call(De,nt,k);break t}nt=Mt;break t;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=Yt.payload,k=typeof Mt=="function"?Mt.call(De,nt,k):Mt,k==null)break t;nt=E({},nt,k);break t;case 2:Wa=!0}}k=M.callback,k!==null&&(t.flags|=64,I&&(t.flags|=8192),I=m.callbacks,I===null?m.callbacks=[k]:I.push(k))}else I={lane:k,tag:M.tag,payload:M.payload,callback:M.callback,next:null},tt===null?(K=tt=I,U=nt):tt=tt.next=I,_|=k;if(M=M.next,M===null){if(M=m.shared.pending,M===null)break;I=M,M=I.next,I.next=null,m.lastBaseUpdate=I,m.shared.pending=null}}while(!0);tt===null&&(U=nt),m.baseState=U,m.firstBaseUpdate=K,m.lastBaseUpdate=tt,p===null&&(m.shared.lanes=0),ji|=_,t.lanes=_,t.memoizedState=nt}}function Cu(t,a){if(typeof t!="function")throw Error(u(191,t));t.call(a)}function ud(t,a){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Cu(s[t],a)}var Eu=z(null),Yc=z(0);function rd(t,a){t=Rn,lt(Yc,t),lt(Eu,a),Rn=t|a.baseLanes}function ff(){lt(Yc,Rn),lt(Eu,Eu.current)}function Ar(){Rn=Yc.current,$(Eu),$(Yc)}var fn=z(null),$a=null;function ll(t){var a=t.alternate;lt(re,re.current&1),lt(fn,t),$a===null&&(a===null||Eu.current!==null||a.memoizedState!==null)&&($a=t)}function hf(t){lt(re,re.current),lt(fn,t),$a===null&&($a=t)}function cd(t){t.tag===22?(lt(re,re.current),lt(fn,t),$a===null&&($a=t)):hn()}function hn(){lt(re,re.current),lt(fn,fn.current)}function sa(t){$(fn),$a===t&&($a=null),$(re)}var re=z(0);function Nn(t){for(var a=t;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||_1(s)||C1(s)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var je=0,kt=null,Ee=null,ie=null,Zn=!1,Tu=!1,Es=!1,qc=0,Mr=0,Au=null,df=0;function Ke(){throw Error(u(321))}function mf(t,a){if(a===null)return!1;for(var s=0;s<a.length&&s<t.length;s++)if(!Pa(t[s],a[s]))return!1;return!0}function Xc(t,a,s,r,m,p){return je=p,kt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,H.H=t===null||t.memoizedState===null?qd:Gf,Es=!1,p=s(r,m),Es=!1,Tu&&(p=Ts(a,s,r,m)),od(t),p}function od(t){H.H=Mu;var a=Ee!==null&&Ee.next!==null;if(je=0,ie=Ee=kt=null,Zn=!1,Mr=0,Au=null,a)throw Error(u(300));t===null||pa||(t=t.dependencies,t!==null&&br(t)&&(pa=!0))}function Ts(t,a,s,r){kt=t;var m=0;do{if(Tu&&(Au=null),Mr=0,Tu=!1,25<=m)throw Error(u(301));if(m+=1,ie=Ee=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}H.H=kn,p=a(s,r)}while(Tu);return p}function As(){var t=H.H,a=t.useState()[0];return a=typeof a.then=="function"?Nr(a):a,t=t.useState()[0],(Ee!==null?Ee.memoizedState:null)!==t&&(kt.flags|=1024),a}function gf(){var t=qc!==0;return qc=0,t}function pf(t,a,s){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~s}function yf(t){if(Zn){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}Zn=!1}je=0,ie=Ee=kt=null,Tu=!1,Mr=qc=0,Au=null}function xa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?kt.memoizedState=ie=t:ie=ie.next=t,ie}function ua(){if(Ee===null){var t=kt.alternate;t=t!==null?t.memoizedState:null}else t=Ee.next;var a=ie===null?kt.memoizedState:ie.next;if(a!==null)ie=a,Ee=t;else{if(t===null)throw kt.alternate===null?Error(u(467)):Error(u(310));Ee=t,t={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},ie===null?kt.memoizedState=ie=t:ie=ie.next=t}return ie}function Vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nr(t){var a=Mr;return Mr+=1,Au===null&&(Au=[]),t=jc(Au,t,a),a=kt,(ie===null?a.memoizedState:ie.next)===null&&(a=a.alternate,H.H=a===null||a.memoizedState===null?qd:Gf),t}function ql(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Nr(t);if(t.$$typeof===J)return qt(t)}throw Error(u(438,String(t)))}function vf(t){var a=null,s=kt.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var r=kt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(a={data:r.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=Vc(),kt.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(t),r=0;r<t;r++)s[r]=At;return a.index++,s}function sl(t,a){return typeof a=="function"?a(t):a}function Qc(t){var a=ua();return Sf(a,Ee,t)}function Sf(t,a,s){var r=t.queue;if(r===null)throw Error(u(311));r.lastRenderedReducer=s;var m=t.baseQueue,p=r.pending;if(p!==null){if(m!==null){var _=m.next;m.next=p.next,p.next=_}a.baseQueue=m=p,r.pending=null}if(p=t.baseState,m===null)t.memoizedState=p;else{a=m.next;var M=_=null,U=null,K=a,tt=!1;do{var nt=K.lane&-536870913;if(nt!==K.lane?(Pt&nt)===nt:(je&nt)===nt){var k=K.revertLane;if(k===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),nt===al&&(tt=!0);else if((je&k)===k){K=K.next,k===al&&(tt=!0);continue}else nt={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},U===null?(M=U=nt,_=p):U=U.next=nt,kt.lanes|=k,ji|=k;nt=K.action,Es&&s(p,nt),p=K.hasEagerState?K.eagerState:s(p,nt)}else k={lane:nt,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},U===null?(M=U=k,_=p):U=U.next=k,kt.lanes|=nt,ji|=nt;K=K.next}while(K!==null&&K!==a);if(U===null?_=p:U.next=M,!Pa(p,t.memoizedState)&&(pa=!0,tt&&(s=Qn,s!==null)))throw s;t.memoizedState=p,t.baseState=_,t.baseQueue=U,r.lastRenderedState=p}return m===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function bf(t){var a=ua(),s=a.queue;if(s===null)throw Error(u(311));s.lastRenderedReducer=t;var r=s.dispatch,m=s.pending,p=a.memoizedState;if(m!==null){s.pending=null;var _=m=m.next;do p=t(p,_.action),_=_.next;while(_!==m);Pa(p,a.memoizedState)||(pa=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),s.lastRenderedState=p}return[p,r]}function fd(t,a,s){var r=kt,m=ua(),p=ue;if(p){if(s===void 0)throw Error(u(407));s=s()}else s=a();var _=!Pa((Ee||m).memoizedState,s);if(_&&(m.memoizedState=s,pa=!0),m=m.queue,Nf(md.bind(null,r,m,t),[t]),m.getSnapshot!==a||_||ie!==null&&ie.memoizedState.tag&1){if(r.flags|=2048,Xl(9,{destroy:void 0},dd.bind(null,r,m,s,a),null),Vt===null)throw Error(u(349));p||(je&127)!==0||hd(r,a,s)}return s}function hd(t,a,s){t.flags|=16384,t={getSnapshot:a,value:s},a=kt.updateQueue,a===null?(a=Vc(),kt.updateQueue=a,a.stores=[t]):(s=a.stores,s===null?a.stores=[t]:s.push(t))}function dd(t,a,s,r){a.value=s,a.getSnapshot=r,gd(a)&&pd(t)}function md(t,a,s){return s(function(){gd(a)&&pd(t)})}function gd(t){var a=t.getSnapshot;t=t.value;try{var s=a();return!Pa(t,s)}catch{return!0}}function pd(t){var a=Ia(t,2);a!==null&&$t(a,t,2)}function xf(t){var a=xa();if(typeof t=="function"){var s=t;if(t=s(),Es){la(!0);try{s()}finally{la(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:t},a}function _f(t,a,s,r){return t.baseState=s,Sf(t,Ee,typeof r=="function"?r:sl)}function s1(t,a,s,r,m){if(Jc(t))throw Error(u(485));if(t=a.action,t!==null){var p={payload:m,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){p.listeners.push(_)}};H.T!==null?s(!0):p.isTransition=!1,r(p),s=a.pending,s===null?(p.next=a.pending=p,yd(a,p)):(p.next=s.next,a.pending=s.next=p)}}function yd(t,a){var s=a.action,r=a.payload,m=t.state;if(a.isTransition){var p=H.T,_={};H.T=_;try{var M=s(m,r),U=H.S;U!==null&&U(_,M),vd(t,a,M)}catch(K){Cf(t,a,K)}finally{p!==null&&_.types!==null&&(p.types=_.types),H.T=p}}else try{p=s(m,r),vd(t,a,p)}catch(K){Cf(t,a,K)}}function vd(t,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(r){Sd(t,a,r)},function(r){return Cf(t,a,r)}):Sd(t,a,s)}function Sd(t,a,s){a.status="fulfilled",a.value=s,bd(a),t.state=s,a=t.pending,a!==null&&(s=a.next,s===a?t.pending=null:(s=s.next,a.next=s,yd(t,s)))}function Cf(t,a,s){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do a.status="rejected",a.reason=s,bd(a),a=a.next;while(a!==r)}t.action=null}function bd(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function Ef(t,a){return a}function Tf(t,a){if(ue){var s=Vt.formState;if(s!==null){t:{var r=kt;if(ue){if(Me){e:{for(var m=Me,p=An;m.nodeType!==8;){if(!p){m=null;break e}if(m=Yi(m.nextSibling),m===null){m=null;break e}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){Me=Yi(m.nextSibling),r=m.data==="F!";break t}}Ti(r)}r=!1}r&&(a=s[0])}}return s=xa(),s.memoizedState=s.baseState=a,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ef,lastRenderedState:a},s.queue=r,s=wd.bind(null,kt,r),r.dispatch=s,r=xf(!1),p=Uf.bind(null,kt,!1,r.queue),r=xa(),m={state:a,dispatch:null,action:t,pending:null},r.queue=m,s=s1.bind(null,kt,m,p,s),m.dispatch=s,r.memoizedState=t,[a,s,!1]}function xd(t){var a=ua();return Af(a,Ee,t)}function Af(t,a,s){if(a=Sf(t,a,Ef)[0],t=Qc(sl)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var r=Nr(a)}catch(_){throw _===vs?It:_}else r=a;a=ua();var m=a.queue,p=m.dispatch;return s!==a.memoizedState&&(kt.flags|=2048,Xl(9,{destroy:void 0},_d.bind(null,m,s),null)),[r,p,t]}function _d(t,a){t.action=a}function Mf(t){var a=ua(),s=Ee;if(s!==null)return Af(a,s,t);ua(),a=a.memoizedState,s=ua();var r=s.queue.dispatch;return s.memoizedState=t,[a,r,!1]}function Xl(t,a,s,r){return t={tag:t,create:s,deps:r,inst:a,next:null},a=kt.updateQueue,a===null&&(a=Vc(),kt.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=t.next=t:(r=s.next,s.next=t,t.next=r,a.lastEffect=t),t}function Kc(){return ua().memoizedState}function Zc(t,a,s,r){var m=xa();kt.flags|=t,m.memoizedState=Xl(1|a,{destroy:void 0},s,r===void 0?null:r)}function kc(t,a,s,r){var m=ua();r=r===void 0?null:r;var p=m.memoizedState.inst;Ee!==null&&r!==null&&mf(r,Ee.memoizedState.deps)?m.memoizedState=Xl(a,p,s,r):(kt.flags|=t,m.memoizedState=Xl(1|a,p,s,r))}function Cd(t,a){Zc(8390656,8,t,a)}function Nf(t,a){kc(2048,8,t,a)}function Ed(t){kt.flags|=4;var a=kt.updateQueue;if(a===null)a=Vc(),kt.updateQueue=a,a.events=[t];else{var s=a.events;s===null?a.events=[t]:s.push(t)}}function Td(t){var a=ua().memoizedState;return Ed({ref:a,nextImpl:t}),function(){if((Rt&2)!==0)throw Error(u(440));return a.impl.apply(void 0,arguments)}}function Ad(t,a){return kc(4,2,t,a)}function Md(t,a){return kc(4,4,t,a)}function Nd(t,a){if(typeof a=="function"){t=t();var s=a(t);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function Od(t,a,s){s=s!=null?s.concat([t]):null,kc(4,4,Nd.bind(null,a,t),s)}function Of(){}function Dd(t,a){var s=ua();a=a===void 0?null:a;var r=s.memoizedState;return a!==null&&mf(a,r[1])?r[0]:(s.memoizedState=[t,a],t)}function Rd(t,a){var s=ua();a=a===void 0?null:a;var r=s.memoizedState;if(a!==null&&mf(a,r[1]))return r[0];if(r=t(),Es){la(!0);try{t()}finally{la(!1)}}return s.memoizedState=[r,a],r}function Df(t,a,s){return s===void 0||(je&1073741824)!==0&&(Pt&261930)===0?t.memoizedState=a:(t.memoizedState=s,t=ae(),kt.lanes|=t,ji|=t,s)}function zd(t,a,s,r){return Pa(s,a)?s:Eu.current!==null?(t=Df(t,s,r),Pa(t,a)||(pa=!0),t):(je&42)===0||(je&1073741824)!==0&&(Pt&261930)===0?(pa=!0,t.memoizedState=s):(t=ae(),kt.lanes|=t,ji|=t,a)}function Ud(t,a,s,r,m){var p=ct.p;ct.p=p!==0&&8>p?p:8;var _=H.T,M={};H.T=M,Uf(t,!1,a,s);try{var U=m(),K=H.S;if(K!==null&&K(M,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var tt=uf(U,r);Or(t,a,tt,Un(t))}else Or(t,a,r,Un(t))}catch(nt){Or(t,a,{then:function(){},status:"rejected",reason:nt},Un())}finally{ct.p=p,_!==null&&M.types!==null&&(_.types=M.types),H.T=_}}function u1(){}function Rf(t,a,s,r){if(t.tag!==5)throw Error(u(476));var m=Gd(t).queue;Ud(t,m,a,ft,s===null?u1:function(){return Bd(t),s(r)})}function Gd(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:ft},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:s},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function Bd(t){var a=Gd(t);a.next===null&&(a=t.alternate.memoizedState),Or(t,a.next.queue,{},Un())}function zf(){return qt(th)}function Hd(){return ua().memoizedState}function jd(){return ua().memoizedState}function r1(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var s=Un();t=il(s);var r=Ll(a,t,s);r!==null&&($t(r,a,s),Yl(r,a,s)),a={cache:nf()},t.payload=a;return}a=a.return}}function c1(t,a,s){var r=Un();s={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Jc(t)?Ld(a,s):(s=Tc(t,a,s,r),s!==null&&($t(s,t,r),Yd(s,a,r)))}function wd(t,a,s){var r=Un();Or(t,a,s,r)}function Or(t,a,s,r){var m={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Jc(t))Ld(a,m);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var _=a.lastRenderedState,M=p(_,s);if(m.hasEagerState=!0,m.eagerState=M,Pa(M,_))return Ma(t,a,m,0),Vt===null&&vr(),!1}catch{}finally{}if(s=Tc(t,a,m,r),s!==null)return $t(s,t,r),Yd(s,a,r),!0}return!1}function Uf(t,a,s,r){if(r={lane:2,revertLane:F(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Jc(t)){if(a)throw Error(u(479))}else a=Tc(t,s,r,2),a!==null&&$t(a,t,2)}function Jc(t){var a=t.alternate;return t===kt||a!==null&&a===kt}function Ld(t,a){Tu=Zn=!0;var s=t.pending;s===null?a.next=a:(a.next=s.next,s.next=a),t.pending=a}function Yd(t,a,s){if((s&4194048)!==0){var r=a.lanes;r&=t.pendingLanes,s|=r,a.lanes=s,$u(t,s)}}var Mu={readContext:qt,use:ql,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};Mu.useEffectEvent=Ke;var qd={readContext:qt,use:ql,useCallback:function(t,a){return xa().memoizedState=[t,a===void 0?null:a],t},useContext:qt,useEffect:Cd,useImperativeHandle:function(t,a,s){s=s!=null?s.concat([t]):null,Zc(4194308,4,Nd.bind(null,a,t),s)},useLayoutEffect:function(t,a){return Zc(4194308,4,t,a)},useInsertionEffect:function(t,a){Zc(4,2,t,a)},useMemo:function(t,a){var s=xa();a=a===void 0?null:a;var r=t();if(Es){la(!0);try{t()}finally{la(!1)}}return s.memoizedState=[r,a],r},useReducer:function(t,a,s){var r=xa();if(s!==void 0){var m=s(a);if(Es){la(!0);try{s(a)}finally{la(!1)}}}else m=a;return r.memoizedState=r.baseState=m,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:m},r.queue=t,t=t.dispatch=c1.bind(null,kt,t),[r.memoizedState,t]},useRef:function(t){var a=xa();return t={current:t},a.memoizedState=t},useState:function(t){t=xf(t);var a=t.queue,s=wd.bind(null,kt,a);return a.dispatch=s,[t.memoizedState,s]},useDebugValue:Of,useDeferredValue:function(t,a){var s=xa();return Df(s,t,a)},useTransition:function(){var t=xf(!1);return t=Ud.bind(null,kt,t.queue,!0,!1),xa().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,s){var r=kt,m=xa();if(ue){if(s===void 0)throw Error(u(407));s=s()}else{if(s=a(),Vt===null)throw Error(u(349));(Pt&127)!==0||hd(r,a,s)}m.memoizedState=s;var p={value:s,getSnapshot:a};return m.queue=p,Cd(md.bind(null,r,p,t),[t]),r.flags|=2048,Xl(9,{destroy:void 0},dd.bind(null,r,p,s,a),null),s},useId:function(){var t=xa(),a=Vt.identifierPrefix;if(ue){var s=ui,r=Qe;s=(r&~(1<<32-xn(r)-1)).toString(32)+s,a="_"+a+"R_"+s,s=qc++,0<s&&(a+="H"+s.toString(32)),a+="_"}else s=df++,a="_"+a+"r_"+s.toString(32)+"_";return t.memoizedState=a},useHostTransitionStatus:zf,useFormState:Tf,useActionState:Tf,useOptimistic:function(t){var a=xa();a.memoizedState=a.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=Uf.bind(null,kt,!0,s),s.dispatch=a,[t,a]},useMemoCache:vf,useCacheRefresh:function(){return xa().memoizedState=r1.bind(null,kt)},useEffectEvent:function(t){var a=xa(),s={impl:t};return a.memoizedState=s,function(){if((Rt&2)!==0)throw Error(u(440));return s.impl.apply(void 0,arguments)}}},Gf={readContext:qt,use:ql,useCallback:Dd,useContext:qt,useEffect:Nf,useImperativeHandle:Od,useInsertionEffect:Ad,useLayoutEffect:Md,useMemo:Rd,useReducer:Qc,useRef:Kc,useState:function(){return Qc(sl)},useDebugValue:Of,useDeferredValue:function(t,a){var s=ua();return zd(s,Ee.memoizedState,t,a)},useTransition:function(){var t=Qc(sl)[0],a=ua().memoizedState;return[typeof t=="boolean"?t:Nr(t),a]},useSyncExternalStore:fd,useId:Hd,useHostTransitionStatus:zf,useFormState:xd,useActionState:xd,useOptimistic:function(t,a){var s=ua();return _f(s,Ee,t,a)},useMemoCache:vf,useCacheRefresh:jd};Gf.useEffectEvent=Td;var kn={readContext:qt,use:ql,useCallback:Dd,useContext:qt,useEffect:Nf,useImperativeHandle:Od,useInsertionEffect:Ad,useLayoutEffect:Md,useMemo:Rd,useReducer:bf,useRef:Kc,useState:function(){return bf(sl)},useDebugValue:Of,useDeferredValue:function(t,a){var s=ua();return Ee===null?Df(s,t,a):zd(s,Ee.memoizedState,t,a)},useTransition:function(){var t=bf(sl)[0],a=ua().memoizedState;return[typeof t=="boolean"?t:Nr(t),a]},useSyncExternalStore:fd,useId:Hd,useHostTransitionStatus:zf,useFormState:Mf,useActionState:Mf,useOptimistic:function(t,a){var s=ua();return Ee!==null?_f(s,Ee,t,a):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:vf,useCacheRefresh:jd};kn.useEffectEvent=Td;function Fc(t,a,s,r){a=t.memoizedState,s=s(r,a),s=s==null?a:E({},a,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Dr={enqueueSetState:function(t,a,s){t=t._reactInternals;var r=Un(),m=il(r);m.payload=a,s!=null&&(m.callback=s),a=Ll(t,m,r),a!==null&&($t(a,t,r),Yl(a,t,r))},enqueueReplaceState:function(t,a,s){t=t._reactInternals;var r=Un(),m=il(r);m.tag=1,m.payload=a,s!=null&&(m.callback=s),a=Ll(t,m,r),a!==null&&($t(a,t,r),Yl(a,t,r))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var s=Un(),r=il(s);r.tag=2,a!=null&&(r.callback=a),a=Ll(t,r,s),a!==null&&($t(a,t,s),Yl(a,t,s))}};function Bf(t,a,s,r,m,p,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,p,_):a.prototype&&a.prototype.isPureReactComponent?!cu(s,r)||!cu(m,p):!0}function Hf(t,a,s,r){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,r),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,r),a.state!==t&&Dr.enqueueReplaceState(a,a.state,null)}function Vl(t,a){var s=a;if("ref"in a){s={};for(var r in a)r!=="ref"&&(s[r]=a[r])}if(t=t.defaultProps){s===a&&(s=E({},s));for(var m in t)s[m]===void 0&&(s[m]=t[m])}return s}function Xd(t){yr(t)}function jf(t){console.error(t)}function wf(t){yr(t)}function Pc(t,a){try{var s=t.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(r){setTimeout(function(){throw r})}}function Vd(t,a,s){try{var r=t.onCaughtError;r(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Lf(t,a,s){return s=il(s),s.tag=3,s.payload={element:null},s.callback=function(){Pc(t,a)},s}function Yf(t){return t=il(t),t.tag=3,t}function Qd(t,a,s,r){var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var p=r.value;t.payload=function(){return m(p)},t.callback=function(){Vd(a,s,r)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Vd(a,s,r),typeof m!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var M=r.stack;this.componentDidCatch(r.value,{componentStack:M!==null?M:""})})}function _a(t,a,s,r,m){if(s.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(a=s.alternate,a!==null&&Oi(a,s,m,!0),s=fn.current,s!==null){switch(s.tag){case 31:case 13:return $a===null?Gu():s.alternate===null&&Ze===0&&(Ze=3),s.flags&=-257,s.flags|=65536,s.lanes=m,r===Hc?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([r]):a.add(r),Xr(t,r,m)),!1;case 22:return s.flags|=65536,r===Hc?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([r])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([r]):s.add(r)),Xr(t,r,m)),!1}throw Error(u(435,s.tag))}return Xr(t,r,m),Gu(),!1}if(ue)return a=fn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,r!==yu&&(t=Error(u(422),{cause:r}),Ai(Tn(t,s)))):(r!==yu&&(a=Error(u(423),{cause:r}),Ai(Tn(a,s))),t=t.current.alternate,t.flags|=65536,m&=-m,t.lanes|=m,r=Tn(r,s),m=Lf(t.stateNode,r,m),Gt(t,m),Ze!==4&&(Ze=2)),!1;var p=Error(u(520),{cause:r});if(p=Tn(p,s),Gs===null?Gs=[p]:Gs.push(p),Ze!==4&&(Ze=2),a===null)return!0;r=Tn(r,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,t=m&-m,s.lanes|=t,t=Lf(s.stateNode,r,t),Gt(s,t),!1;case 1:if(a=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(oa===null||!oa.has(p))))return s.flags|=65536,m&=-m,s.lanes|=m,m=Yf(m),Qd(m,t,s,r),Gt(s,m),!1}s=s.return}while(s!==null);return!1}var Ic=Error(u(461)),pa=!1;function Na(t,a,s,r){a.child=t===null?Lc(a,null,s,r):nl(a,t.child,s,r)}function qf(t,a,s,r,m){s=s.render;var p=a.ref;if("ref"in r){var _={};for(var M in r)M!=="ref"&&(_[M]=r[M])}else _=r;return jl(a),r=Xc(t,a,s,_,p,m),M=gf(),t!==null&&!pa?(pf(t,a,m),ra(t,a,m)):(ue&&M&&Ei(a),a.flags|=1,Na(t,a,r,m),a.child)}function Ms(t,a,s,r,m){if(t===null){var p=s.type;return typeof p=="function"&&!Ac(p)&&p.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=p,Wc(t,a,p,r,m)):(t=_i(s.type,null,r,a,a.mode,m),t.ref=a.ref,t.return=a,a.child=t)}if(p=t.child,!io(t,m)){var _=p.memoizedProps;if(s=s.compare,s=s!==null?s:cu,s(_,r)&&t.ref===a.ref)return ra(t,a,m)}return a.flags|=1,t=rn(p,r),t.ref=a.ref,t.return=a,a.child=t}function Wc(t,a,s,r,m){if(t!==null){var p=t.memoizedProps;if(cu(p,r)&&t.ref===a.ref)if(pa=!1,a.pendingProps=r=p,io(t,m))(t.flags&131072)!==0&&(pa=!0);else return a.lanes=t.lanes,ra(t,a,m)}return Nu(t,a,s,r,m)}function Ns(t,a,s,r){var m=r.children,p=t!==null?t.memoizedState:null;if(t===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|s:s,t!==null){for(r=a.child=t.child,m=0;r!==null;)m=m|r.lanes|r.childLanes,r=r.sibling;r=m&~p}else r=0,a.child=null;return dn(t,a,p,s,r)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&xr(a,p!==null?p.cachePool:null),p!==null?rd(a,p):ff(),cd(a);else return r=a.lanes=536870912,dn(t,a,p!==null?p.baseLanes|s:s,s,r)}else p!==null?(xr(a,p.cachePool),rd(a,p),hn(),a.memoizedState=null):(t!==null&&xr(a,null),ff(),hn());return Na(t,a,m,s),a.child}function Ri(t,a){return t!==null&&t.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function dn(t,a,s,r,m){var p=Bc();return p=p===null?null:{parent:ga._currentValue,pool:p},a.memoizedState={baseLanes:s,cachePool:p},t!==null&&xr(a,null),ff(),cd(a),t!==null&&Oi(t,a,r,!0),a.childLanes=m,null}function $c(t,a){return a=no({mode:a.mode,children:a.children},t.mode),a.ref=t.ref,t.child=a,a.return=t,a}function Kd(t,a,s){return nl(a,t.child,null,s),t=$c(a,a.pendingProps),t.flags|=2,sa(a),a.memoizedState=null,t}function to(t,a,s){var r=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,t===null){if(ue){if(r.mode==="hidden")return t=$c(a,r),a.lanes=536870912,Ri(null,t);if(hf(a),(t=Me)?(t=$2(t,An),t=t!==null&&t.data==="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:$i!==null?{id:Qe,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},s=mu(t),s.return=a,a.child=s,ta=a,Me=null)):t=null,t===null)throw Ti(a);return a.lanes=536870912,null}return $c(a,r)}var p=t.memoizedState;if(p!==null){var _=p.dehydrated;if(hf(a),m)if(a.flags&256)a.flags&=-257,a=Kd(t,a,s);else if(a.memoizedState!==null)a.child=t.child,a.flags|=128,a=null;else throw Error(u(558));else if(pa||Oi(t,a,s,!1),m=(s&t.childLanes)!==0,pa||m){if(r=Vt,r!==null&&(_=No(r,s),_!==0&&_!==p.retryLane))throw p.retryLane=_,Ia(t,_),$t(r,t,_),Ic;Gu(),a=Kd(t,a,s)}else t=p.treeContext,Me=Yi(_.nextSibling),ta=a,ue=!0,tl=null,An=!1,t!==null&&Dc(a,t),a=$c(a,r),a.flags|=4096;return a}return t=rn(t.child,{mode:r.mode,children:r.children}),t.ref=a.ref,a.child=t,t.return=a,t}function Os(t,a){var s=a.ref;if(s===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(u(284));(t===null||t.ref!==s)&&(a.flags|=4194816)}}function Nu(t,a,s,r,m){return jl(a),s=Xc(t,a,s,r,void 0,m),r=gf(),t!==null&&!pa?(pf(t,a,m),ra(t,a,m)):(ue&&r&&Ei(a),a.flags|=1,Na(t,a,s,m),a.child)}function Rr(t,a,s,r,m,p){return jl(a),a.updateQueue=null,s=Ts(a,r,s,m),od(t),r=gf(),t!==null&&!pa?(pf(t,a,p),ra(t,a,p)):(ue&&r&&Ei(a),a.flags|=1,Na(t,a,s,p),a.child)}function eo(t,a,s,r,m){if(jl(a),a.stateNode===null){var p=Rl,_=s.contextType;typeof _=="object"&&_!==null&&(p=qt(_)),p=new s(r,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Dr,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=r,p.state=a.memoizedState,p.refs={},Er(a),_=s.contextType,p.context=typeof _=="object"&&_!==null?qt(_):Rl,p.state=a.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Fc(a,s,_,r),p.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(_=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),_!==p.state&&Dr.enqueueReplaceState(p,p.state,null),_u(a,r,p,m),Tr(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),r=!0}else if(t===null){p=a.stateNode;var M=a.memoizedProps,U=Vl(s,M);p.props=U;var K=p.context,tt=s.contextType;_=Rl,typeof tt=="object"&&tt!==null&&(_=qt(tt));var nt=s.getDerivedStateFromProps;tt=typeof nt=="function"||typeof p.getSnapshotBeforeUpdate=="function",M=a.pendingProps!==M,tt||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(M||K!==_)&&Hf(a,p,r,_),Wa=!1;var k=a.memoizedState;p.state=k,_u(a,r,p,m),Tr(),K=a.memoizedState,M||k!==K||Wa?(typeof nt=="function"&&(Fc(a,s,nt,r),K=a.memoizedState),(U=Wa||Bf(a,s,U,r,k,K,_))?(tt||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=r,a.memoizedState=K),p.props=r,p.state=K,p.context=_,r=U):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),r=!1)}else{p=a.stateNode,cf(t,a),_=a.memoizedProps,tt=Vl(s,_),p.props=tt,nt=a.pendingProps,k=p.context,K=s.contextType,U=Rl,typeof K=="object"&&K!==null&&(U=qt(K)),M=s.getDerivedStateFromProps,(K=typeof M=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==nt||k!==U)&&Hf(a,p,r,U),Wa=!1,k=a.memoizedState,p.state=k,_u(a,r,p,m),Tr();var I=a.memoizedState;_!==nt||k!==I||Wa||t!==null&&t.dependencies!==null&&br(t.dependencies)?(typeof M=="function"&&(Fc(a,s,M,r),I=a.memoizedState),(tt=Wa||Bf(a,s,tt,r,k,I,U)||t!==null&&t.dependencies!==null&&br(t.dependencies))?(K||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(r,I,U),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(r,I,U)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||_===t.memoizedProps&&k===t.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&k===t.memoizedState||(a.flags|=1024),a.memoizedProps=r,a.memoizedState=I),p.props=r,p.state=I,p.context=U,r=tt):(typeof p.componentDidUpdate!="function"||_===t.memoizedProps&&k===t.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&k===t.memoizedState||(a.flags|=1024),r=!1)}return p=r,Os(t,a),r=(a.flags&128)!==0,p||r?(p=a.stateNode,s=r&&typeof s.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,t!==null&&r?(a.child=nl(a,t.child,null,m),a.child=nl(a,null,s,m)):Na(t,a,s,m),a.memoizedState=p.state,t=a.child):t=ra(t,a,m),t}function Zd(t,a,s,r){return Bl(),a.flags|=256,Na(t,a,s,r),a.child}var Xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ka(t){return{baseLanes:t,cachePool:rf()}}function ao(t,a,s){return t=t!==null?t.childLanes&~s:0,a&&(t|=nn),t}function kd(t,a,s){var r=a.pendingProps,m=!1,p=(a.flags&128)!==0,_;if((_=p)||(_=t!==null&&t.memoizedState===null?!1:(re.current&2)!==0),_&&(m=!0,a.flags&=-129),_=(a.flags&32)!==0,a.flags&=-33,t===null){if(ue){if(m?ll(a):hn(),(t=Me)?(t=$2(t,An),t=t!==null&&t.data!=="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:$i!==null?{id:Qe,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},s=mu(t),s.return=a,a.child=s,ta=a,Me=null)):t=null,t===null)throw Ti(a);return C1(t)?a.lanes=32:a.lanes=536870912,null}var M=r.children;return r=r.fallback,m?(hn(),m=a.mode,M=no({mode:"hidden",children:M},m),r=zl(r,m,s,null),M.return=a,r.return=a,M.sibling=r,a.child=M,r=a.child,r.memoizedState=Ka(s),r.childLanes=ao(t,_,s),a.memoizedState=Xf,Ri(null,r)):(ll(a),zr(a,M))}var U=t.memoizedState;if(U!==null&&(M=U.dehydrated,M!==null)){if(p)a.flags&256?(ll(a),a.flags&=-257,a=Vf(t,a,s)):a.memoizedState!==null?(hn(),a.child=t.child,a.flags|=128,a=null):(hn(),M=r.fallback,m=a.mode,r=no({mode:"visible",children:r.children},m),M=zl(M,m,s,null),M.flags|=2,r.return=a,M.return=a,r.sibling=M,a.child=r,nl(a,t.child,null,s),r=a.child,r.memoizedState=Ka(s),r.childLanes=ao(t,_,s),a.memoizedState=Xf,a=Ri(null,r));else if(ll(a),C1(M)){if(_=M.nextSibling&&M.nextSibling.dataset,_)var K=_.dgst;_=K,r=Error(u(419)),r.stack="",r.digest=_,Ai({value:r,source:null,stack:null}),a=Vf(t,a,s)}else if(pa||Oi(t,a,s,!1),_=(s&t.childLanes)!==0,pa||_){if(_=Vt,_!==null&&(r=No(_,s),r!==0&&r!==U.retryLane))throw U.retryLane=r,Ia(t,r),$t(_,t,r),Ic;_1(M)||Gu(),a=Vf(t,a,s)}else _1(M)?(a.flags|=192,a.child=t.child,a=null):(t=U.treeContext,Me=Yi(M.nextSibling),ta=a,ue=!0,tl=null,An=!1,t!==null&&Dc(a,t),a=zr(a,r.children),a.flags|=4096);return a}return m?(hn(),M=r.fallback,m=a.mode,U=t.child,K=U.sibling,r=rn(U,{mode:"hidden",children:r.children}),r.subtreeFlags=U.subtreeFlags&65011712,K!==null?M=rn(K,M):(M=zl(M,m,s,null),M.flags|=2),M.return=a,r.return=a,r.sibling=M,a.child=r,Ri(null,r),r=a.child,M=t.child.memoizedState,M===null?M=Ka(s):(m=M.cachePool,m!==null?(U=ga._currentValue,m=m.parent!==U?{parent:U,pool:U}:m):m=rf(),M={baseLanes:M.baseLanes|s,cachePool:m}),r.memoizedState=M,r.childLanes=ao(t,_,s),a.memoizedState=Xf,Ri(t.child,r)):(ll(a),s=t.child,t=s.sibling,s=rn(s,{mode:"visible",children:r.children}),s.return=a,s.sibling=null,t!==null&&(_=a.deletions,_===null?(a.deletions=[t],a.flags|=16):_.push(t)),a.child=s,a.memoizedState=null,s)}function zr(t,a){return a=no({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function no(t,a){return t=Ve(22,t,null,a),t.lanes=0,t}function Vf(t,a,s){return nl(a,t.child,null,s),t=zr(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function Jd(t,a,s){t.lanes|=a;var r=t.alternate;r!==null&&(r.lanes|=a),zc(t.return,a,s)}function Ds(t,a,s,r,m,p){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:m,treeForkCount:p}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=r,_.tail=s,_.tailMode=m,_.treeForkCount=p)}function mn(t,a,s){var r=a.pendingProps,m=r.revealOrder,p=r.tail;r=r.children;var _=re.current,M=(_&2)!==0;if(M?(_=_&1|2,a.flags|=128):_&=1,lt(re,_),Na(t,a,r,s),r=ue?pu:0,!M&&t!==null&&(t.flags&128)!==0)t:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jd(t,s,a);else if(t.tag===19)Jd(t,s,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break t;for(;t.sibling===null;){if(t.return===null||t.return===a)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(m){case"forwards":for(s=a.child,m=null;s!==null;)t=s.alternate,t!==null&&Nn(t)===null&&(m=s),s=s.sibling;s=m,s===null?(m=a.child,a.child=null):(m=s.sibling,s.sibling=null),Ds(a,!1,m,s,p,r);break;case"backwards":case"unstable_legacy-backwards":for(s=null,m=a.child,a.child=null;m!==null;){if(t=m.alternate,t!==null&&Nn(t)===null){a.child=m;break}t=m.sibling,m.sibling=s,s=m,m=t}Ds(a,!0,s,null,p,r);break;case"together":Ds(a,!1,null,null,void 0,r);break;default:a.memoizedState=null}return a.child}function ra(t,a,s){if(t!==null&&(a.dependencies=t.dependencies),ji|=a.lanes,(s&a.childLanes)===0)if(t!==null){if(Oi(t,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(u(153));if(a.child!==null){for(t=a.child,s=rn(t,t.pendingProps),a.child=s,s.return=a;t.sibling!==null;)t=t.sibling,s=s.sibling=rn(t,t.pendingProps),s.return=a;s.sibling=null}return a.child}function io(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&br(t)))}function o1(t,a,s){switch(a.tag){case 3:Ie(a,a.stateNode.containerInfo),el(a,ga,t.memoizedState.cache),Bl();break;case 27:case 5:vl(a);break;case 4:Ie(a,a.stateNode.containerInfo);break;case 10:el(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,hf(a),null;break;case 13:var r=a.memoizedState;if(r!==null)return r.dehydrated!==null?(ll(a),a.flags|=128,null):(s&a.child.childLanes)!==0?kd(t,a,s):(ll(a),t=ra(t,a,s),t!==null?t.sibling:null);ll(a);break;case 19:var m=(t.flags&128)!==0;if(r=(s&a.childLanes)!==0,r||(Oi(t,a,s,!1),r=(s&a.childLanes)!==0),m){if(r)return mn(t,a,s);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),lt(re,re.current),r)break;return null;case 22:return a.lanes=0,Ns(t,a,s,a.pendingProps);case 24:el(a,ga,t.memoizedState.cache)}return ra(t,a,s)}function lo(t,a,s){if(t!==null)if(t.memoizedProps!==a.pendingProps)pa=!0;else{if(!io(t,s)&&(a.flags&128)===0)return pa=!1,o1(t,a,s);pa=(t.flags&131072)!==0}else pa=!1,ue&&(a.flags&1048576)!==0&&ed(a,pu,a.index);switch(a.lanes=0,a.tag){case 16:t:{var r=a.pendingProps;if(t=Ss(a.elementType),a.type=t,typeof t=="function")Ac(t)?(r=Vl(t,r),a.tag=1,a=eo(null,a,t,r,s)):(a.tag=0,a=Nu(null,a,t,r,s));else{if(t!=null){var m=t.$$typeof;if(m===W){a.tag=11,a=qf(null,a,t,r,s);break t}else if(m===et){a.tag=14,a=Ms(null,a,t,r,s);break t}}throw a=Ut(t)||t,Error(u(306,a,""))}}return a;case 0:return Nu(t,a,a.type,a.pendingProps,s);case 1:return r=a.type,m=Vl(r,a.pendingProps),eo(t,a,r,m,s);case 3:t:{if(Ie(a,a.stateNode.containerInfo),t===null)throw Error(u(387));r=a.pendingProps;var p=a.memoizedState;m=p.element,cf(t,a),_u(a,r,null,s);var _=a.memoizedState;if(r=_.cache,el(a,ga,r),r!==p.cache&&Uc(a,[ga],s,!0),Tr(),r=_.element,p.isDehydrated)if(p={element:r,isDehydrated:!1,cache:_.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=Zd(t,a,r,s);break t}else if(r!==m){m=Tn(Error(u(424)),a),Ai(m),a=Zd(t,a,r,s);break t}else{switch(t=a.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Me=Yi(t.firstChild),ta=a,ue=!0,tl=null,An=!0,s=Lc(a,null,r,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Bl(),r===m){a=ra(t,a,s);break t}Na(t,a,r,s)}a=a.child}return a;case 26:return Os(t,a),t===null?(s=lm(a.type,null,a.pendingProps,null))?a.memoizedState=s:ue||(s=a.type,t=a.pendingProps,r=Wd(Xt.current).createElement(s),r[da]=a,r[qa]=t,sn(r,s,t),ma(r),a.stateNode=r):a.memoizedState=lm(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return vl(a),t===null&&ue&&(r=a.stateNode=am(a.type,a.pendingProps,Xt.current),ta=a,An=!0,m=Me,wu(a.type)?(E1=m,Me=Yi(r.firstChild)):Me=m),Na(t,a,a.pendingProps.children,s),Os(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&ue&&((m=r=Me)&&(r=Zp(r,a.type,a.pendingProps,An),r!==null?(a.stateNode=r,ta=a,Me=Yi(r.firstChild),An=!1,m=!0):m=!1),m||Ti(a)),vl(a),m=a.type,p=a.pendingProps,_=t!==null?t.memoizedProps:null,r=p.children,S1(m,p)?r=null:_!==null&&S1(m,_)&&(a.flags|=32),a.memoizedState!==null&&(m=Xc(t,a,As,null,null,s),th._currentValue=m),Os(t,a),Na(t,a,r,s),a.child;case 6:return t===null&&ue&&((t=s=Me)&&(s=kp(s,a.pendingProps,An),s!==null?(a.stateNode=s,ta=a,Me=null,t=!0):t=!1),t||Ti(a)),null;case 13:return kd(t,a,s);case 4:return Ie(a,a.stateNode.containerInfo),r=a.pendingProps,t===null?a.child=nl(a,null,r,s):Na(t,a,r,s),a.child;case 11:return qf(t,a,a.type,a.pendingProps,s);case 7:return Na(t,a,a.pendingProps,s),a.child;case 8:return Na(t,a,a.pendingProps.children,s),a.child;case 12:return Na(t,a,a.pendingProps.children,s),a.child;case 10:return r=a.pendingProps,el(a,a.type,r.value),Na(t,a,r.children,s),a.child;case 9:return m=a.type._context,r=a.pendingProps.children,jl(a),m=qt(m),r=r(m),a.flags|=1,Na(t,a,r,s),a.child;case 14:return Ms(t,a,a.type,a.pendingProps,s);case 15:return Wc(t,a,a.type,a.pendingProps,s);case 19:return mn(t,a,s);case 31:return to(t,a,s);case 22:return Ns(t,a,s,a.pendingProps);case 24:return jl(a),r=qt(ga),t===null?(m=Bc(),m===null&&(m=Vt,p=nf(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=s),m=p),a.memoizedState={parent:r,cache:m},Er(a),el(a,ga,m)):((t.lanes&s)!==0&&(cf(t,a),_u(a,null,null,s),Tr()),m=t.memoizedState,p=a.memoizedState,m.parent!==r?(m={parent:r,cache:r},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),el(a,ga,r)):(r=p.cache,el(a,ga,r),r!==m.cache&&Uc(a,[ga],s,!0))),Na(t,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(u(156,a.tag))}function zi(t){t.flags|=4}function Ur(t,a,s,r,m){if((a=(t.mode&32)!==0)&&(a=!1),a){if(t.flags|=16777216,(m&335544128)===m)if(t.stateNode.complete)t.flags|=8192;else if(Je())t.flags|=8192;else throw Di=Hc,_r}else t.flags&=-16777217}function Qf(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!om(a))if(Je())t.flags|=8192;else throw Di=Hc,_r}function ul(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?xl():536870912,t.lanes|=a,ze|=a)}function Ui(t,a){if(!ue)switch(t.tailMode){case"hidden":a=t.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Te(t){var a=t.alternate!==null&&t.alternate.child===t.child,s=0,r=0;if(a)for(var m=t.child;m!==null;)s|=m.lanes|m.childLanes,r|=m.subtreeFlags&65011712,r|=m.flags&65011712,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)s|=m.lanes|m.childLanes,r|=m.subtreeFlags,r|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=r,t.childLanes=s,a}function Gr(t,a,s){var r=a.pendingProps;switch(Oc(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(a),null;case 1:return Te(a),null;case 3:return s=a.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),a.memoizedState.cache!==r&&(a.flags|=2048),Ni(ga),he(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(vu(a)?zi(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Rc())),Te(a),null;case 26:var m=a.type,p=a.memoizedState;return t===null?(zi(a),p!==null?(Te(a),Qf(a,p)):(Te(a),Ur(a,m,null,r,s))):p?p!==t.memoizedState?(zi(a),Te(a),Qf(a,p)):(Te(a),a.flags&=-16777217):(t=t.memoizedProps,t!==r&&zi(a),Te(a),Ur(a,m,t,r,s)),null;case 27:if(Vi(a),s=Xt.current,m=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==r&&zi(a);else{if(!r){if(a.stateNode===null)throw Error(u(166));return Te(a),null}t=Tt.current,vu(a)?ad(a):(t=am(m,r,s),a.stateNode=t,zi(a))}return Te(a),null;case 5:if(Vi(a),m=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==r&&zi(a);else{if(!r){if(a.stateNode===null)throw Error(u(166));return Te(a),null}if(p=Tt.current,vu(a))ad(a);else{var _=Wd(Xt.current);switch(p){case 1:p=_.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:p=_.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":p=_.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":p=_.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":p=_.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof r.is=="string"?_.createElement("select",{is:r.is}):_.createElement("select"),r.multiple?p.multiple=!0:r.size&&(p.size=r.size);break;default:p=typeof r.is=="string"?_.createElement(m,{is:r.is}):_.createElement(m)}}p[da]=a,p[qa]=r;t:for(_=a.child;_!==null;){if(_.tag===5||_.tag===6)p.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===a)break t;for(;_.sibling===null;){if(_.return===null||_.return===a)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}a.stateNode=p;t:switch(sn(p,m,r),m){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&zi(a)}}return Te(a),Ur(a,a.type,t===null?null:t.memoizedProps,a.pendingProps,s),null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==r&&zi(a);else{if(typeof r!="string"&&a.stateNode===null)throw Error(u(166));if(t=Xt.current,vu(a)){if(t=a.stateNode,s=a.memoizedProps,r=null,m=ta,m!==null)switch(m.tag){case 27:case 5:r=m.memoizedProps}t[da]=a,t=!!(t.nodeValue===s||r!==null&&r.suppressHydrationWarning===!0||K2(t.nodeValue,s)),t||Ti(a,!0)}else t=Wd(t).createTextNode(r),t[da]=a,a.stateNode=t}return Te(a),null;case 31:if(s=a.memoizedState,t===null||t.memoizedState!==null){if(r=vu(a),s!==null){if(t===null){if(!r)throw Error(u(318));if(t=a.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(557));t[da]=a}else Bl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Te(a),t=!1}else s=Rc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return a.flags&256?(sa(a),a):(sa(a),null);if((a.flags&128)!==0)throw Error(u(558))}return Te(a),null;case 13:if(r=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(m=vu(a),r!==null&&r.dehydrated!==null){if(t===null){if(!m)throw Error(u(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(u(317));m[da]=a}else Bl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Te(a),m=!1}else m=Rc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(sa(a),a):(sa(a),null)}return sa(a),(a.flags&128)!==0?(a.lanes=s,a):(s=r!==null,t=t!==null&&t.memoizedState!==null,s&&(r=a.child,m=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(m=r.alternate.memoizedState.cachePool.pool),p=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(p=r.memoizedState.cachePool.pool),p!==m&&(r.flags|=2048)),s!==t&&s&&(a.child.flags|=8192),ul(a,a.updateQueue),Te(a),null);case 4:return he(),t===null&&m1(a.stateNode.containerInfo),Te(a),null;case 10:return Ni(a.type),Te(a),null;case 19:if($(re),r=a.memoizedState,r===null)return Te(a),null;if(m=(a.flags&128)!==0,p=r.rendering,p===null)if(m)Ui(r,!1);else{if(Ze!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(p=Nn(t),p!==null){for(a.flags|=128,Ui(r,!1),t=p.updateQueue,a.updateQueue=t,ul(a,t),a.subtreeFlags=0,t=s,s=a.child;s!==null;)du(s,t),s=s.sibling;return lt(re,re.current&1|2),ue&&Ci(a,r.treeForkCount),a.child}t=t.sibling}r.tail!==null&&ba()>ca&&(a.flags|=128,m=!0,Ui(r,!1),a.lanes=4194304)}else{if(!m)if(t=Nn(p),t!==null){if(a.flags|=128,m=!0,t=t.updateQueue,a.updateQueue=t,ul(a,t),Ui(r,!0),r.tail===null&&r.tailMode==="hidden"&&!p.alternate&&!ue)return Te(a),null}else 2*ba()-r.renderingStartTime>ca&&s!==536870912&&(a.flags|=128,m=!0,Ui(r,!1),a.lanes=4194304);r.isBackwards?(p.sibling=a.child,a.child=p):(t=r.last,t!==null?t.sibling=p:a.child=p,r.last=p)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=ba(),t.sibling=null,s=re.current,lt(re,m?s&1|2:s&1),ue&&Ci(a,r.treeForkCount),t):(Te(a),null);case 22:case 23:return sa(a),Ar(),r=a.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(a.flags|=8192):r&&(a.flags|=8192),r?(s&536870912)!==0&&(a.flags&128)===0&&(Te(a),a.subtreeFlags&6&&(a.flags|=8192)):Te(a),s=a.updateQueue,s!==null&&ul(a,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==s&&(a.flags|=2048),t!==null&&$(wl),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),Ni(ga),Te(a),null;case 25:return null;case 30:return null}throw Error(u(156,a.tag))}function Jn(t,a){switch(Oc(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return Ni(ga),he(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return Vi(a),null;case 31:if(a.memoizedState!==null){if(sa(a),a.alternate===null)throw Error(u(340));Bl()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 13:if(sa(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(u(340));Bl()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return $(re),null;case 4:return he(),null;case 10:return Ni(a.type),null;case 22:case 23:return sa(a),Ar(),t!==null&&$(wl),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return Ni(ga),null;case 25:return null;default:return null}}function On(t,a){switch(Oc(a),a.tag){case 3:Ni(ga),he();break;case 26:case 27:case 5:Vi(a);break;case 4:he();break;case 31:a.memoizedState!==null&&sa(a);break;case 13:sa(a);break;case 19:$(re);break;case 10:Ni(a.type);break;case 22:case 23:sa(a),Ar(),t!==null&&$(wl);break;case 24:Ni(ga)}}function Fn(t,a){try{var s=a.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var m=r.next;s=m;do{if((s.tag&t)===t){r=void 0;var p=s.create,_=s.inst;r=p(),_.destroy=r}s=s.next}while(s!==m)}}catch(M){ge(a,a.return,M)}}function Ba(t,a,s){try{var r=a.updateQueue,m=r!==null?r.lastEffect:null;if(m!==null){var p=m.next;r=p;do{if((r.tag&t)===t){var _=r.inst,M=_.destroy;if(M!==void 0){_.destroy=void 0,m=a;var U=s,K=M;try{K()}catch(tt){ge(m,U,tt)}}}r=r.next}while(r!==p)}}catch(tt){ge(a,a.return,tt)}}function ri(t){var a=t.updateQueue;if(a!==null){var s=t.stateNode;try{ud(a,s)}catch(r){ge(t,t.return,r)}}}function Oa(t,a,s){s.props=Vl(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(r){ge(t,a,r)}}function rl(t,a){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof s=="function"?t.refCleanup=s(r):s.current=r}}catch(m){ge(t,a,m)}}function Ha(t,a){var s=t.ref,r=t.refCleanup;if(s!==null)if(typeof r=="function")try{r()}catch(m){ge(t,a,m)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(m){ge(t,a,m)}else s.current=null}function Br(t){var a=t.type,s=t.memoizedProps,r=t.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break t;case"img":s.src?r.src=s.src:s.srcSet&&(r.srcset=s.srcSet)}}catch(m){ge(t,t.return,m)}}function Ca(t,a,s){try{var r=t.stateNode;Yp(r,t.type,s,a),r[qa]=a}catch(m){ge(t,t.return,m)}}function we(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&wu(t.type)||t.tag===4}function le(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||we(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&wu(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gi(t,a,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(t),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=Pi));else if(r!==4&&(r===27&&wu(t.type)&&(s=t.stateNode,a=null),t=t.child,t!==null))for(Gi(t,a,s),t=t.sibling;t!==null;)Gi(t,a,s),t=t.sibling}function tn(t,a,s){var r=t.tag;if(r===5||r===6)t=t.stateNode,a?s.insertBefore(t,a):s.appendChild(t);else if(r!==4&&(r===27&&wu(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(tn(t,a,s),t=t.sibling;t!==null;)tn(t,a,s),t=t.sibling}function so(t){var a=t.stateNode,s=t.memoizedProps;try{for(var r=t.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);sn(a,r,s),a[da]=t,a[qa]=s}catch(p){ge(t,t.return,p)}}var Pn=!1,Ne=!1,ci=!1,Fd=typeof WeakSet=="function"?WeakSet:Set,Da=null;function f1(t,a){if(t=t.containerInfo,y1=l0,t=Ih(t),Wo(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var m=r.anchorOffset,p=r.focusNode;r=r.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break t}var _=0,M=-1,U=-1,K=0,tt=0,nt=t,k=null;e:for(;;){for(var I;nt!==s||m!==0&&nt.nodeType!==3||(M=_+m),nt!==p||r!==0&&nt.nodeType!==3||(U=_+r),nt.nodeType===3&&(_+=nt.nodeValue.length),(I=nt.firstChild)!==null;)k=nt,nt=I;for(;;){if(nt===t)break e;if(k===s&&++K===m&&(M=_),k===p&&++tt===r&&(U=_),(I=nt.nextSibling)!==null)break;nt=k,k=nt.parentNode}nt=I}s=M===-1||U===-1?null:{start:M,end:U}}else s=null}s=s||{start:0,end:0}}else s=null;for(v1={focusedElem:t,selectionRange:s},l0=!1,Da=a;Da!==null;)if(a=Da,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,Da=t;else for(;Da!==null;){switch(a=Da,p=a.alternate,t=a.flags,a.tag){case 0:if((t&4)!==0&&(t=a.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)m=t[s],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,s=a,m=p.memoizedProps,p=p.memoizedState,r=s.stateNode;try{var Mt=Vl(s.type,m);t=r.getSnapshotBeforeUpdate(Mt,p),r.__reactInternalSnapshotBeforeUpdate=t}catch(Yt){ge(s,s.return,Yt)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,s=t.nodeType,s===9)x1(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":x1(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(u(163))}if(t=a.sibling,t!==null){t.return=a.return,Da=t;break}Da=a.return}}function Le(t,a,s){var r=s.flags;switch(s.tag){case 0:case 11:case 15:$n(t,s),r&4&&Fn(5,s);break;case 1:if($n(t,s),r&4)if(t=s.stateNode,a===null)try{t.componentDidMount()}catch(_){ge(s,s.return,_)}else{var m=Vl(s.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(m,a,t.__reactInternalSnapshotBeforeUpdate)}catch(_){ge(s,s.return,_)}}r&64&&ri(s),r&512&&rl(s,s.return);break;case 3:if($n(t,s),r&64&&(t=s.updateQueue,t!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{ud(t,a)}catch(_){ge(s,s.return,_)}}break;case 27:a===null&&r&4&&so(s);case 26:case 5:$n(t,s),a===null&&r&4&&Br(s),r&512&&rl(s,s.return);break;case 12:$n(t,s);break;case 31:$n(t,s),r&4&&Ql(t,s);break;case 13:$n(t,s),r&4&&Ou(t,s),r&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=c.bind(null,s),Jp(t,s))));break;case 22:if(r=s.memoizedState!==null||Pn,!r){a=a!==null&&a.memoizedState!==null||Ne,m=Pn;var p=Ne;Pn=r,(Ne=a)&&!p?en(t,s,(s.subtreeFlags&8772)!==0):$n(t,s),Pn=m,Ne=p}break;case 30:break;default:$n(t,s)}}function Hr(t){var a=t.alternate;a!==null&&(t.alternate=null,Hr(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&ss(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var be=null,Za=!1;function In(t,a,s){for(s=s.child;s!==null;)uo(t,a,s),s=s.sibling}function uo(t,a,s){if(ee&&typeof ee.onCommitFiberUnmount=="function")try{ee.onCommitFiberUnmount(Ge,s)}catch{}switch(s.tag){case 26:Ne||Ha(s,a),In(t,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ne||Ha(s,a);var r=be,m=Za;wu(s.type)&&(be=s.stateNode,Za=!1),In(t,a,s),If(s.stateNode),be=r,Za=m;break;case 5:Ne||Ha(s,a);case 6:if(r=be,m=Za,be=null,In(t,a,s),be=r,Za=m,be!==null)if(Za)try{(be.nodeType===9?be.body:be.nodeName==="HTML"?be.ownerDocument.body:be).removeChild(s.stateNode)}catch(p){ge(s,a,p)}else try{be.removeChild(s.stateNode)}catch(p){ge(s,a,p)}break;case 18:be!==null&&(Za?(t=be,I2(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),po(t)):I2(be,s.stateNode));break;case 4:r=be,m=Za,be=s.stateNode.containerInfo,Za=!0,In(t,a,s),be=r,Za=m;break;case 0:case 11:case 14:case 15:Ba(2,s,a),Ne||Ba(4,s,a),In(t,a,s);break;case 1:Ne||(Ha(s,a),r=s.stateNode,typeof r.componentWillUnmount=="function"&&Oa(s,a,r)),In(t,a,s);break;case 21:In(t,a,s);break;case 22:Ne=(r=Ne)||s.memoizedState!==null,In(t,a,s),Ne=r;break;default:In(t,a,s)}}function Ql(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{po(t)}catch(s){ge(a,a.return,s)}}}function Ou(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{po(t)}catch(s){ge(a,a.return,s)}}function Kf(t){switch(t.tag){case 31:case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new Fd),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new Fd),a;default:throw Error(u(435,t.tag))}}function cl(t,a){var s=Kf(t);a.forEach(function(r){if(!s.has(r)){s.add(r);var m=d.bind(null,t,r);r.then(m,m)}})}function Ea(t,a){var s=a.deletions;if(s!==null)for(var r=0;r<s.length;r++){var m=s[r],p=t,_=a,M=_;t:for(;M!==null;){switch(M.tag){case 27:if(wu(M.type)){be=M.stateNode,Za=!1;break t}break;case 5:be=M.stateNode,Za=!1;break t;case 3:case 4:be=M.stateNode.containerInfo,Za=!0;break t}M=M.return}if(be===null)throw Error(u(160));uo(p,_,m),be=null,Za=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Kl(a,t),a=a.sibling}var Wn=null;function Kl(t,a){var s=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ea(a,t),Ta(t),r&4&&(Ba(3,t,t.return),Fn(3,t),Ba(5,t,t.return));break;case 1:Ea(a,t),Ta(t),r&512&&(Ne||s===null||Ha(s,s.return)),r&64&&Pn&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?r:s.concat(r))));break;case 26:var m=Wn;if(Ea(a,t),Ta(t),r&512&&(Ne||s===null||Ha(s,s.return)),r&4){var p=s!==null?s.memoizedState:null;if(r=t.memoizedState,s===null)if(r===null)if(t.stateNode===null){t:{r=t.type,s=t.memoizedProps,m=m.ownerDocument||m;e:switch(r){case"title":p=m.getElementsByTagName("title")[0],(!p||p[ki]||p[da]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(r),m.head.insertBefore(p,m.querySelector("head > title"))),sn(p,r,s),p[da]=t,ma(p),r=p;break t;case"link":var _=rm("link","href",m).get(r+(s.href||""));if(_){for(var M=0;M<_.length;M++)if(p=_[M],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(M,1);break e}}p=m.createElement(r),sn(p,r,s),m.head.appendChild(p);break;case"meta":if(_=rm("meta","content",m).get(r+(s.content||""))){for(M=0;M<_.length;M++)if(p=_[M],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(M,1);break e}}p=m.createElement(r),sn(p,r,s),m.head.appendChild(p);break;default:throw Error(u(468,r))}p[da]=t,ma(p),r=p}t.stateNode=r}else cm(m,t.type,t.stateNode);else t.stateNode=um(m,r,t.memoizedProps);else p!==r?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,r===null?cm(m,t.type,t.stateNode):um(m,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Ca(t,t.memoizedProps,s.memoizedProps)}break;case 27:Ea(a,t),Ta(t),r&512&&(Ne||s===null||Ha(s,s.return)),s!==null&&r&4&&Ca(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Ea(a,t),Ta(t),r&512&&(Ne||s===null||Ha(s,s.return)),t.flags&32){m=t.stateNode;try{cs(m,"")}catch(Mt){ge(t,t.return,Mt)}}r&4&&t.stateNode!=null&&(m=t.memoizedProps,Ca(t,m,s!==null?s.memoizedProps:m)),r&1024&&(ci=!0);break;case 6:if(Ea(a,t),Ta(t),r&4){if(t.stateNode===null)throw Error(u(162));r=t.memoizedProps,s=t.stateNode;try{s.nodeValue=r}catch(Mt){ge(t,t.return,Mt)}}break;case 3:if(e0=null,m=Wn,Wn=$d(a.containerInfo),Ea(a,t),Wn=m,Ta(t),r&4&&s!==null&&s.memoizedState.isDehydrated)try{po(a.containerInfo)}catch(Mt){ge(t,t.return,Mt)}ci&&(ci=!1,ro(t));break;case 4:r=Wn,Wn=$d(t.stateNode.containerInfo),Ea(a,t),Ta(t),Wn=r;break;case 12:Ea(a,t),Ta(t);break;case 31:Ea(a,t),Ta(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,cl(t,r)));break;case 13:Ea(a,t),Ta(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Du=ba()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,cl(t,r)));break;case 22:m=t.memoizedState!==null;var U=s!==null&&s.memoizedState!==null,K=Pn,tt=Ne;if(Pn=K||m,Ne=tt||U,Ea(a,t),Ne=tt,Pn=K,Ta(t),r&8192)t:for(a=t.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(s===null||U||Pn||Ne||Bi(t)),s=null,a=t;;){if(a.tag===5||a.tag===26){if(s===null){U=s=a;try{if(p=U.stateNode,m)_=p.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{M=U.stateNode;var nt=U.memoizedProps.style,k=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;M.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(Mt){ge(U,U.return,Mt)}}}else if(a.tag===6){if(s===null){U=a;try{U.stateNode.nodeValue=m?"":U.memoizedProps}catch(Mt){ge(U,U.return,Mt)}}}else if(a.tag===18){if(s===null){U=a;try{var I=U.stateNode;m?W2(I,!0):W2(U.stateNode,!1)}catch(Mt){ge(U,U.return,Mt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break t;for(;a.sibling===null;){if(a.return===null||a.return===t)break t;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}r&4&&(r=t.updateQueue,r!==null&&(s=r.retryQueue,s!==null&&(r.retryQueue=null,cl(t,s))));break;case 19:Ea(a,t),Ta(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,cl(t,r)));break;case 30:break;case 21:break;default:Ea(a,t),Ta(t)}}function Ta(t){var a=t.flags;if(a&2){try{for(var s,r=t.return;r!==null;){if(we(r)){s=r;break}r=r.return}if(s==null)throw Error(u(160));switch(s.tag){case 27:var m=s.stateNode,p=le(t);tn(t,p,m);break;case 5:var _=s.stateNode;s.flags&32&&(cs(_,""),s.flags&=-33);var M=le(t);tn(t,M,_);break;case 3:case 4:var U=s.stateNode.containerInfo,K=le(t);Gi(t,K,U);break;default:throw Error(u(161))}}catch(tt){ge(t,t.return,tt)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function ro(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;ro(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function $n(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Le(t,a.alternate,a),a=a.sibling}function Bi(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:Ba(4,a,a.return),Bi(a);break;case 1:Ha(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&Oa(a,a.return,s),Bi(a);break;case 27:If(a.stateNode);case 26:case 5:Ha(a,a.return),Bi(a);break;case 22:a.memoizedState===null&&Bi(a);break;case 30:Bi(a);break;default:Bi(a)}t=t.sibling}}function en(t,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var r=a.alternate,m=t,p=a,_=p.flags;switch(p.tag){case 0:case 11:case 15:en(m,p,s),Fn(4,p);break;case 1:if(en(m,p,s),r=p,m=r.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(K){ge(r,r.return,K)}if(r=p,m=r.updateQueue,m!==null){var M=r.stateNode;try{var U=m.shared.hiddenCallbacks;if(U!==null)for(m.shared.hiddenCallbacks=null,m=0;m<U.length;m++)Cu(U[m],M)}catch(K){ge(r,r.return,K)}}s&&_&64&&ri(p),rl(p,p.return);break;case 27:so(p);case 26:case 5:en(m,p,s),s&&r===null&&_&4&&Br(p),rl(p,p.return);break;case 12:en(m,p,s);break;case 31:en(m,p,s),s&&_&4&&Ql(m,p);break;case 13:en(m,p,s),s&&_&4&&Ou(m,p);break;case 22:p.memoizedState===null&&en(m,p,s),rl(p,p.return);break;case 30:break;default:en(m,p,s)}a=a.sibling}}function Zl(t,a){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&ys(s))}function Rs(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&ys(t))}function ja(t,a,s,r){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Zf(t,a,s,r),a=a.sibling}function Zf(t,a,s,r){var m=a.flags;switch(a.tag){case 0:case 11:case 15:ja(t,a,s,r),m&2048&&Fn(9,a);break;case 1:ja(t,a,s,r);break;case 3:ja(t,a,s,r),m&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&ys(t)));break;case 12:if(m&2048){ja(t,a,s,r),t=a.stateNode;try{var p=a.memoizedProps,_=p.id,M=p.onPostCommit;typeof M=="function"&&M(_,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(U){ge(a,a.return,U)}}else ja(t,a,s,r);break;case 31:ja(t,a,s,r);break;case 13:ja(t,a,s,r);break;case 23:break;case 22:p=a.stateNode,_=a.alternate,a.memoizedState!==null?p._visibility&2?ja(t,a,s,r):Hi(t,a):p._visibility&2?ja(t,a,s,r):(p._visibility|=2,wa(t,a,s,r,(a.subtreeFlags&10256)!==0||!1)),m&2048&&Zl(_,a);break;case 24:ja(t,a,s,r),m&2048&&Rs(a.alternate,a);break;default:ja(t,a,s,r)}}function wa(t,a,s,r,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=t,_=a,M=s,U=r,K=_.flags;switch(_.tag){case 0:case 11:case 15:wa(p,_,M,U,m),Fn(8,_);break;case 23:break;case 22:var tt=_.stateNode;_.memoizedState!==null?tt._visibility&2?wa(p,_,M,U,m):Hi(p,_):(tt._visibility|=2,wa(p,_,M,U,m)),m&&K&2048&&Zl(_.alternate,_);break;case 24:wa(p,_,M,U,m),m&&K&2048&&Rs(_.alternate,_);break;default:wa(p,_,M,U,m)}a=a.sibling}}function Hi(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=t,r=a,m=r.flags;switch(r.tag){case 22:Hi(s,r),m&2048&&Zl(r.alternate,r);break;case 24:Hi(s,r),m&2048&&Rs(r.alternate,r);break;default:Hi(s,r)}a=a.sibling}}var zs=8192;function Dn(t,a,s){if(t.subtreeFlags&zs)for(t=t.child;t!==null;)co(t,a,s),t=t.sibling}function co(t,a,s){switch(t.tag){case 26:Dn(t,a,s),t.flags&zs&&t.memoizedState!==null&&s3(s,Wn,t.memoizedState,t.memoizedProps);break;case 5:Dn(t,a,s);break;case 3:case 4:var r=Wn;Wn=$d(t.stateNode.containerInfo),Dn(t,a,s),Wn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=zs,zs=16777216,Dn(t,a,s),zs=r):Dn(t,a,s));break;default:Dn(t,a,s)}}function Us(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function kl(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var r=a[s];Da=r,ea(r,t)}Us(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gn(t),t=t.sibling}function gn(t){switch(t.tag){case 0:case 11:case 15:kl(t),t.flags&2048&&Ba(9,t,t.return);break;case 3:kl(t);break;case 12:kl(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,an(t)):kl(t);break;default:kl(t)}}function an(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var r=a[s];Da=r,ea(r,t)}Us(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:Ba(8,a,a.return),an(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,an(a));break;default:an(a)}t=t.sibling}}function ea(t,a){for(;Da!==null;){var s=Da;switch(s.tag){case 0:case 11:case 15:Ba(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var r=s.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ys(s.memoizedState.cache)}if(r=s.child,r!==null)r.return=s,Da=r;else t:for(s=t;Da!==null;){r=Da;var m=r.sibling,p=r.return;if(Hr(r),r===s){Da=null;break t}if(m!==null){m.return=p,Da=m;break t}Da=p}}}var ol={getCacheForType:function(t){var a=qt(ga),s=a.data.get(t);return s===void 0&&(s=t(),a.data.set(t,s)),s},cacheSignal:function(){return qt(ga).controller.signal}},Jt=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Vt=null,Wt=null,Pt=0,ce=0,ka=null,ti=!1,oi=!1,kf=!1,Rn=0,Ze=0,ji=0,Jl=0,jr=0,nn=0,ze=0,Gs=null,aa=null,na=!1,Du=0,Jf=0,ca=1/0,ke=null,oa=null,xe=0,zn=null,Ru=null,ei=0,zu=0,Uu=null,wr=null,Fl=0,Bs=null;function Un(){return(Rt&2)!==0&&Pt!==0?Pt&-Pt:H.T!==null?F():ec()}function ae(){if(nn===0)if((Pt&536870912)===0||ue){var t=Zs;Zs<<=1,(Zs&3932160)===0&&(Zs=262144),nn=t}else nn=536870912;return t=fn.current,t!==null&&(t.flags|=32),nn}function $t(t,a,s){(t===Vt&&(ce===2||ce===9)||t.cancelPendingCommit!==null)&&(Il(t,0),ya(t,Pt,nn,!1)),Js(t,s),((Rt&2)===0||t!==Vt)&&(t===Vt&&((Rt&2)===0&&(Jl|=s),Ze===4&&ya(t,Pt,nn,!1)),ot(t))}function ne(t,a,s){if((Rt&6)!==0)throw Error(u(327));var r=!s&&(a&127)===0&&(a&t.expiredLanes)===0||ks(t,a),m=r?Lr(t,a):ln(t,a,!0),p=r;do{if(m===0){oi&&!r&&ya(t,a,0,!1);break}else{if(s=t.current.alternate,p&&!_e(s)){m=ln(t,a,!1),p=!1;continue}if(m===2){if(p=a,t.errorRecoveryDisabledLanes&p)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){a=_;t:{var M=t;m=Gs;var U=M.current.memoizedState.isDehydrated;if(U&&(Il(M,_).flags|=256),_=ln(M,_,!1),_!==2){if(kf&&!U){M.errorRecoveryDisabledLanes|=p,Jl|=p,m=4;break t}p=aa,aa=m,p!==null&&(aa===null?aa=p:aa.push.apply(aa,p))}m=_}if(p=!1,m!==2)continue}}if(m===1){Il(t,0),ya(t,a,0,!0);break}t:{switch(r=t,p=m,p){case 0:case 1:throw Error(u(345));case 4:if((a&4194048)!==a)break;case 6:ya(r,a,nn,!ti);break t;case 2:aa=null;break;case 3:case 5:break;default:throw Error(u(329))}if((a&62914560)===a&&(m=Du+300-ba(),10<m)){if(ya(r,a,nn,!ti),ls(r,0,!0)!==0)break t;ei=a,r.timeoutHandle=F2(se.bind(null,r,s,aa,ke,na,a,nn,Jl,ze,ti,p,"Throttled",-0,0),m);break t}se(r,s,aa,ke,na,a,nn,Jl,ze,ti,p,null,-0,0)}}break}while(!0);ot(t)}function se(t,a,s,r,m,p,_,M,U,K,tt,nt,k,I){if(t.timeoutHandle=-1,nt=a.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pi},co(a,p,nt);var Mt=(p&62914560)===p?Du-ba():(p&4194048)===p?Jf-ba():0;if(Mt=u3(nt,Mt),Mt!==null){ei=p,t.cancelPendingCommit=Mt(hl.bind(null,t,a,p,s,r,m,_,M,U,tt,nt,null,k,I)),ya(t,p,_,!K);return}}hl(t,a,p,s,r,m,_,M,U)}function _e(t){for(var a=t;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var r=0;r<s.length;r++){var m=s[r],p=m.getSnapshot;m=m.value;try{if(!Pa(p(),m))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ya(t,a,s,r){a&=~jr,a&=~Jl,t.suspendedLanes|=a,t.pingedLanes&=~a,r&&(t.warmLanes|=a),r=t.expirationTimes;for(var m=a;0<m;){var p=31-xn(m),_=1<<p;r[p]=-1,m&=~_}s!==0&&Fs(t,s,a)}function fi(){return(Rt&6)===0?(Ct(0),!1):!0}function Pl(){if(Wt!==null){if(ce===0)var t=Wt.return;else t=Wt,Mi=Hl=null,yf(t),_s=null,Cs=0,t=Wt;for(;t!==null;)On(t.alternate,t),t=t.return;Wt=null}}function Il(t,a){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Vp(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ei=0,Pl(),Vt=t,Wt=s=rn(t.current,null),Pt=a,ce=0,ka=null,ti=!1,oi=ks(t,a),kf=!1,ze=nn=jr=Jl=ji=Ze=0,aa=Gs=null,na=!1,(a&8)!==0&&(a|=a&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=a;0<r;){var m=31-xn(r),p=1<<m;a|=t[m],r&=~p}return Rn=a,vr(),s}function wi(t,a){kt=null,H.H=Mu,a===vs||a===It?(a=bs(),ce=3):a===_r?(a=bs(),ce=4):ce=a===Ic?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ka=a,Wt===null&&(Ze=1,Pc(t,Tn(a,t.current)))}function Je(){var t=fn.current;return t===null?!0:(Pt&4194048)===Pt?$a===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?t===$a:!1}function fl(){var t=H.H;return H.H=Mu,t===null?Mu:t}function Wl(){var t=H.A;return H.A=ol,t}function Gu(){Ze=4,ti||(Pt&4194048)!==Pt&&fn.current!==null||(oi=!0),(ji&134217727)===0&&(Jl&134217727)===0||Vt===null||ya(Vt,Pt,nn,!1)}function ln(t,a,s){var r=Rt;Rt|=2;var m=fl(),p=Wl();(Vt!==t||Pt!==a)&&(ke=null,Il(t,a)),a=!1;var _=Ze;t:do try{if(ce!==0&&Wt!==null){var M=Wt,U=ka;switch(ce){case 8:Pl(),_=6;break t;case 3:case 2:case 9:case 6:fn.current===null&&(a=!0);var K=ce;if(ce=0,ka=null,Hs(t,M,U,K),s&&oi){_=0;break t}break;default:K=ce,ce=0,ka=null,Hs(t,M,U,K)}}Bu(),_=Ze;break}catch(tt){wi(t,tt)}while(!0);return a&&t.shellSuspendCounter++,Mi=Hl=null,Rt=r,H.H=m,H.A=p,Wt===null&&(Vt=null,Pt=0,vr()),_}function Bu(){for(;Wt!==null;)oo(Wt)}function Lr(t,a){var s=Rt;Rt|=2;var r=fl(),m=Wl();Vt!==t||Pt!==a?(ke=null,ca=ba()+500,Il(t,a)):oi=ks(t,a);t:do try{if(ce!==0&&Wt!==null){a=Wt;var p=ka;e:switch(ce){case 1:ce=0,ka=null,Hs(t,a,p,1);break;case 2:case 9:if(on(p)){ce=0,ka=null,Yr(a);break}a=function(){ce!==2&&ce!==9||Vt!==t||(ce=7),ot(t)},p.then(a,a);break t;case 3:ce=7;break t;case 4:ce=5;break t;case 7:on(p)?(ce=0,ka=null,Yr(a)):(ce=0,ka=null,Hs(t,a,p,7));break;case 5:var _=null;switch(Wt.tag){case 26:_=Wt.memoizedState;case 5:case 27:var M=Wt;if(_?om(_):M.stateNode.complete){ce=0,ka=null;var U=M.sibling;if(U!==null)Wt=U;else{var K=M.return;K!==null?(Wt=K,$l(K)):Wt=null}break e}}ce=0,ka=null,Hs(t,a,p,5);break;case 6:ce=0,ka=null,Hs(t,a,p,6);break;case 8:Pl(),Ze=6;break t;default:throw Error(u(462))}}pn();break}catch(tt){wi(t,tt)}while(!0);return Mi=Hl=null,H.H=r,H.A=m,Rt=s,Wt!==null?0:(Vt=null,Pt=0,vr(),Ze)}function pn(){for(;Wt!==null&&!Ki();)oo(Wt)}function oo(t){var a=lo(t.alternate,t,Rn);t.memoizedProps=t.pendingProps,a===null?$l(t):Wt=a}function Yr(t){var a=t,s=a.alternate;switch(a.tag){case 15:case 0:a=Rr(s,a,a.pendingProps,a.type,void 0,Pt);break;case 11:a=Rr(s,a,a.pendingProps,a.type.render,a.ref,Pt);break;case 5:yf(a);default:On(s,a),a=Wt=du(a,Rn),a=lo(s,a,Rn)}t.memoizedProps=t.pendingProps,a===null?$l(t):Wt=a}function Hs(t,a,s,r){Mi=Hl=null,yf(a),_s=null,Cs=0;var m=a.return;try{if(_a(t,m,a,s,Pt)){Ze=1,Pc(t,Tn(s,t.current)),Wt=null;return}}catch(p){if(m!==null)throw Wt=m,p;Ze=1,Pc(t,Tn(s,t.current)),Wt=null;return}a.flags&32768?(ue||r===1?t=!0:oi||(Pt&536870912)!==0?t=!1:(ti=t=!0,(r===2||r===9||r===3||r===6)&&(r=fn.current,r!==null&&r.tag===13&&(r.flags|=16384))),qr(a,t)):$l(a)}function $l(t){var a=t;do{if((a.flags&32768)!==0){qr(a,ti);return}t=a.return;var s=Gr(a.alternate,a,Rn);if(s!==null){Wt=s;return}if(a=a.sibling,a!==null){Wt=a;return}Wt=a=t}while(a!==null);Ze===0&&(Ze=5)}function qr(t,a){do{var s=Jn(t.alternate,t);if(s!==null){s.flags&=32767,Wt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(t=t.sibling,t!==null)){Wt=t;return}Wt=t=s}while(t!==null);Ze=6,Wt=null}function hl(t,a,s,r,m,p,_,M,U){t.cancelPendingCommit=null;do Hu();while(xe!==0);if((Rt&6)!==0)throw Error(u(327));if(a!==null){if(a===t.current)throw Error(u(177));if(p=a.lanes|a.childLanes,p|=Aa,tc(t,s,p,_,M,U),t===Vt&&(Wt=Vt=null,Pt=0),Ru=a,zn=t,ei=s,zu=p,Uu=m,wr=r,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,v(We,function(){return fo(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||r){r=H.T,H.T=null,m=ct.p,ct.p=2,_=Rt,Rt|=4;try{f1(t,a,s)}finally{Rt=_,ct.p=m,H.T=r}}xe=1,va(),dl(),js()}}function va(){if(xe===1){xe=0;var t=zn,a=Ru,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var r=ct.p;ct.p=2;var m=Rt;Rt|=4;try{Kl(a,t);var p=v1,_=Ih(t.containerInfo),M=p.focusedElem,U=p.selectionRange;if(_!==M&&M&&M.ownerDocument&&Ae(M.ownerDocument.documentElement,M)){if(U!==null&&Wo(M)){var K=U.start,tt=U.end;if(tt===void 0&&(tt=K),"selectionStart"in M)M.selectionStart=K,M.selectionEnd=Math.min(tt,M.value.length);else{var nt=M.ownerDocument||document,k=nt&&nt.defaultView||window;if(k.getSelection){var I=k.getSelection(),Mt=M.textContent.length,Yt=Math.min(U.start,Mt),De=U.end===void 0?Yt:Math.min(U.end,Mt);!I.extend&&Yt>De&&(_=De,De=Yt,Yt=_);var L=ou(M,Yt),j=ou(M,De);if(L&&j&&(I.rangeCount!==1||I.anchorNode!==L.node||I.anchorOffset!==L.offset||I.focusNode!==j.node||I.focusOffset!==j.offset)){var Q=nt.createRange();Q.setStart(L.node,L.offset),I.removeAllRanges(),Yt>De?(I.addRange(Q),I.extend(j.node,j.offset)):(Q.setEnd(j.node,j.offset),I.addRange(Q))}}}}for(nt=[],I=M;I=I.parentNode;)I.nodeType===1&&nt.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<nt.length;M++){var at=nt[M];at.element.scrollLeft=at.left,at.element.scrollTop=at.top}}l0=!!y1,v1=y1=null}finally{Rt=m,ct.p=r,H.T=s}}t.current=a,xe=2}}function dl(){if(xe===2){xe=0;var t=zn,a=Ru,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var r=ct.p;ct.p=2;var m=Rt;Rt|=4;try{Le(t,a.alternate,a)}finally{Rt=m,ct.p=r,H.T=s}}xe=3}}function js(){if(xe===4||xe===3){xe=0,Sa();var t=zn,a=Ru,s=ei,r=wr;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?xe=5:(xe=0,Ru=zn=null,Li(t,t.pendingLanes));var m=t.pendingLanes;if(m===0&&(oa=null),Is(s),a=a.stateNode,ee&&typeof ee.onCommitFiberRoot=="function")try{ee.onCommitFiberRoot(Ge,a,void 0,(a.current.flags&128)===128)}catch{}if(r!==null){a=H.T,m=ct.p,ct.p=2,H.T=null;try{for(var p=t.onRecoverableError,_=0;_<r.length;_++){var M=r[_];p(M.value,{componentStack:M.stack})}}finally{H.T=a,ct.p=m}}(ei&3)!==0&&Hu(),ot(t),m=t.pendingLanes,(s&261930)!==0&&(m&42)!==0?t===Bs?Fl++:(Fl=0,Bs=t):Fl=0,Ct(0)}}function Li(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,ys(a)))}function Hu(){return va(),dl(),js(),fo()}function fo(){if(xe!==5)return!1;var t=zn,a=zu;zu=0;var s=Is(ei),r=H.T,m=ct.p;try{ct.p=32>s?32:s,H.T=null,s=Uu,Uu=null;var p=zn,_=ei;if(xe=0,Ru=zn=null,ei=0,(Rt&6)!==0)throw Error(u(331));var M=Rt;if(Rt|=4,gn(p.current),Zf(p,p.current,_,s),Rt=M,Ct(0,!1),ee&&typeof ee.onPostCommitFiberRoot=="function")try{ee.onPostCommitFiberRoot(Ge,p)}catch{}return!0}finally{ct.p=m,H.T=r,Li(t,a)}}function Ff(t,a,s){a=Tn(s,a),a=Lf(t.stateNode,a,2),t=Ll(t,a,2),t!==null&&(Js(t,2),ot(t))}function ge(t,a,s){if(t.tag===3)Ff(t,t,s);else for(;a!==null;){if(a.tag===3){Ff(a,t,s);break}else if(a.tag===1){var r=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(oa===null||!oa.has(r))){t=Tn(s,t),s=Yf(2),r=Ll(a,s,2),r!==null&&(Qd(s,r,a,t),Js(r,2),ot(r));break}}a=a.return}}function Xr(t,a,s){var r=t.pingCache;if(r===null){r=t.pingCache=new Jt;var m=new Set;r.set(a,m)}else m=r.get(a),m===void 0&&(m=new Set,r.set(a,m));m.has(s)||(kf=!0,m.add(s),t=n.bind(null,t,a,s),a.then(t,t))}function n(t,a,s){var r=t.pingCache;r!==null&&r.delete(a),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Vt===t&&(Pt&s)===s&&(Ze===4||Ze===3&&(Pt&62914560)===Pt&&300>ba()-Du?(Rt&2)===0&&Il(t,0):jr|=s,ze===Pt&&(ze=0)),ot(t)}function i(t,a){a===0&&(a=xl()),t=Ia(t,a),t!==null&&(Js(t,a),ot(t))}function c(t){var a=t.memoizedState,s=0;a!==null&&(s=a.retryLane),i(t,s)}function d(t,a){var s=0;switch(t.tag){case 31:case 13:var r=t.stateNode,m=t.memoizedState;m!==null&&(s=m.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(u(314))}r!==null&&r.delete(a),i(t,s)}function v(t,a){return gi(t,a)}var b=null,A=null,G=!1,P=!1,ut=!1,pt=0;function ot(t){t!==A&&t.next===null&&(A===null?b=A=t:A=A.next=t),P=!0,G||(G=!0,Y())}function Ct(t,a){if(!ut&&P){ut=!0;do for(var s=!1,r=b;r!==null;){if(t!==0){var m=r.pendingLanes;if(m===0)var p=0;else{var _=r.suspendedLanes,M=r.pingedLanes;p=(1<<31-xn(42|t)+1)-1,p&=m&~(_&~M),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,Z(r,p))}else p=Pt,p=ls(r,r===Vt?p:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(p&3)===0||ks(r,p)||(s=!0,Z(r,p));r=r.next}while(s);ut=!1}}function Zt(){Ra()}function Ra(){P=G=!1;var t=0;pt!==0&&Xp()&&(t=pt);for(var a=ba(),s=null,r=b;r!==null;){var m=r.next,p=ju(r,a);p===0?(r.next=null,s===null?b=m:s.next=m,m===null&&(A=s)):(s=r,(t!==0||(p&3)!==0)&&(P=!0)),r=m}xe!==0&&xe!==5||Ct(t),pt!==0&&(pt=0)}function ju(t,a){for(var s=t.suspendedLanes,r=t.pingedLanes,m=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var _=31-xn(p),M=1<<_,U=m[_];U===-1?((M&s)===0||(M&r)!==0)&&(m[_]=Mh(M,a)):U<=a&&(t.expiredLanes|=M),p&=~M}if(a=Vt,s=Pt,s=ls(t,t===a?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,s===0||t===a&&(ce===2||ce===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Sl(r),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ks(t,s)){if(a=s&-s,a===t.callbackPriority)return a;switch(r!==null&&Sl(r),Is(s)){case 2:case 8:s=Kt;break;case 32:s=We;break;case 268435456:s=Re;break;default:s=We}return r=ts.bind(null,t),s=gi(s,r),t.callbackPriority=a,t.callbackNode=s,a}return r!==null&&r!==null&&Sl(r),t.callbackPriority=2,t.callbackNode=null,2}function ts(t,a){if(xe!==0&&xe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Hu()&&t.callbackNode!==s)return null;var r=Pt;return r=ls(t,t===Vt?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(ne(t,r,a),ju(t,ba()),t.callbackNode!=null&&t.callbackNode===s?ts.bind(null,t):null)}function Z(t,a){if(Hu())return null;ne(t,a,!0)}function Y(){Qp(function(){(Rt&6)!==0?gi(Dt,Zt):Ra()})}function F(){if(pt===0){var t=al;t===0&&(t=Wr,Wr<<=1,(Wr&261888)===0&&(Wr=256)),pt=t}return pt}function mt(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ir(""+t)}function Ht(t,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,t.id&&s.setAttribute("form",t.id),a.parentNode.insertBefore(s,a),t=new FormData(t),s.parentNode.removeChild(s),t}function Fe(t,a,s,r,m){if(a==="submit"&&s&&s.stateNode===m){var p=mt((m[qa]||null).action),_=r.submitter;_&&(a=(a=_[qa]||null)?mt(a.formAction):_.getAttribute("formAction"),a!==null&&(p=a,_=null));var M=new ur("action","action",null,r,m);t.push({event:M,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(pt!==0){var U=_?Ht(m,_):new FormData(m);Rf(s,{pending:!0,data:U,method:m.method,action:p},null,U)}}else typeof p=="function"&&(M.preventDefault(),U=_?Ht(m,_):new FormData(m),Rf(s,{pending:!0,data:U,method:m.method,action:p},p,U))},currentTarget:m}]})}}for(var Lt=0;Lt<pr.length;Lt++){var de=pr[Lt],za=de.toLowerCase(),ye=de[0].toUpperCase()+de.slice(1);qn(za,"on"+ye)}qn(Ec,"onAnimationEnd"),qn(gr,"onAnimationIteration"),qn(tf,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn($h,"onTransitionRun"),qn(n1,"onTransitionStart"),qn(td,"onTransitionCancel"),qn(ef,"onTransitionEnd"),_n("onMouseEnter",["mouseout","mouseover"]),_n("onMouseLeave",["mouseout","mouseover"]),_n("onPointerEnter",["pointerout","pointerover"]),_n("onPointerLeave",["pointerout","pointerover"]),Al("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Al("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Al("onBeforeInput",["compositionend","keypress","textInput","paste"]),Al("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Al("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Al("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ai));function q2(t,a){a=(a&4)!==0;for(var s=0;s<t.length;s++){var r=t[s],m=r.event;r=r.listeners;t:{var p=void 0;if(a)for(var _=r.length-1;0<=_;_--){var M=r[_],U=M.instance,K=M.currentTarget;if(M=M.listener,U!==p&&m.isPropagationStopped())break t;p=M,m.currentTarget=K;try{p(m)}catch(tt){yr(tt)}m.currentTarget=null,p=U}else for(_=0;_<r.length;_++){if(M=r[_],U=M.instance,K=M.currentTarget,M=M.listener,U!==p&&m.isPropagationStopped())break t;p=M,m.currentTarget=K;try{p(m)}catch(tt){yr(tt)}m.currentTarget=null,p=U}}}}function oe(t,a){var s=a[pi];s===void 0&&(s=a[pi]=new Set);var r=t+"__bubble";s.has(r)||(X2(a,t,2,!1),s.add(r))}function d1(t,a,s){var r=0;a&&(r|=4),X2(s,t,r,a)}var Pd="_reactListening"+Math.random().toString(36).slice(2);function m1(t){if(!t[Pd]){t[Pd]=!0,Ji.forEach(function(s){s!=="selectionchange"&&(h1.has(s)||d1(s,!1,t),d1(s,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[Pd]||(a[Pd]=!0,d1("selectionchange",!1,a))}}function X2(t,a,s,r){switch(ym(a)){case 2:var m=o3;break;case 8:m=f3;break;default:m=O1}s=m.bind(null,a,s,t),m=void 0,!Ho||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),r?m!==void 0?t.addEventListener(a,s,{capture:!0,passive:m}):t.addEventListener(a,s,!0):m!==void 0?t.addEventListener(a,s,{passive:m}):t.addEventListener(a,s,!1)}function g1(t,a,s,r,m){var p=r;if((a&1)===0&&(a&2)===0&&r!==null)t:for(;;){if(r===null)return;var _=r.tag;if(_===3||_===4){var M=r.stateNode.containerInfo;if(M===m)break;if(_===4)for(_=r.return;_!==null;){var U=_.tag;if((U===3||U===4)&&_.stateNode.containerInfo===m)return;_=_.return}for(;M!==null;){if(_=us(M),_===null)return;if(U=_.tag,U===5||U===6||U===26||U===27){r=p=_;continue t}M=M.parentNode}}r=r.return}Bo(function(){var K=p,tt=fc(s),nt=[];t:{var k=Yn.get(t);if(k!==void 0){var I=ur,Mt=t;switch(t){case"keypress":if(sr(s)===0)break t;case"keydown":case"keyup":I=hs;break;case"focusin":Mt="focus",I=gc;break;case"focusout":Mt="blur",I=gc;break;case"beforeblur":case"afterblur":I=gc;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=Uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=Lh;break;case Ec:case gr:case tf:I=t1;break;case ef:I=a1;break;case"scroll":case"scrollend":I=Rh;break;case"wheel":I=qh;break;case"copy":case"cut":case"paste":I=Bh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Yo;break;case"toggle":case"beforetoggle":I=Vh}var Yt=(a&4)!==0,De=!Yt&&(t==="scroll"||t==="scrollend"),L=Yt?k!==null?k+"Capture":null:k;Yt=[];for(var j=K,Q;j!==null;){var at=j;if(Q=at.stateNode,at=at.tag,at!==5&&at!==26&&at!==27||Q===null||L===null||(at=eu(j,L),at!=null&&Yt.push(Pf(j,at,Q))),De)break;j=j.return}0<Yt.length&&(k=new I(k,Mt,null,s,tt),nt.push({event:k,listeners:Yt}))}}if((a&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",k&&s!==oc&&(Mt=s.relatedTarget||s.fromElement)&&(us(Mt)||Mt[Cl]))break t;if((I||k)&&(k=tt.window===tt?tt:(k=tt.ownerDocument)?k.defaultView||k.parentWindow:window,I?(Mt=s.relatedTarget||s.toElement,I=K,Mt=Mt?us(Mt):null,Mt!==null&&(De=h(Mt),Yt=Mt.tag,Mt!==De||Yt!==5&&Yt!==27&&Yt!==6)&&(Mt=null)):(I=null,Mt=K),I!==Mt)){if(Yt=jo,at="onMouseLeave",L="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(Yt=Yo,at="onPointerLeave",L="onPointerEnter",j="pointer"),De=I==null?k:Ws(I),Q=Mt==null?k:Ws(Mt),k=new Yt(at,j+"leave",I,s,tt),k.target=De,k.relatedTarget=Q,at=null,us(tt)===K&&(Yt=new Yt(L,j+"enter",Mt,s,tt),Yt.target=Q,Yt.relatedTarget=De,at=Yt),De=at,I&&Mt)e:{for(Yt=jp,L=I,j=Mt,Q=0,at=L;at;at=Yt(at))Q++;at=0;for(var Bt=j;Bt;Bt=Yt(Bt))at++;for(;0<Q-at;)L=Yt(L),Q--;for(;0<at-Q;)j=Yt(j),at--;for(;Q--;){if(L===j||j!==null&&L===j.alternate){Yt=L;break e}L=Yt(L),j=Yt(j)}Yt=null}else Yt=null;I!==null&&V2(nt,k,I,Yt,!1),Mt!==null&&De!==null&&V2(nt,De,Mt,Yt,!0)}}t:{if(k=K?Ws(K):window,I=k.nodeName&&k.nodeName.toLowerCase(),I==="select"||I==="input"&&k.type==="file")var ve=ko;else if(Zo(k))if(Si)ve=Ph;else{ve=Po;var Nt=Jh}else I=k.nodeName,!I||I.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?K&&cc(K.elementType)&&(ve=ko):ve=Fh;if(ve&&(ve=ve(t,K))){_c(nt,ve,s,tt);break t}Nt&&Nt(t,k,K),t==="focusout"&&K&&k.type==="number"&&K.memoizedProps.value!=null&&si(k,"number",k.value)}switch(Nt=K?Ws(K):window,t){case"focusin":(Zo(Nt)||Nt.contentEditable==="true")&&(bi=Nt,xi=K,fu=null);break;case"focusout":fu=xi=bi=null;break;case"mousedown":Cc=!0;break;case"contextmenu":case"mouseup":case"dragend":Cc=!1,hu(nt,s,tt);break;case"selectionchange":if(Wh)break;case"keydown":case"keyup":hu(nt,s,tt)}var te;if(ds)t:{switch(t){case"compositionstart":var me="onCompositionStart";break t;case"compositionend":me="onCompositionEnd";break t;case"compositionupdate":me="onCompositionUpdate";break t}me=void 0}else ms?xc(t,s)&&(me="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(me="onCompositionStart");me&&(Xo&&s.locale!=="ko"&&(ms||me!=="onCompositionStart"?me==="onCompositionEnd"&&ms&&(te=lr()):(En=tt,dc="value"in En?En.value:En.textContent,ms=!0)),Nt=Id(K,me),0<Nt.length&&(me=new pc(me,t,null,s,tt),nt.push({event:me,listeners:Nt}),te?me.data=te:(te=Vo(s),te!==null&&(me.data=te)))),(te=bc?Zh(t,s):Qo(t,s))&&(me=Id(K,"onBeforeInput"),0<me.length&&(Nt=new pc("onBeforeInput","beforeinput",null,s,tt),nt.push({event:Nt,listeners:me}),Nt.data=te)),Fe(nt,t,K,s,tt)}q2(nt,a)})}function Pf(t,a,s){return{instance:t,listener:a,currentTarget:s}}function Id(t,a){for(var s=a+"Capture",r=[];t!==null;){var m=t,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=eu(t,s),m!=null&&r.unshift(Pf(t,m,p)),m=eu(t,a),m!=null&&r.push(Pf(t,m,p))),t.tag===3)return r;t=t.return}return[]}function jp(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function V2(t,a,s,r,m){for(var p=a._reactName,_=[];s!==null&&s!==r;){var M=s,U=M.alternate,K=M.stateNode;if(M=M.tag,U!==null&&U===r)break;M!==5&&M!==26&&M!==27||K===null||(U=K,m?(K=eu(s,p),K!=null&&_.unshift(Pf(s,K,U))):m||(K=eu(s,p),K!=null&&_.push(Pf(s,K,U)))),s=s.return}_.length!==0&&t.push({event:a,listeners:_})}var wp=/\r\n?/g,Lp=/\u0000|\uFFFD/g;function Q2(t){return(typeof t=="string"?t:""+t).replace(wp,`
`).replace(Lp,"")}function K2(t,a){return a=Q2(a),Q2(t)===a}function Oe(t,a,s,r,m,p){switch(s){case"children":typeof r=="string"?a==="body"||a==="textarea"&&r===""||cs(t,r):(typeof r=="number"||typeof r=="bigint")&&a!=="body"&&cs(t,""+r);break;case"className":ar(t,"class",r);break;case"tabIndex":ar(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ar(t,s,r);break;case"style":zo(t,r,p);break;case"data":if(a!=="object"){ar(t,"data",r);break}case"src":case"href":if(r===""&&(a!=="a"||s!=="href")){t.removeAttribute(s);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(s);break}r=ir(""+r),t.setAttribute(s,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(a!=="input"&&Oe(t,a,"name",m.name,m,null),Oe(t,a,"formEncType",m.formEncType,m,null),Oe(t,a,"formMethod",m.formMethod,m,null),Oe(t,a,"formTarget",m.formTarget,m,null)):(Oe(t,a,"encType",m.encType,m,null),Oe(t,a,"method",m.method,m,null),Oe(t,a,"target",m.target,m,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(s);break}r=ir(""+r),t.setAttribute(s,r);break;case"onClick":r!=null&&(t.onclick=Pi);break;case"onScroll":r!=null&&oe("scroll",t);break;case"onScrollEnd":r!=null&&oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(u(61));if(s=r.__html,s!=null){if(m.children!=null)throw Error(u(60));t.innerHTML=s}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}s=ir(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(s,""+r):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":r===!0?t.setAttribute(s,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(s,r):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(s,r):t.removeAttribute(s);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(s):t.setAttribute(s,r);break;case"popover":oe("beforetoggle",t),oe("toggle",t),$s(t,"popover",r);break;case"xlinkActuate":yi(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":yi(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":yi(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":yi(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":yi(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":yi(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":yi(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":yi(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":yi(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":$s(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Oh.get(s)||s,$s(t,s,r))}}function p1(t,a,s,r,m,p){switch(s){case"style":zo(t,r,p);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(u(61));if(s=r.__html,s!=null){if(m.children!=null)throw Error(u(60));t.innerHTML=s}}break;case"children":typeof r=="string"?cs(t,r):(typeof r=="number"||typeof r=="bigint")&&cs(t,""+r);break;case"onScroll":r!=null&&oe("scroll",t);break;case"onScrollEnd":r!=null&&oe("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nc.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(m=s.endsWith("Capture"),a=s.slice(2,m?s.length-7:void 0),p=t[qa]||null,p=p!=null?p[s]:null,typeof p=="function"&&t.removeEventListener(a,p,m),typeof r=="function")){typeof p!="function"&&p!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(a,r,m);break t}s in t?t[s]=r:r===!0?t.setAttribute(s,""):$s(t,s,r)}}}function sn(t,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":oe("error",t),oe("load",t);var r=!1,m=!1,p;for(p in s)if(s.hasOwnProperty(p)){var _=s[p];if(_!=null)switch(p){case"src":r=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,a));default:Oe(t,a,p,_,s,null)}}m&&Oe(t,a,"srcSet",s.srcSet,s,null),r&&Oe(t,a,"src",s.src,s,null);return;case"input":oe("invalid",t);var M=p=_=m=null,U=null,K=null;for(r in s)if(s.hasOwnProperty(r)){var tt=s[r];if(tt!=null)switch(r){case"name":m=tt;break;case"type":_=tt;break;case"checked":U=tt;break;case"defaultChecked":K=tt;break;case"value":p=tt;break;case"defaultValue":M=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(u(137,a));break;default:Oe(t,a,r,tt,s,null)}}sc(t,p,M,U,K,_,m,!1);return;case"select":oe("invalid",t),r=_=p=null;for(m in s)if(s.hasOwnProperty(m)&&(M=s[m],M!=null))switch(m){case"value":p=M;break;case"defaultValue":_=M;break;case"multiple":r=M;default:Oe(t,a,m,M,s,null)}a=p,s=_,t.multiple=!!r,a!=null?Fi(t,!!r,a,!1):s!=null&&Fi(t,!!r,s,!0);return;case"textarea":oe("invalid",t),p=m=r=null;for(_ in s)if(s.hasOwnProperty(_)&&(M=s[_],M!=null))switch(_){case"value":r=M;break;case"defaultValue":m=M;break;case"children":p=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(u(91));break;default:Oe(t,a,_,M,s,null)}rc(t,r,m,p);return;case"option":for(U in s)if(s.hasOwnProperty(U)&&(r=s[U],r!=null))switch(U){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Oe(t,a,U,r,s,null)}return;case"dialog":oe("beforetoggle",t),oe("toggle",t),oe("cancel",t),oe("close",t);break;case"iframe":case"object":oe("load",t);break;case"video":case"audio":for(r=0;r<ai.length;r++)oe(ai[r],t);break;case"image":oe("error",t),oe("load",t);break;case"details":oe("toggle",t);break;case"embed":case"source":case"link":oe("error",t),oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in s)if(s.hasOwnProperty(K)&&(r=s[K],r!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,a));default:Oe(t,a,K,r,s,null)}return;default:if(cc(a)){for(tt in s)s.hasOwnProperty(tt)&&(r=s[tt],r!==void 0&&p1(t,a,tt,r,s,void 0));return}}for(M in s)s.hasOwnProperty(M)&&(r=s[M],r!=null&&Oe(t,a,M,r,s,null))}function Yp(t,a,s,r){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,_=null,M=null,U=null,K=null,tt=null;for(I in s){var nt=s[I];if(s.hasOwnProperty(I)&&nt!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":U=nt;default:r.hasOwnProperty(I)||Oe(t,a,I,null,r,nt)}}for(var k in r){var I=r[k];if(nt=s[k],r.hasOwnProperty(k)&&(I!=null||nt!=null))switch(k){case"type":p=I;break;case"name":m=I;break;case"checked":K=I;break;case"defaultChecked":tt=I;break;case"value":_=I;break;case"defaultValue":M=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(u(137,a));break;default:I!==nt&&Oe(t,a,k,I,r,nt)}}tu(t,_,M,U,K,tt,p,m);return;case"select":I=_=M=k=null;for(p in s)if(U=s[p],s.hasOwnProperty(p)&&U!=null)switch(p){case"value":break;case"multiple":I=U;default:r.hasOwnProperty(p)||Oe(t,a,p,null,r,U)}for(m in r)if(p=r[m],U=s[m],r.hasOwnProperty(m)&&(p!=null||U!=null))switch(m){case"value":k=p;break;case"defaultValue":M=p;break;case"multiple":_=p;default:p!==U&&Oe(t,a,m,p,r,U)}a=M,s=_,r=I,k!=null?Fi(t,!!s,k,!1):!!r!=!!s&&(a!=null?Fi(t,!!s,a,!0):Fi(t,!!s,s?[]:"",!1));return;case"textarea":I=k=null;for(M in s)if(m=s[M],s.hasOwnProperty(M)&&m!=null&&!r.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Oe(t,a,M,null,r,m)}for(_ in r)if(m=r[_],p=s[_],r.hasOwnProperty(_)&&(m!=null||p!=null))switch(_){case"value":k=m;break;case"defaultValue":I=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(u(91));break;default:m!==p&&Oe(t,a,_,m,r,p)}uc(t,k,I);return;case"option":for(var Mt in s)if(k=s[Mt],s.hasOwnProperty(Mt)&&k!=null&&!r.hasOwnProperty(Mt))switch(Mt){case"selected":t.selected=!1;break;default:Oe(t,a,Mt,null,r,k)}for(U in r)if(k=r[U],I=s[U],r.hasOwnProperty(U)&&k!==I&&(k!=null||I!=null))switch(U){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Oe(t,a,U,k,r,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Yt in s)k=s[Yt],s.hasOwnProperty(Yt)&&k!=null&&!r.hasOwnProperty(Yt)&&Oe(t,a,Yt,null,r,k);for(K in r)if(k=r[K],I=s[K],r.hasOwnProperty(K)&&k!==I&&(k!=null||I!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(u(137,a));break;default:Oe(t,a,K,k,r,I)}return;default:if(cc(a)){for(var De in s)k=s[De],s.hasOwnProperty(De)&&k!==void 0&&!r.hasOwnProperty(De)&&p1(t,a,De,void 0,r,k);for(tt in r)k=r[tt],I=s[tt],!r.hasOwnProperty(tt)||k===I||k===void 0&&I===void 0||p1(t,a,tt,k,r,I);return}}for(var L in s)k=s[L],s.hasOwnProperty(L)&&k!=null&&!r.hasOwnProperty(L)&&Oe(t,a,L,null,r,k);for(nt in r)k=r[nt],I=s[nt],!r.hasOwnProperty(nt)||k===I||k==null&&I==null||Oe(t,a,nt,k,r,I)}function Z2(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qp(){if(typeof performance.getEntriesByType=="function"){for(var t=0,a=0,s=performance.getEntriesByType("resource"),r=0;r<s.length;r++){var m=s[r],p=m.transferSize,_=m.initiatorType,M=m.duration;if(p&&M&&Z2(_)){for(_=0,M=m.responseEnd,r+=1;r<s.length;r++){var U=s[r],K=U.startTime;if(K>M)break;var tt=U.transferSize,nt=U.initiatorType;tt&&Z2(nt)&&(U=U.responseEnd,_+=tt*(U<M?1:(M-K)/(U-K)))}if(--r,a+=8*(p+_)/(m.duration/1e3),t++,10<t)break}}if(0<t)return a/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var y1=null,v1=null;function Wd(t){return t.nodeType===9?t:t.ownerDocument}function k2(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J2(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function S1(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var b1=null;function Xp(){var t=window.event;return t&&t.type==="popstate"?t===b1?!1:(b1=t,!0):(b1=null,!1)}var F2=typeof setTimeout=="function"?setTimeout:void 0,Vp=typeof clearTimeout=="function"?clearTimeout:void 0,P2=typeof Promise=="function"?Promise:void 0,Qp=typeof queueMicrotask=="function"?queueMicrotask:typeof P2<"u"?function(t){return P2.resolve(null).then(t).catch(Kp)}:F2;function Kp(t){setTimeout(function(){throw t})}function wu(t){return t==="head"}function I2(t,a){var s=a,r=0;do{var m=s.nextSibling;if(t.removeChild(s),m&&m.nodeType===8)if(s=m.data,s==="/$"||s==="/&"){if(r===0){t.removeChild(m),po(a);return}r--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")r++;else if(s==="html")If(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,If(s);for(var p=s.firstChild;p;){var _=p.nextSibling,M=p.nodeName;p[ki]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&p.rel.toLowerCase()==="stylesheet"||s.removeChild(p),p=_}}else s==="body"&&If(t.ownerDocument.body);s=m}while(s);po(a)}function W2(t,a){var s=t;t=0;do{var r=s.nextSibling;if(s.nodeType===1?a?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(a?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),r&&r.nodeType===8)if(s=r.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=r}while(s)}function x1(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":x1(s),ss(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Zp(t,a,s,r){for(;t.nodeType===1;){var m=s;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[ki])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==m.rel||t.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||t.getAttribute("title")!==(m.title==null?null:m.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(m.src==null?null:m.src)||t.getAttribute("type")!==(m.type==null?null:m.type)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=Yi(t.nextSibling),t===null)break}return null}function kp(t,a,s){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Yi(t.nextSibling),t===null))return null;return t}function $2(t,a){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Yi(t.nextSibling),t===null))return null;return t}function _1(t){return t.data==="$?"||t.data==="$~"}function C1(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Jp(t,a){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=a;else if(t.data!=="$?"||s.readyState!=="loading")a();else{var r=function(){a(),s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Yi(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return t}var E1=null;function tm(t){t=t.nextSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(a===0)return Yi(t.nextSibling);a--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||a++}t=t.nextSibling}return null}function em(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(a===0)return t;a--}else s!=="/$"&&s!=="/&"||a++}t=t.previousSibling}return null}function am(t,a,s){switch(a=Wd(s),t){case"html":if(t=a.documentElement,!t)throw Error(u(452));return t;case"head":if(t=a.head,!t)throw Error(u(453));return t;case"body":if(t=a.body,!t)throw Error(u(454));return t;default:throw Error(u(451))}}function If(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);ss(t)}var qi=new Map,nm=new Set;function $d(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ws=ct.d;ct.d={f:Fp,r:Pp,D:Ip,C:Wp,L:$p,m:t3,X:a3,S:e3,M:n3};function Fp(){var t=ws.f(),a=fi();return t||a}function Pp(t){var a=rs(t);a!==null&&a.tag===5&&a.type==="form"?Bd(a):ws.r(t)}var ho=typeof document>"u"?null:document;function im(t,a,s){var r=ho;if(r&&typeof a=="string"&&a){var m=Va(a);m='link[rel="'+t+'"][href="'+m+'"]',typeof s=="string"&&(m+='[crossorigin="'+s+'"]'),nm.has(m)||(nm.add(m),t={rel:t,crossOrigin:s,href:a},r.querySelector(m)===null&&(a=r.createElement("link"),sn(a,"link",t),ma(a),r.head.appendChild(a)))}}function Ip(t){ws.D(t),im("dns-prefetch",t,null)}function Wp(t,a){ws.C(t,a),im("preconnect",t,a)}function $p(t,a,s){ws.L(t,a,s);var r=ho;if(r&&t&&a){var m='link[rel="preload"][as="'+Va(a)+'"]';a==="image"&&s&&s.imageSrcSet?(m+='[imagesrcset="'+Va(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(m+='[imagesizes="'+Va(s.imageSizes)+'"]')):m+='[href="'+Va(t)+'"]';var p=m;switch(a){case"style":p=mo(t);break;case"script":p=go(t)}qi.has(p)||(t=E({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:t,as:a},s),qi.set(p,t),r.querySelector(m)!==null||a==="style"&&r.querySelector(Wf(p))||a==="script"&&r.querySelector($f(p))||(a=r.createElement("link"),sn(a,"link",t),ma(a),r.head.appendChild(a)))}}function t3(t,a){ws.m(t,a);var s=ho;if(s&&t){var r=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Va(r)+'"][href="'+Va(t)+'"]',p=m;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=go(t)}if(!qi.has(p)&&(t=E({rel:"modulepreload",href:t},a),qi.set(p,t),s.querySelector(m)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector($f(p)))return}r=s.createElement("link"),sn(r,"link",t),ma(r),s.head.appendChild(r)}}}function e3(t,a,s){ws.S(t,a,s);var r=ho;if(r&&t){var m=Tl(r).hoistableStyles,p=mo(t);a=a||"default";var _=m.get(p);if(!_){var M={loading:0,preload:null};if(_=r.querySelector(Wf(p)))M.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":a},s),(s=qi.get(p))&&T1(t,s);var U=_=r.createElement("link");ma(U),sn(U,"link",t),U._p=new Promise(function(K,tt){U.onload=K,U.onerror=tt}),U.addEventListener("load",function(){M.loading|=1}),U.addEventListener("error",function(){M.loading|=2}),M.loading|=4,t0(_,a,r)}_={type:"stylesheet",instance:_,count:1,state:M},m.set(p,_)}}}function a3(t,a){ws.X(t,a);var s=ho;if(s&&t){var r=Tl(s).hoistableScripts,m=go(t),p=r.get(m);p||(p=s.querySelector($f(m)),p||(t=E({src:t,async:!0},a),(a=qi.get(m))&&A1(t,a),p=s.createElement("script"),ma(p),sn(p,"link",t),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},r.set(m,p))}}function n3(t,a){ws.M(t,a);var s=ho;if(s&&t){var r=Tl(s).hoistableScripts,m=go(t),p=r.get(m);p||(p=s.querySelector($f(m)),p||(t=E({src:t,async:!0,type:"module"},a),(a=qi.get(m))&&A1(t,a),p=s.createElement("script"),ma(p),sn(p,"link",t),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},r.set(m,p))}}function lm(t,a,s,r){var m=(m=Xt.current)?$d(m):null;if(!m)throw Error(u(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=mo(s.href),s=Tl(m).hoistableStyles,r=s.get(a),r||(r={type:"style",instance:null,count:0,state:null},s.set(a,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=mo(s.href);var p=Tl(m).hoistableStyles,_=p.get(t);if(_||(m=m.ownerDocument||m,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,_),(p=m.querySelector(Wf(t)))&&!p._p&&(_.instance=p,_.state.loading=5),qi.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},qi.set(t,s),p||i3(m,t,s,_.state))),a&&r===null)throw Error(u(528,""));return _}if(a&&r!==null)throw Error(u(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=go(s),s=Tl(m).hoistableScripts,r=s.get(a),r||(r={type:"script",instance:null,count:0,state:null},s.set(a,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,t))}}function mo(t){return'href="'+Va(t)+'"'}function Wf(t){return'link[rel="stylesheet"]['+t+"]"}function sm(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function i3(t,a,s,r){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?r.loading=1:(a=t.createElement("link"),r.preload=a,a.addEventListener("load",function(){return r.loading|=1}),a.addEventListener("error",function(){return r.loading|=2}),sn(a,"link",s),ma(a),t.head.appendChild(a))}function go(t){return'[src="'+Va(t)+'"]'}function $f(t){return"script[async]"+t}function um(t,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var r=t.querySelector('style[data-href~="'+Va(s.href)+'"]');if(r)return a.instance=r,ma(r),r;var m=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),ma(r),sn(r,"style",m),t0(r,s.precedence,t),a.instance=r;case"stylesheet":m=mo(s.href);var p=t.querySelector(Wf(m));if(p)return a.state.loading|=4,a.instance=p,ma(p),p;r=sm(s),(m=qi.get(m))&&T1(r,m),p=(t.ownerDocument||t).createElement("link"),ma(p);var _=p;return _._p=new Promise(function(M,U){_.onload=M,_.onerror=U}),sn(p,"link",r),a.state.loading|=4,t0(p,s.precedence,t),a.instance=p;case"script":return p=go(s.src),(m=t.querySelector($f(p)))?(a.instance=m,ma(m),m):(r=s,(m=qi.get(p))&&(r=E({},s),A1(r,m)),t=t.ownerDocument||t,m=t.createElement("script"),ma(m),sn(m,"link",r),t.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(u(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(r=a.instance,a.state.loading|=4,t0(r,s.precedence,t));return a.instance}function t0(t,a,s){for(var r=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=r.length?r[r.length-1]:null,p=m,_=0;_<r.length;_++){var M=r[_];if(M.dataset.precedence===a)p=M;else if(p!==m)break}p?p.parentNode.insertBefore(t,p.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(t,a.firstChild))}function T1(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function A1(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var e0=null;function rm(t,a,s){if(e0===null){var r=new Map,m=e0=new Map;m.set(s,r)}else m=e0,r=m.get(s),r||(r=new Map,m.set(s,r));if(r.has(t))return r;for(r.set(t,null),s=s.getElementsByTagName(t),m=0;m<s.length;m++){var p=s[m];if(!(p[ki]||p[da]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var _=p.getAttribute(a)||"";_=t+_;var M=r.get(_);M?M.push(p):r.set(_,[p])}}return r}function cm(t,a,s){t=t.ownerDocument||t,t.head.insertBefore(s,a==="title"?t.querySelector("head > title"):null)}function l3(t,a,s){if(s===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return t=a.disabled,typeof a.precedence=="string"&&t==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function om(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function s3(t,a,s,r){if(s.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=mo(r.href),p=a.querySelector(Wf(m));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(t.count++,t=a0.bind(t),a.then(t,t)),s.state.loading|=4,s.instance=p,ma(p);return}p=a.ownerDocument||a,r=sm(r),(m=qi.get(m))&&T1(r,m),p=p.createElement("link"),ma(p);var _=p;_._p=new Promise(function(M,U){_.onload=M,_.onerror=U}),sn(p,"link",r),s.instance=p}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=a0.bind(t),a.addEventListener("load",s),a.addEventListener("error",s))}}var M1=0;function u3(t,a){return t.stylesheets&&t.count===0&&i0(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var r=setTimeout(function(){if(t.stylesheets&&i0(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4+a);0<t.imgBytes&&M1===0&&(M1=62500*qp());var m=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&i0(t,t.stylesheets),t.unsuspend)){var p=t.unsuspend;t.unsuspend=null,p()}},(t.imgBytes>M1?50:800)+a);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(m)}}:null}function a0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)i0(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var n0=null;function i0(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,n0=new Map,a.forEach(r3,t),n0=null,a0.call(t))}function r3(t,a){if(!(a.state.loading&4)){var s=n0.get(t);if(s)var r=s.get(null);else{s=new Map,n0.set(t,s);for(var m=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var _=m[p];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),r=_)}r&&s.set(null,r)}m=a.instance,_=m.getAttribute("data-precedence"),p=s.get(_)||r,p===r&&s.set(null,m),s.set(_,m),this.count++,r=a0.bind(this),m.addEventListener("load",r),m.addEventListener("error",r),p?p.parentNode.insertBefore(m,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(m,t.firstChild)),a.state.loading|=4}}var th={$$typeof:J,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function c3(t,a,s,r,m,p,_,M,U){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$r(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$r(0),this.hiddenUpdates=$r(null),this.identifierPrefix=r,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function fm(t,a,s,r,m,p,_,M,U,K,tt,nt){return t=new c3(t,a,s,_,U,K,tt,nt,M),a=1,p===!0&&(a|=24),p=Ve(3,null,null,a),t.current=p,p.stateNode=t,a=nf(),a.refCount++,t.pooledCache=a,a.refCount++,p.memoizedState={element:r,isDehydrated:s,cache:a},Er(p),t}function hm(t){return t?(t=Rl,t):Rl}function dm(t,a,s,r,m,p){m=hm(m),r.context===null?r.context=m:r.pendingContext=m,r=il(a),r.payload={element:s},p=p===void 0?null:p,p!==null&&(r.callback=p),s=Ll(t,r,a),s!==null&&($t(s,t,a),Yl(s,t,a))}function mm(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<a?s:a}}function N1(t,a){mm(t,a),(t=t.alternate)&&mm(t,a)}function gm(t){if(t.tag===13||t.tag===31){var a=Ia(t,67108864);a!==null&&$t(a,t,67108864),N1(t,67108864)}}function pm(t){if(t.tag===13||t.tag===31){var a=Un();a=Ps(a);var s=Ia(t,a);s!==null&&$t(s,t,a),N1(t,a)}}var l0=!0;function o3(t,a,s,r){var m=H.T;H.T=null;var p=ct.p;try{ct.p=2,O1(t,a,s,r)}finally{ct.p=p,H.T=m}}function f3(t,a,s,r){var m=H.T;H.T=null;var p=ct.p;try{ct.p=8,O1(t,a,s,r)}finally{ct.p=p,H.T=m}}function O1(t,a,s,r){if(l0){var m=D1(r);if(m===null)g1(t,a,r,s0,s),vm(t,r);else if(d3(m,t,a,s,r))r.stopPropagation();else if(vm(t,r),a&4&&-1<h3.indexOf(t)){for(;m!==null;){var p=rs(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var _=bl(p.pendingLanes);if(_!==0){var M=p;for(M.pendingLanes|=2,M.entangledLanes|=2;_;){var U=1<<31-xn(_);M.entanglements[1]|=U,_&=~U}ot(p),(Rt&6)===0&&(ca=ba()+500,Ct(0))}}break;case 31:case 13:M=Ia(p,2),M!==null&&$t(M,p,2),fi(),N1(p,2)}if(p=D1(r),p===null&&g1(t,a,r,s0,s),p===m)break;m=p}m!==null&&r.stopPropagation()}else g1(t,a,r,null,s)}}function D1(t){return t=fc(t),R1(t)}var s0=null;function R1(t){if(s0=null,t=us(t),t!==null){var a=h(t);if(a===null)t=null;else{var s=a.tag;if(s===13){if(t=g(a),t!==null)return t;t=null}else if(s===31){if(t=y(a),t!==null)return t;t=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return s0=t,null}function ym(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(st()){case Dt:return 2;case Kt:return 8;case We:case ha:return 32;case Re:return 268435456;default:return 32}default:return 32}}var z1=!1,Lu=null,Yu=null,qu=null,eh=new Map,ah=new Map,Xu=[],h3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vm(t,a){switch(t){case"focusin":case"focusout":Lu=null;break;case"dragenter":case"dragleave":Yu=null;break;case"mouseover":case"mouseout":qu=null;break;case"pointerover":case"pointerout":eh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ah.delete(a.pointerId)}}function nh(t,a,s,r,m,p){return t===null||t.nativeEvent!==p?(t={blockedOn:a,domEventName:s,eventSystemFlags:r,nativeEvent:p,targetContainers:[m]},a!==null&&(a=rs(a),a!==null&&gm(a)),t):(t.eventSystemFlags|=r,a=t.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),t)}function d3(t,a,s,r,m){switch(a){case"focusin":return Lu=nh(Lu,t,a,s,r,m),!0;case"dragenter":return Yu=nh(Yu,t,a,s,r,m),!0;case"mouseover":return qu=nh(qu,t,a,s,r,m),!0;case"pointerover":var p=m.pointerId;return eh.set(p,nh(eh.get(p)||null,t,a,s,r,m)),!0;case"gotpointercapture":return p=m.pointerId,ah.set(p,nh(ah.get(p)||null,t,a,s,r,m)),!0}return!1}function Sm(t){var a=us(t.target);if(a!==null){var s=h(a);if(s!==null){if(a=s.tag,a===13){if(a=g(s),a!==null){t.blockedOn=a,_l(t.priority,function(){pm(s)});return}}else if(a===31){if(a=y(s),a!==null){t.blockedOn=a,_l(t.priority,function(){pm(s)});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function u0(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var s=D1(t.nativeEvent);if(s===null){s=t.nativeEvent;var r=new s.constructor(s.type,s);oc=r,s.target.dispatchEvent(r),oc=null}else return a=rs(s),a!==null&&gm(a),t.blockedOn=s,!1;a.shift()}return!0}function bm(t,a,s){u0(t)&&s.delete(a)}function m3(){z1=!1,Lu!==null&&u0(Lu)&&(Lu=null),Yu!==null&&u0(Yu)&&(Yu=null),qu!==null&&u0(qu)&&(qu=null),eh.forEach(bm),ah.forEach(bm)}function r0(t,a){t.blockedOn===a&&(t.blockedOn=null,z1||(z1=!0,f.unstable_scheduleCallback(f.unstable_NormalPriority,m3)))}var c0=null;function xm(t){c0!==t&&(c0=t,f.unstable_scheduleCallback(f.unstable_NormalPriority,function(){c0===t&&(c0=null);for(var a=0;a<t.length;a+=3){var s=t[a],r=t[a+1],m=t[a+2];if(typeof r!="function"){if(R1(r||s)===null)continue;break}var p=rs(s);p!==null&&(t.splice(a,3),a-=3,Rf(p,{pending:!0,data:m,method:s.method,action:r},r,m))}}))}function po(t){function a(U){return r0(U,t)}Lu!==null&&r0(Lu,t),Yu!==null&&r0(Yu,t),qu!==null&&r0(qu,t),eh.forEach(a),ah.forEach(a);for(var s=0;s<Xu.length;s++){var r=Xu[s];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Xu.length&&(s=Xu[0],s.blockedOn===null);)Sm(s),s.blockedOn===null&&Xu.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(r=0;r<s.length;r+=3){var m=s[r],p=s[r+1],_=m[qa]||null;if(typeof p=="function")_||xm(s);else if(_){var M=null;if(p&&p.hasAttribute("formAction")){if(m=p,_=p[qa]||null)M=_.formAction;else if(R1(m)!==null)continue}else M=_.action;typeof M=="function"?s[r+1]=M:(s.splice(r,3),r-=3),xm(s)}}}function _m(){function t(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(_){return m=_})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),r||setTimeout(s,20)}function s(){if(!r&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,m=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(s,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function U1(t){this._internalRoot=t}o0.prototype.render=U1.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(u(409));var s=a.current,r=Un();dm(s,r,t,a,null,null)},o0.prototype.unmount=U1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;dm(t.current,2,null,t,null,null),fi(),a[Cl]=null}};function o0(t){this._internalRoot=t}o0.prototype.unstable_scheduleHydration=function(t){if(t){var a=ec();t={blockedOn:null,target:t,priority:a};for(var s=0;s<Xu.length&&a!==0&&a<Xu[s].priority;s++);Xu.splice(s,0,t),s===0&&Sm(t)}};var Cm=e.version;if(Cm!=="19.2.0")throw Error(u(527,Cm,"19.2.0"));ct.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(u(188)):(t=Object.keys(t).join(","),Error(u(268,t)));return t=x(a),t=t!==null?C(t):null,t=t===null?null:t.stateNode,t};var g3={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var f0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!f0.isDisabled&&f0.supportsFiber)try{Ge=f0.inject(g3),ee=f0}catch{}}return lh.createRoot=function(t,a){if(!o(t))throw Error(u(299));var s=!1,r="",m=Xd,p=jf,_=wf;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(r=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),a=fm(t,1,!1,null,null,s,r,null,m,p,_,_m),t[Cl]=a.current,m1(t),new U1(a)},lh.hydrateRoot=function(t,a,s){if(!o(t))throw Error(u(299));var r=!1,m="",p=Xd,_=jf,M=wf,U=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(M=s.onRecoverableError),s.formState!==void 0&&(U=s.formState)),a=fm(t,1,!0,a,s??null,r,m,U,p,_,M,_m),a.context=hm(null),s=a.current,r=Un(),r=Ps(r),m=il(r),m.callback=null,Ll(s,m,r),s=r,a.current.lanes=s,Js(a,s),ot(a),t[Cl]=a.current,m1(t),new o0(a)},lh.version="19.2.0",lh}var Um;function C3(){if(Um)return H1.exports;Um=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(e){console.error(e)}}return f(),H1.exports=_3(),H1.exports}var E3=C3();const B0={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://api.your-photo-app.com"},Lg=["VITE_API_URL"];for(const f of Lg)if(!B0[f]||String(B0[f]).trim()==="")throw new Error(`Missing required environment variable: ${f}. Add it to your .env (root) or Vite env file.`);const h0=Object.fromEntries(Lg.map(f=>[f,B0[f]?String(B0[f]):""])),T3=[];function Gm(f){T3.push({message:f,time:new Date().toLocaleTimeString()}),typeof window<"u"&&window.dispatchEvent&&window.dispatchEvent(new CustomEvent("globalLogUpdate"))}wg();var Q0=typeof self<"u"?self:global;const _h=typeof navigator<"u",A3=_h&&typeof HTMLImageElement>"u",H0=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),N2=Q0.Buffer,d0=Q0.BigInt,O2=!!N2,M3=f=>f;function j0(f,e=M3){if(H0)try{return typeof require=="function"?Promise.resolve(e(require(f))):import(f).then(e)}catch{console.warn(`Couldn't load ${f}`)}}let D2=Q0.fetch;const N3=f=>D2=f;if(!Q0.fetch){const f=j0("http",(u=>u)),e=j0("https",(u=>u)),l=(u,{headers:o}={})=>new Promise((async(h,g)=>{let{port:y,hostname:S,pathname:x,protocol:C,search:E}=new URL(u);const T={method:"GET",hostname:S,path:encodeURI(x)+E,headers:o};y!==""&&(T.port=Number(y));const D=(C==="https:"?await e:await f).request(T,(N=>{if(N.statusCode===301||N.statusCode===302){let X=new URL(N.headers.location,u).toString();return l(X,{headers:o}).then(h).catch(g)}h({status:N.statusCode,arrayBuffer:()=>new Promise((X=>{let B=[];N.on("data",(w=>B.push(w))),N.on("end",(()=>X(Buffer.concat(B))))}))})}));D.on("error",g),D.end()}));N3(l)}function Qt(f,e,l){return e in f?Object.defineProperty(f,e,{value:l,enumerable:!0,configurable:!0,writable:!0}):f[e]=l,f}const w0=f=>Yg(f)?void 0:f,O3=f=>f!==void 0;function Yg(f){return f===void 0||(f instanceof Map?f.size===0:Object.values(f).filter(O3).length===0)}function Ua(f){let e=new Error(f);throw delete e.stack,e}function Qr(f){return(f=(function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e})(f).trim())===""?void 0:f}function s2(f){let e=(function(l){let u=0;return l.ifd0.enabled&&(u+=1024),l.exif.enabled&&(u+=2048),l.makerNote&&(u+=2048),l.userComment&&(u+=1024),l.gps.enabled&&(u+=512),l.interop.enabled&&(u+=100),l.ifd1.enabled&&(u+=1024),u+2048})(f);return f.jfif.enabled&&(e+=50),f.xmp.enabled&&(e+=2e4),f.iptc.enabled&&(e+=14e3),f.icc.enabled&&(e+=6e3),e}const u2=f=>String.fromCharCode.apply(null,f),Bm=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;function qg(f){return Bm?Bm.decode(f):O2?Buffer.from(f).toString("utf8"):decodeURIComponent(escape(u2(f)))}class ni{static from(e,l){return e instanceof this&&e.le===l?e:new ni(e,void 0,void 0,l)}constructor(e,l=0,u,o){if(typeof o=="boolean"&&(this.le=o),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){u===void 0&&(u=e.byteLength-l);let h=new DataView(e,l,u);this._swapDataView(h)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof ni){u===void 0&&(u=e.byteLength-l),(l+=e.byteOffset)+u>e.byteOffset+e.byteLength&&Ua("Creating view outside of available memory in ArrayBuffer");let h=new DataView(e.buffer,l,u);this._swapDataView(h)}else if(typeof e=="number"){let h=new DataView(new ArrayBuffer(e));this._swapDataView(h)}else Ua("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,l,u=ni){return e instanceof DataView||e instanceof ni?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||Ua("BufferView.set(): Invalid data argument."),this.toUint8().set(e,l),new u(this,l,e.byteLength)}subarray(e,l){return l=l||this._lengthToEnd(e),new ni(this,e,l)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,l){return new Uint8Array(this.buffer,this.byteOffset+e,l)}getString(e=0,l=this.byteLength){return qg(this.getUint8Array(e,l))}getLatin1String(e=0,l=this.byteLength){let u=this.getUint8Array(e,l);return u2(u)}getUnicodeString(e=0,l=this.byteLength){const u=[];for(let o=0;o<l&&e+o<this.byteLength;o+=2)u.push(this.getUint16(e+o));return u2(u)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,l=this.le){return this.dataView.getInt16(e,l)}getInt32(e,l=this.le){return this.dataView.getInt32(e,l)}getUint16(e,l=this.le){return this.dataView.getUint16(e,l)}getUint32(e,l=this.le){return this.dataView.getUint32(e,l)}getFloat32(e,l=this.le){return this.dataView.getFloat32(e,l)}getFloat64(e,l=this.le){return this.dataView.getFloat64(e,l)}getFloat(e,l=this.le){return this.dataView.getFloat32(e,l)}getDouble(e,l=this.le){return this.dataView.getFloat64(e,l)}getUintBytes(e,l,u){switch(l){case 1:return this.getUint8(e,u);case 2:return this.getUint16(e,u);case 4:return this.getUint32(e,u);case 8:return this.getUint64&&this.getUint64(e,u)}}getUint(e,l,u){switch(l){case 8:return this.getUint8(e,u);case 16:return this.getUint16(e,u);case 32:return this.getUint32(e,u);case 64:return this.getUint64&&this.getUint64(e,u)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function r2(f,e){Ua(`${f} '${e}' was not loaded, try using full build of exifr.`)}class R2 extends Map{constructor(e){super(),this.kind=e}get(e,l){return this.has(e)||r2(this.kind,e),l&&(e in l||(function(u,o){Ua(`Unknown ${u} '${o}'.`)})(this.kind,e),l[e].enabled||r2(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var _o=new R2("file parser"),vn=new R2("segment parser"),To=new R2("file reader");function D3(f,e){return typeof f=="string"?Hm(f,e):_h&&!A3&&f instanceof HTMLImageElement?Hm(f.src,e):f instanceof Uint8Array||f instanceof ArrayBuffer||f instanceof DataView?new ni(f):_h&&f instanceof Blob?c2(f,e,"blob",h2):void Ua("Invalid input argument")}function Hm(f,e){return(l=f).startsWith("data:")||l.length>1e4?o2(f,e,"base64"):H0&&f.includes("://")?c2(f,e,"url",f2):H0?o2(f,e,"fs"):_h?c2(f,e,"url",f2):void Ua("Invalid input argument");var l}async function c2(f,e,l,u){return To.has(l)?o2(f,e,l):u?(async function(o,h){let g=await h(o);return new ni(g)})(f,u):void Ua(`Parser ${l} is not loaded`)}async function o2(f,e,l){let u=new(To.get(l))(f,e);return await u.read(),u}const f2=f=>D2(f).then((e=>e.arrayBuffer())),h2=f=>new Promise(((e,l)=>{let u=new FileReader;u.onloadend=()=>e(u.result||new ArrayBuffer),u.onerror=l,u.readAsArrayBuffer(f)}));class R3 extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function un(f,e,l){let u=new R3;for(let[o,h]of l)u.set(o,h);if(Array.isArray(e))for(let o of e)f.set(o,u);else f.set(e,u);return u}function d2(f,e,l){let u,o=f.get(e);for(u of l)o.set(u[0],u[1])}const ii=new Map,Zr=new Map,R0=new Map,m0=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],Xg=["jfif","xmp","icc","iptc","ihdr"],m2=["tiff",...Xg],Ja=["ifd0","ifd1","exif","gps","interop"],g0=[...m2,...Ja],p0=["makerNote","userComment"],Vg=["translateKeys","translateValues","reviveValues","multiSegment"],y0=[...Vg,"sanitize","mergeOutput","silentErrors"];class Qg{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class sh extends Qg{get needed(){return this.enabled||this.deps.size>0}constructor(e,l,u,o){if(super(),Qt(this,"enabled",!1),Qt(this,"skip",new Set),Qt(this,"pick",new Set),Qt(this,"deps",new Set),Qt(this,"translateKeys",!1),Qt(this,"translateValues",!1),Qt(this,"reviveValues",!1),this.key=e,this.enabled=l,this.parse=this.enabled,this.applyInheritables(o),this.canBeFiltered=Ja.includes(e),this.canBeFiltered&&(this.dict=ii.get(e)),u!==void 0)if(Array.isArray(u))this.parse=this.enabled=!0,this.canBeFiltered&&u.length>0&&this.translateTagSet(u,this.pick);else if(typeof u=="object"){if(this.enabled=!0,this.parse=u.parse!==!1,this.canBeFiltered){let{pick:h,skip:g}=u;h&&h.length>0&&this.translateTagSet(h,this.pick),g&&g.length>0&&this.translateTagSet(g,this.skip)}this.applyInheritables(u)}else u===!0||u===!1?this.parse=this.enabled=u:Ua(`Invalid options argument: ${u}`)}applyInheritables(e){let l,u;for(l of Vg)u=e[l],u!==void 0&&(this[l]=u)}translateTagSet(e,l){if(this.dict){let u,o,{tagKeys:h,tagValues:g}=this.dict;for(u of e)typeof u=="string"?(o=g.indexOf(u),o===-1&&(o=h.indexOf(Number(u))),o!==-1&&l.add(Number(h[o]))):l.add(u)}else for(let u of e)l.add(u)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,L0(this.pick,this.deps)):this.enabled&&this.pick.size>0&&L0(this.pick,this.deps)}}var Gn={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},jm=new Map;class z2 extends Qg{static useCached(e){let l=jm.get(e);return l!==void 0||(l=new this(e),jm.set(e,l)),l}constructor(e){super(),e===!0?this.setupFromTrue():e===void 0?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):typeof e=="object"?this.setupFromObject(e):Ua(`Invalid options argument ${e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=_h?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of m0)this[e]=Gn[e];for(e of y0)this[e]=Gn[e];for(e of p0)this[e]=Gn[e];for(e of g0)this[e]=new sh(e,Gn[e],void 0,this)}setupFromTrue(){let e;for(e of m0)this[e]=Gn[e];for(e of y0)this[e]=Gn[e];for(e of p0)this[e]=!0;for(e of g0)this[e]=new sh(e,!0,void 0,this)}setupFromArray(e){let l;for(l of m0)this[l]=Gn[l];for(l of y0)this[l]=Gn[l];for(l of p0)this[l]=Gn[l];for(l of g0)this[l]=new sh(l,!1,void 0,this);this.setupGlobalFilters(e,void 0,Ja)}setupFromObject(e){let l;for(l of(Ja.ifd0=Ja.ifd0||Ja.image,Ja.ifd1=Ja.ifd1||Ja.thumbnail,Object.assign(this,e),m0))this[l]=Y1(e[l],Gn[l]);for(l of y0)this[l]=Y1(e[l],Gn[l]);for(l of p0)this[l]=Y1(e[l],Gn[l]);for(l of m2)this[l]=new sh(l,Gn[l],e[l],this);for(l of Ja)this[l]=new sh(l,Gn[l],e[l],this.tiff);this.setupGlobalFilters(e.pick,e.skip,Ja,g0),e.tiff===!0?this.batchEnableWithBool(Ja,!0):e.tiff===!1?this.batchEnableWithUserValue(Ja,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,Ja):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,Ja)}batchEnableWithBool(e,l){for(let u of e)this[u].enabled=l}batchEnableWithUserValue(e,l){for(let u of e){let o=l[u];this[u].enabled=o!==!1&&o!==void 0}}setupGlobalFilters(e,l,u,o=u){if(e&&e.length){for(let g of o)this[g].enabled=!1;let h=wm(e,u);for(let[g,y]of h)L0(this[g].pick,y),this[g].enabled=!0}else if(l&&l.length){let h=wm(l,u);for(let[g,y]of h)L0(this[g].skip,y)}}filterNestedSegmentTags(){let{ifd0:e,exif:l,xmp:u,iptc:o,icc:h}=this;this.makerNote?l.deps.add(37500):l.skip.add(37500),this.userComment?l.deps.add(37510):l.skip.add(37510),u.enabled||e.skip.add(700),o.enabled||e.skip.add(33723),h.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:l,gps:u,interop:o}=this;o.needed&&(l.deps.add(40965),e.deps.add(40965)),l.needed&&e.deps.add(34665),u.needed&&e.deps.add(34853),this.tiff.enabled=Ja.some((h=>this[h].enabled===!0))||this.makerNote||this.userComment;for(let h of Ja)this[h].finalizeFilters()}get onlyTiff(){return!Xg.map((e=>this[e].enabled)).some((e=>e===!0))&&this.tiff.enabled}checkLoadedPlugins(){for(let e of m2)this[e].enabled&&!vn.has(e)&&r2("segment parser",e)}}function wm(f,e){let l,u,o,h,g=[];for(o of e){for(h of(l=ii.get(o),u=[],l))(f.includes(h[0])||f.includes(h[1]))&&u.push(h[0]);u.length&&g.push([o,u])}return g}function Y1(f,e){return f!==void 0?f:e!==void 0?e:void 0}function L0(f,e){for(let l of e)f.add(l)}Qt(z2,"default",Gn);class z3{constructor(e){Qt(this,"parsers",{}),Qt(this,"output",{}),Qt(this,"errors",[]),Qt(this,"pushToErrors",(l=>this.errors.push(l))),this.options=z2.useCached(e)}async read(e){this.file=await D3(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,l=e.getUint16(0);for(let[u,o]of _o)if(o.canHandle(e,l))return this.fileParser=new o(this.options,this.file,this.parsers),e[u]=!0;this.file.close&&this.file.close(),Ua("Unknown file format")}async parse(){let{output:e,errors:l}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),l.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&l.length>0&&(e.errors=l),w0(e)}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let l=Object.values(this.parsers).map((async u=>{let o=await u.parse();u.assignToOutput(e,o)}));this.options.silentErrors&&(l=l.map((u=>u.catch(this.pushToErrors)))),await Promise.all(l)}async extractThumbnail(){this.setup();let{options:e,file:l}=this,u=vn.get("tiff",e);var o;if(l.tiff?o={start:0,type:"tiff"}:l.jpeg&&(o=await this.fileParser.getOrFindSegment("tiff")),o===void 0)return;let h=await this.fileParser.ensureSegmentChunk(o),g=this.parsers.tiff=new u(h,e,l),y=await g.extractThumbnail();return l.close&&l.close(),y}}async function U3(f,e){let l=new z3(e);return await l.read(f),l.parse()}class K0{constructor(e,l,u){Qt(this,"errors",[]),Qt(this,"ensureSegmentChunk",(async o=>{let h=o.start,g=o.size||65536;if(this.file.chunked)if(this.file.available(h,g))o.chunk=this.file.subarray(h,g);else try{o.chunk=await this.file.readChunk(h,g)}catch(y){Ua(`Couldn't read segment: ${JSON.stringify(o)}. ${y.message}`)}else this.file.byteLength>h+g?o.chunk=this.file.subarray(h,g):o.size===void 0?o.chunk=this.file.subarray(h):Ua("Segment unreachable: "+JSON.stringify(o));return o.chunk})),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=l,this.parsers=u}injectSegment(e,l){this.options[e].enabled&&this.createParser(e,l)}createParser(e,l){let u=new(vn.get(e))(l,this.options,this.file);return this.parsers[e]=u}createParsers(e){for(let l of e){let{type:u,chunk:o}=l,h=this.options[u];if(h&&h.enabled){let g=this.parsers[u];g&&g.append||g||this.createParser(u,o)}}}async readSegments(e){let l=e.map(this.ensureSegmentChunk);await Promise.all(l)}}class gl{static findPosition(e,l){let u=e.getUint16(l+2)+2,o=typeof this.headerLength=="function"?this.headerLength(e,l,u):this.headerLength,h=l+o,g=u-o;return{offset:l,length:u,headerLength:o,start:h,size:g,end:h+g}}static parse(e,l={}){return new this(e,new z2({[this.type]:l}),e).parse()}normalizeInput(e){return e instanceof ni?e:new ni(e)}constructor(e,l={},u){Qt(this,"errors",[]),Qt(this,"raw",new Map),Qt(this,"handleError",(o=>{if(!this.options.silentErrors)throw o;this.errors.push(o.message)})),this.chunk=this.normalizeInput(e),this.file=u,this.type=this.constructor.type,this.globalOptions=this.options=l,this.localOptions=l[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,l){let u=R0.get(l),o=Zr.get(l),h=ii.get(l),g=this.options[l],y=g.reviveValues&&!!u,S=g.translateValues&&!!o,x=g.translateKeys&&!!h,C={};for(let[E,T]of e)y&&u.has(E)?T=u.get(E)(T):S&&o.has(E)&&(T=this.translateValue(T,o.get(E))),x&&h.has(E)&&(E=h.get(E)||E),C[E]=T;return C}translateValue(e,l){return l[e]||l.DEFAULT||e}assignToOutput(e,l){this.assignObjectToOutput(e,this.constructor.type,l)}assignObjectToOutput(e,l,u){if(this.globalOptions.mergeOutput)return Object.assign(e,u);e[l]?Object.assign(e[l],u):e[l]=u}}Qt(gl,"headerLength",4),Qt(gl,"type",void 0),Qt(gl,"multiSegment",!1),Qt(gl,"canHandle",(()=>!1));function G3(f){return f===192||f===194||f===196||f===219||f===221||f===218||f===254}function B3(f){return f>=224&&f<=239}function H3(f,e,l){for(let[u,o]of vn)if(o.canHandle(f,e,l))return u}class Lm extends K0{constructor(...e){super(...e),Qt(this,"appSegments",[]),Qt(this,"jpegSegments",[]),Qt(this,"unknownSegments",[])}static canHandle(e,l){return l===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){e===!0?(this.findAll=!0,this.wanted=new Set(vn.keyList())):(e=e===void 0?vn.keyList().filter((l=>this.options[l].enabled)):e.filter((l=>this.options[l].enabled&&vn.has(l))),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,l){this.setupSegmentFinderArgs(l);let{file:u,findAll:o,wanted:h,remaining:g}=this;if(!o&&this.file.chunked&&(o=Array.from(h).some((y=>{let S=vn.get(y),x=this.options[y];return S.multiSegment&&x.multiSegment})),o&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,u.byteLength),!this.options.onlyTiff&&u.chunked){let y=!1;for(;g.size>0&&!y&&(u.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:S}=u,x=this.appSegments.some((C=>!this.file.available(C.offset||C.start,C.length||C.size)));if(y=e>S&&!x?!await u.readNextChunk(e):!await u.readNextChunk(S),(e=this.findAppSegmentsInRange(e,u.byteLength))===void 0)return}}}findAppSegmentsInRange(e,l){l-=2;let u,o,h,g,y,S,{file:x,findAll:C,wanted:E,remaining:T,options:D}=this;for(;e<l;e++)if(x.getUint8(e)===255){if(u=x.getUint8(e+1),B3(u)){if(o=x.getUint16(e+2),h=H3(x,e,o),h&&E.has(h)&&(g=vn.get(h),y=g.findPosition(x,e),S=D[h],y.type=h,this.appSegments.push(y),!C&&(g.multiSegment&&S.multiSegment?(this.unfinishedMultiSegment=y.chunkNumber<y.chunkCount,this.unfinishedMultiSegment||T.delete(h)):T.delete(h),T.size===0)))break;D.recordUnknownSegments&&(y=gl.findPosition(x,e),y.marker=u,this.unknownSegments.push(y)),e+=o+1}else if(G3(u)){if(o=x.getUint16(e+2),u===218&&D.stopAfterSos!==!1)return;D.recordJpegSegments&&this.jpegSegments.push({offset:e,length:o,marker:u}),e+=o+1}}return e}mergeMultiSegments(){if(!this.appSegments.some((l=>l.multiSegment)))return;let e=(function(l,u){let o,h,g,y=new Map;for(let S=0;S<l.length;S++)o=l[S],h=o[u],y.has(h)?g=y.get(h):y.set(h,g=[]),g.push(o);return Array.from(y)})(this.appSegments,"type");this.mergedAppSegments=e.map((([l,u])=>{let o=vn.get(l,this.options);return o.handleMultiSegments?{type:l,chunk:o.handleMultiSegments(u)}:u[0]}))}getSegment(e){return this.appSegments.find((l=>l.type===e))}async getOrFindSegment(e){let l=this.getSegment(e);return l===void 0&&(await this.findAppSegments(0,[e]),l=this.getSegment(e)),l}}Qt(Lm,"type","jpeg"),_o.set("jpeg",Lm);const j3=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class w3 extends gl{parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,l,u=new Map){let{pick:o,skip:h}=this.options[l];o=new Set(o);let g=o.size>0,y=h.size===0,S=this.chunk.getUint16(e);e+=2;for(let x=0;x<S;x++){let C=this.chunk.getUint16(e);if(g){if(o.has(C)&&(u.set(C,this.parseTag(e,C,l)),o.delete(C),o.size===0))break}else!y&&h.has(C)||u.set(C,this.parseTag(e,C,l));e+=12}return u}parseTag(e,l,u){let{chunk:o}=this,h=o.getUint16(e+2),g=o.getUint32(e+4),y=j3[h];if(y*g<=4?e+=8:e=o.getUint32(e+8),(h<1||h>13)&&Ua(`Invalid TIFF value type. block: ${u.toUpperCase()}, tag: ${l.toString(16)}, type: ${h}, offset ${e}`),e>o.byteLength&&Ua(`Invalid TIFF value offset. block: ${u.toUpperCase()}, tag: ${l.toString(16)}, type: ${h}, offset ${e} is outside of chunk size ${o.byteLength}`),h===1)return o.getUint8Array(e,g);if(h===2)return Qr(o.getString(e,g));if(h===7)return o.getUint8Array(e,g);if(g===1)return this.parseTagValue(h,e);{let S=new((function(C){switch(C){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}})(h))(g),x=y;for(let C=0;C<g;C++)S[C]=this.parseTagValue(h,e),e+=x;return S}}parseTagValue(e,l){let{chunk:u}=this;switch(e){case 1:return u.getUint8(l);case 3:return u.getUint16(l);case 4:return u.getUint32(l);case 5:return u.getUint32(l)/u.getUint32(l+4);case 6:return u.getInt8(l);case 8:return u.getInt16(l);case 9:return u.getInt32(l);case 10:return u.getInt32(l)/u.getInt32(l+4);case 11:return u.getFloat(l);case 12:return u.getDouble(l);case 13:return u.getUint32(l);default:Ua(`Invalid tiff type ${e}`)}}}class q1 extends w3{static canHandle(e,l){return e.getUint8(l+1)===225&&e.getUint32(l+4)===1165519206&&e.getUint16(l+8)===0}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let l=this[e]();return l.catch!==void 0&&(l=l.catch(this.handleError)),l}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),l=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(l)}}parseBlock(e,l){let u=new Map;return this[l]=u,this.parseTags(e,l,u),u}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&Ua("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&Ua(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,s2(this.options));let l=this.parseBlock(this.ifd0Offset,"ifd0");return l.size!==0?(this.exifOffset=l.get(34665),this.interopOffset=l.get(40965),this.gpsOffset=l.get(34853),this.xmp=l.get(700),this.iptc=l.get(33723),this.icc=l.get(34675),this.options.sanitize&&(l.delete(34665),l.delete(40965),l.delete(34853),l.delete(700),l.delete(33723),l.delete(34675)),l):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,s2(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,l){let u=e.get(l);u&&u.length===1&&e.set(l,u[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",Ym(...e.get(2),e.get(1))),e.set("longitude",Ym(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let e=this.ifd1.get(513),l=this.ifd1.get(514);return this.chunk.getUint8Array(e,l)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,l,u,o={};for(l of Ja)if(e=this[l],!Yg(e))if(u=this.canTranslate?this.translateBlock(e,l):Object.fromEntries(e),this.options.mergeOutput){if(l==="ifd1")continue;Object.assign(o,u)}else o[l]=u;return this.makerNote&&(o.makerNote=this.makerNote),this.userComment&&(o.userComment=this.userComment),o}assignToOutput(e,l){if(this.globalOptions.mergeOutput)Object.assign(e,l);else for(let[u,o]of Object.entries(l))this.assignObjectToOutput(e,u,o)}}function Ym(f,e,l,u){var o=f+e/60+l/3600;return u!=="S"&&u!=="W"||(o*=-1),o}Qt(q1,"type","tiff"),Qt(q1,"headerLength",10),vn.set("tiff",q1);const U2={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},U2,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},U2,{tiff:!1,ifd1:!0,mergeOutput:!1});Object.assign({},U2,{firstChunkSize:4e4,ifd0:[274]});if(typeof navigator=="object"){let f=navigator.userAgent;if(f.includes("iPad")||f.includes("iPhone")){let e=f.match(/OS (\d+)_(\d+)/);if(e){let[,l,u]=e}}else if(f.includes("OS X 10")){let[,e]=f.match(/OS X 10[_.](\d+)/)}if(f.includes("Chrome/")){let[,e]=f.match(/Chrome\/(\d+)/)}else if(f.includes("Firefox/")){let[,e]=f.match(/Firefox\/(\d+)/)}}class L3 extends ni{constructor(...e){super(...e),Qt(this,"ranges",new Y3),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(e,l,u){if(e===0&&this.byteLength===0&&u){let o=new DataView(u.buffer||u,u.byteOffset,u.byteLength);this._swapDataView(o)}else{let o=e+l;if(o>this.byteLength){let{dataView:h}=this._extend(o);this._swapDataView(h)}}}_extend(e){let l;l=O2?N2.allocUnsafe(e):new Uint8Array(e);let u=new DataView(l.buffer,l.byteOffset,l.byteLength);return l.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:l,dataView:u}}subarray(e,l,u=!1){return l=l||this._lengthToEnd(e),u&&this._tryExtend(e,l),this.ranges.add(e,l),super.subarray(e,l)}set(e,l,u=!1){u&&this._tryExtend(l,e.byteLength,e);let o=super.set(e,l);return this.ranges.add(l,o.byteLength),o}async ensureChunk(e,l){this.chunked&&(this.ranges.available(e,l)||await this.readChunk(e,l))}available(e,l){return this.ranges.available(e,l)}}class Y3{constructor(){Qt(this,"list",[])}get length(){return this.list.length}add(e,l,u=0){let o=e+l,h=this.list.filter((g=>qm(e,g.offset,o)||qm(e,g.end,o)));if(h.length>0){e=Math.min(e,...h.map((y=>y.offset))),o=Math.max(o,...h.map((y=>y.end))),l=o-e;let g=h.shift();g.offset=e,g.length=l,g.end=o,this.list=this.list.filter((y=>!h.includes(y)))}else this.list.push({offset:e,length:l,end:o})}available(e,l){let u=e+l;return this.list.some((o=>o.offset<=e&&u<=o.end))}}function qm(f,e,l){return f<=e&&e<=l}class Z0 extends L3{constructor(e,l){super(0),Qt(this,"chunksRead",0),this.input=e,this.options=l}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let l=this.options.chunkSize,u=await this.readChunk(e,l);return!!u&&u.byteLength===l}async readChunk(e,l){if(this.chunksRead++,(l=this.safeWrapAddress(e,l))!==0)return this._readChunk(e,l)}safeWrapAddress(e,l){return this.size!==void 0&&e+l>this.size?Math.max(0,this.size-e):l}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}To.set("blob",class extends Z0{async readWhole(){this.chunked=!1;let f=await h2(this.input);this._swapArrayBuffer(f)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(f,e){let l=e?f+e:void 0,u=this.input.slice(f,l),o=await h2(u);return this.set(o,f,!0)}});To.set("url",class extends Z0{async readWhole(){this.chunked=!1;let f=await f2(this.input);f instanceof ArrayBuffer?this._swapArrayBuffer(f):f instanceof Uint8Array&&this._swapBuffer(f)}async _readChunk(f,e){let l=e?f+e-1:void 0,u=this.options.httpHeaders||{};(f||l)&&(u.range=`bytes=${[f,l].join("-")}`);let o=await D2(this.input,{headers:u}),h=await o.arrayBuffer(),g=h.byteLength;if(o.status!==416)return g!==e&&(this.size=f+g),this.set(h,f,!0)}});ni.prototype.getUint64=function(f){let e=this.getUint32(f),l=this.getUint32(f+4);return e<1048575?e<<32|l:typeof d0!==void 0?(console.warn("Using BigInt because of type 64uint but JS can only handle 53b numbers."),d0(e)<<d0(32)|d0(l)):void Ua("Trying to read 64b value but JS can only handle 53b numbers.")};class q3 extends K0{parseBoxes(e=0){let l=[];for(;e<this.file.byteLength-4;){let u=this.parseBoxHead(e);if(l.push(u),u.length===0)break;e+=u.length}return l}parseSubBoxes(e){e.boxes=this.parseBoxes(e.start)}findBox(e,l){return e.boxes===void 0&&this.parseSubBoxes(e),e.boxes.find((u=>u.kind===l))}parseBoxHead(e){let l=this.file.getUint32(e),u=this.file.getString(e+4,4),o=e+8;return l===1&&(l=this.file.getUint64(e+8),o+=8),{offset:e,length:l,kind:u,start:o}}parseBoxFullHead(e){if(e.version!==void 0)return;let l=this.file.getUint32(e.start);e.version=l>>24,e.start+=4}}class Kg extends q3{static canHandle(e,l){if(l!==0)return!1;let u=e.getUint16(2);if(u>50)return!1;let o=16,h=[];for(;o<u;)h.push(e.getString(o,4)),o+=4;return h.includes(this.type)}async parse(){let e=this.file.getUint32(0),l=this.parseBoxHead(e);for(;l.kind!=="meta";)e+=l.length,await this.file.ensureChunk(e,16),l=this.parseBoxHead(e);await this.file.ensureChunk(l.offset,l.length),this.parseBoxFullHead(l),this.parseSubBoxes(l),this.options.icc.enabled&&await this.findIcc(l),this.options.tiff.enabled&&await this.findExif(l)}async registerSegment(e,l,u){await this.file.ensureChunk(l,u);let o=this.file.subarray(l,u);this.createParser(e,o)}async findIcc(e){let l=this.findBox(e,"iprp");if(l===void 0)return;let u=this.findBox(l,"ipco");if(u===void 0)return;let o=this.findBox(u,"colr");o!==void 0&&await this.registerSegment("icc",o.offset+12,o.length)}async findExif(e){let l=this.findBox(e,"iinf");if(l===void 0)return;let u=this.findBox(e,"iloc");if(u===void 0)return;let o=this.findExifLocIdInIinf(l),h=this.findExtentInIloc(u,o);if(h===void 0)return;let[g,y]=h;await this.file.ensureChunk(g,y);let S=4+this.file.getUint32(g);g+=S,y-=S,await this.registerSegment("tiff",g,y)}findExifLocIdInIinf(e){this.parseBoxFullHead(e);let l,u,o,h,g=e.start,y=this.file.getUint16(g);for(g+=2;y--;){if(l=this.parseBoxHead(g),this.parseBoxFullHead(l),u=l.start,l.version>=2&&(o=l.version===3?4:2,h=this.file.getString(u+o+2,4),h==="Exif"))return this.file.getUintBytes(u,o);g+=l.length}}get8bits(e){let l=this.file.getUint8(e);return[l>>4,15&l]}findExtentInIloc(e,l){this.parseBoxFullHead(e);let u=e.start,[o,h]=this.get8bits(u++),[g,y]=this.get8bits(u++),S=e.version===2?4:2,x=e.version===1||e.version===2?2:0,C=y+o+h,E=e.version===2?4:2,T=this.file.getUintBytes(u,E);for(u+=E;T--;){let D=this.file.getUintBytes(u,S);u+=S+x+2+g;let N=this.file.getUint16(u);if(u+=2,D===l)return N>1&&console.warn(`ILOC box has more than one extent but we're only processing one
Please create an issue at https://github.com/MikeKovarik/exifr with this file`),[this.file.getUintBytes(u+y,o),this.file.getUintBytes(u+y+o,h)];u+=N*C}}}class Zg extends Kg{}Qt(Zg,"type","heic");class Xm extends Kg{}Qt(Xm,"type","avif"),_o.set("heic",Zg),_o.set("avif",Xm),un(ii,["ifd0","ifd1"],[[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[296,"ResolutionUnit"],[301,"TransferFunction"],[305,"Software"],[306,"ModifyDate"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[700,"ApplicationNotes"],[33432,"Copyright"],[33723,"IPTC"],[34665,"ExifIFD"],[34675,"ICC"],[34853,"GpsIFD"],[330,"SubIFD"],[40965,"InteropIFD"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"]]),un(ii,"exif",[[33434,"ExposureTime"],[33437,"FNumber"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34855,"ISO"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[36873,"GooglePlusUploadCode"],[36880,"OffsetTime"],[36881,"OffsetTimeOriginal"],[36882,"OffsetTimeDigitized"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureCompensation"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37888,"AmbientTemperature"],[37889,"Humidity"],[37890,"Pressure"],[37891,"WaterDepth"],[37892,"Acceleration"],[37893,"CameraElevationAngle"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"ExifImageWidth"],[40963,"ExifImageHeight"],[40964,"RelatedSoundFile"],[41483,"FlashEnergy"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42240,"Gamma"],[59932,"Padding"],[59933,"OffsetSchema"],[65e3,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"],[40965,"InteropIFD"]]),un(ii,"gps",[[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]]),un(Zr,["ifd0","ifd1"],[[274,{1:"Horizontal (normal)",2:"Mirror horizontal",3:"Rotate 180",4:"Mirror vertical",5:"Mirror horizontal and rotate 270 CW",6:"Rotate 90 CW",7:"Mirror horizontal and rotate 90 CW",8:"Rotate 270 CW"}],[296,{1:"None",2:"inches",3:"cm"}]]);let yh=un(Zr,"exif",[[34850,{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"}],[37121,{0:"-",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}],[37383,{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"}],[37384,{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"}],[37385,{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"}],[41495,{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"}],[41728,{1:"Film Scanner",2:"Reflection Print Scanner",3:"Digital Camera"}],[41729,{1:"Directly photographed"}],[41985,{0:"Normal",1:"Custom",2:"HDR (no original saved)",3:"HDR (original saved)",4:"Original (for HDR)",6:"Panorama",7:"Portrait HDR",8:"Portrait"}],[41986,{0:"Auto",1:"Manual",2:"Auto bracket"}],[41987,{0:"Auto",1:"Manual"}],[41990,{0:"Standard",1:"Landscape",2:"Portrait",3:"Night",4:"Other"}],[41991,{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"}],[41996,{0:"Unknown",1:"Macro",2:"Close",3:"Distant"}],[42080,{0:"Unknown",1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}]]);const Vm={1:"No absolute unit of measurement",2:"Inch",3:"Centimeter"};yh.set(37392,Vm),yh.set(41488,Vm);const X1={0:"Normal",1:"Low",2:"High"};function Qm(f){return typeof f=="object"&&f.length!==void 0?f[0]:f}function Km(f){let e=Array.from(f).slice(1);return e[1]>15&&(e=e.map((l=>String.fromCharCode(l)))),e[2]!=="0"&&e[2]!==0||e.pop(),e.join(".")}function V1(f){if(typeof f=="string"){var[e,l,u,o,h,g]=f.trim().split(/[-: ]/g).map(Number),y=new Date(e,l-1,u);return Number.isNaN(o)||Number.isNaN(h)||Number.isNaN(g)||(y.setHours(o),y.setMinutes(h),y.setSeconds(g)),Number.isNaN(+y)?f:y}}function uh(f){if(typeof f=="string")return f;let e=[];if(f[1]===0&&f[f.length-1]===0)for(let l=0;l<f.length;l+=2)e.push(Zm(f[l+1],f[l]));else for(let l=0;l<f.length;l+=2)e.push(Zm(f[l],f[l+1]));return Qr(String.fromCodePoint(...e))}function Zm(f,e){return f<<8|e}yh.set(41992,X1),yh.set(41993,X1),yh.set(41994,X1),un(R0,["ifd0","ifd1"],[[50827,function(f){return typeof f!="string"?qg(f):f}],[306,V1],[40091,uh],[40092,uh],[40093,uh],[40094,uh],[40095,uh]]),un(R0,"exif",[[40960,Km],[36864,Km],[36867,V1],[36868,V1],[40962,Qm],[40963,Qm]]),un(R0,"gps",[[0,f=>Array.from(f).join(".")],[7,f=>Array.from(f).join(":")]]);class Q1 extends gl{static canHandle(e,l){return e.getUint8(l+1)===225&&e.getUint32(l+4)===1752462448&&e.getString(l+4,20)==="http://ns.adobe.com/"}static headerLength(e,l){return e.getString(l+4,34)==="http://ns.adobe.com/xmp/extension/"?79:33}static findPosition(e,l){let u=super.findPosition(e,l);return u.multiSegment=u.extended=u.headerLength===79,u.multiSegment?(u.chunkCount=e.getUint8(l+72),u.chunkNumber=e.getUint8(l+76),e.getUint8(l+77)!==0&&u.chunkNumber++):(u.chunkCount=1/0,u.chunkNumber=-1),u}static handleMultiSegments(e){return e.map((l=>l.chunk.getString())).join("")}normalizeInput(e){return typeof e=="string"?e:ni.from(e).getString()}parse(e=this.chunk){if(!this.localOptions.parse)return e;e=(function(h){let g={},y={};for(let S of Pg)g[S]=[],y[S]=0;return h.replace(K3,((S,x,C)=>{if(x==="<"){let E=++y[C];return g[C].push(E),`${S}#${E}`}return`${S}#${g[C].pop()}`}))})(e);let l=xo.findAll(e,"rdf","Description");l.length===0&&l.push(new xo("rdf","Description",void 0,e));let u,o={};for(let h of l)for(let g of h.properties)u=Q3(g.ns,o),kg(g,u);return(function(h){let g;for(let y in h)g=h[y]=w0(h[y]),g===void 0&&delete h[y];return w0(h)})(o)}assignToOutput(e,l){if(this.localOptions.parse)for(let[u,o]of Object.entries(l))switch(u){case"tiff":this.assignObjectToOutput(e,"ifd0",o);break;case"exif":this.assignObjectToOutput(e,"exif",o);break;case"xmlns":break;default:this.assignObjectToOutput(e,u,o)}else e.xmp=l}}Qt(Q1,"type","xmp"),Qt(Q1,"multiSegment",!0),vn.set("xmp",Q1);class Y0{static findAll(e){return Jg(e,/([a-zA-Z0-9-]+):([a-zA-Z0-9-]+)=("[^"]*"|'[^']*')/gm).map(Y0.unpackMatch)}static unpackMatch(e){let l=e[1],u=e[2],o=e[3].slice(1,-1);return o=Fg(o),new Y0(l,u,o)}constructor(e,l,u){this.ns=e,this.name=l,this.value=u}serialize(){return this.value}}class xo{static findAll(e,l,u){if(l!==void 0||u!==void 0){l=l||"[\\w\\d-]+",u=u||"[\\w\\d-]+";var o=new RegExp(`<(${l}):(${u})(#\\d+)?((\\s+?[\\w\\d-:]+=("[^"]*"|'[^']*'))*\\s*)(\\/>|>([\\s\\S]*?)<\\/\\1:\\2\\3>)`,"gm")}else o=/<([\w\d-]+):([\w\d-]+)(#\d+)?((\s+?[\w\d-:]+=("[^"]*"|'[^']*'))*\s*)(\/>|>([\s\S]*?)<\/\1:\2\3>)/gm;return Jg(e,o).map(xo.unpackMatch)}static unpackMatch(e){let l=e[1],u=e[2],o=e[4],h=e[8];return new xo(l,u,o,h)}constructor(e,l,u,o){this.ns=e,this.name=l,this.attrString=u,this.innerXml=o,this.attrs=Y0.findAll(u),this.children=xo.findAll(o),this.value=this.children.length===0?Fg(o):void 0,this.properties=[...this.attrs,...this.children]}get isPrimitive(){return this.value!==void 0&&this.attrs.length===0&&this.children.length===0}get isListContainer(){return this.children.length===1&&this.children[0].isList}get isList(){let{ns:e,name:l}=this;return e==="rdf"&&(l==="Seq"||l==="Bag"||l==="Alt")}get isListItem(){return this.ns==="rdf"&&this.name==="li"}serialize(){if(this.properties.length===0&&this.value===void 0)return;if(this.isPrimitive)return this.value;if(this.isListContainer)return this.children[0].serialize();if(this.isList)return V3(this.children.map(X3));if(this.isListItem&&this.children.length===1&&this.attrs.length===0)return this.children[0].serialize();let e={};for(let l of this.properties)kg(l,e);return this.value!==void 0&&(e.value=this.value),w0(e)}}function kg(f,e){let l=f.serialize();l!==void 0&&(e[f.name]=l)}var X3=f=>f.serialize(),V3=f=>f.length===1?f[0]:f,Q3=(f,e)=>e[f]?e[f]:e[f]={};function Jg(f,e){let l,u=[];if(!f)return u;for(;(l=e.exec(f))!==null;)u.push(l);return u}function Fg(f){if((function(u){return u==null||u==="null"||u==="undefined"||u===""||u.trim()===""})(f))return;let e=Number(f);if(!Number.isNaN(e))return e;let l=f.toLowerCase();return l==="true"||l!=="false"&&f.trim()}const Pg=["rdf:li","rdf:Seq","rdf:Bag","rdf:Alt","rdf:Description"],K3=new RegExp(`(<|\\/)(${Pg.join("|")})`,"g");let km=j0("fs",(f=>f.promises));To.set("fs",class extends Z0{async readWhole(){this.chunked=!1,this.fs=await km;let f=await this.fs.readFile(this.input);this._swapBuffer(f)}async readChunked(){this.chunked=!0,this.fs=await km,await this.open(),await this.readChunk(0,this.options.firstChunkSize)}async open(){this.fh===void 0&&(this.fh=await this.fs.open(this.input,"r"),this.size=(await this.fh.stat(this.input)).size)}async _readChunk(f,e){this.fh===void 0&&await this.open(),f+e>this.size&&(e=this.size-f);var l=this.subarray(f,e,!0);return await this.fh.read(l.dataView,0,e,f),l}async close(){if(this.fh){let f=this.fh;this.fh=void 0,await f.close()}}});To.set("base64",class extends Z0{constructor(...f){super(...f),this.input=this.input.replace(/^data:([^;]+);base64,/gim,""),this.size=this.input.length/4*3,this.input.endsWith("==")?this.size-=2:this.input.endsWith("=")&&(this.size-=1)}async _readChunk(f,e){let l,u,o=this.input;f===void 0?(f=0,l=0,u=0):(l=4*Math.floor(f/3),u=f-l/4*3),e===void 0&&(e=this.size);let h=f+e,g=l+4*Math.ceil(h/3);o=o.slice(l,g);let y=Math.min(e,this.size-f);if(O2){let S=N2.from(o,"base64").slice(u,u+y);return this.set(S,f,!0)}{let S=this.subarray(f,y,!0),x=atob(o),C=S.toUint8();for(let E=0;E<y;E++)C[E]=x.charCodeAt(u+E);return S}}});class Jm extends K0{static canHandle(e,l){return l===18761||l===19789}extendOptions(e){let{ifd0:l,xmp:u,iptc:o,icc:h}=e;u.enabled&&l.deps.add(700),o.enabled&&l.deps.add(33723),h.enabled&&l.deps.add(34675),l.finalizeFilters()}async parse(){let{tiff:e,xmp:l,iptc:u,icc:o}=this.options;if(e.enabled||l.enabled||u.enabled||o.enabled){let h=Math.max(s2(this.options),this.options.chunkSize);await this.file.ensureChunk(0,h),this.createParser("tiff",this.file),this.parsers.tiff.parseHeader(),await this.parsers.tiff.parseIfd0Block(),this.adaptTiffPropAsSegment("xmp"),this.adaptTiffPropAsSegment("iptc"),this.adaptTiffPropAsSegment("icc")}}adaptTiffPropAsSegment(e){if(this.parsers.tiff[e]){let l=this.parsers.tiff[e];this.injectSegment(e,l)}}}Qt(Jm,"type","tiff"),_o.set("tiff",Jm);let Z3=j0("zlib");const k3=["ihdr","iccp","text","itxt","exif"];class Fm extends K0{constructor(...e){super(...e),Qt(this,"catchError",(l=>this.errors.push(l))),Qt(this,"metaChunks",[]),Qt(this,"unknownChunks",[])}static canHandle(e,l){return l===35152&&e.getUint32(0)===2303741511&&e.getUint32(4)===218765834}async parse(){let{file:e}=this;await this.findPngChunksInRange(8,e.byteLength),await this.readSegments(this.metaChunks),this.findIhdr(),this.parseTextChunks(),await this.findExif().catch(this.catchError),await this.findXmp().catch(this.catchError),await this.findIcc().catch(this.catchError)}async findPngChunksInRange(e,l){let{file:u}=this;for(;e<l;){let o=u.getUint32(e),h=u.getUint32(e+4),g=u.getString(e+4,4).toLowerCase(),y=o+4+4+4,S={type:g,offset:e,length:y,start:e+4+4,size:o,marker:h};k3.includes(g)?this.metaChunks.push(S):this.unknownChunks.push(S),e+=y}}parseTextChunks(){let e=this.metaChunks.filter((l=>l.type==="text"));for(let l of e){let[u,o]=this.file.getString(l.start,l.size).split("\0");this.injectKeyValToIhdr(u,o)}}injectKeyValToIhdr(e,l){let u=this.parsers.ihdr;u&&u.raw.set(e,l)}findIhdr(){let e=this.metaChunks.find((l=>l.type==="ihdr"));e&&this.options.ihdr.enabled!==!1&&this.createParser("ihdr",e.chunk)}async findExif(){let e=this.metaChunks.find((l=>l.type==="exif"));e&&this.injectSegment("tiff",e.chunk)}async findXmp(){let e=this.metaChunks.filter((l=>l.type==="itxt"));for(let l of e)l.chunk.getString(0,17)==="XML:com.adobe.xmp"&&this.injectSegment("xmp",l.chunk)}async findIcc(){let e=this.metaChunks.find((y=>y.type==="iccp"));if(!e)return;let{chunk:l}=e,u=l.getUint8Array(0,81),o=0;for(;o<80&&u[o]!==0;)o++;let h=o+2,g=l.getString(0,o);if(this.injectKeyValToIhdr("ProfileName",g),H0){let y=await Z3,S=l.getUint8Array(h);S=y.inflateSync(S),this.injectSegment("icc",S)}}}Qt(Fm,"type","png"),_o.set("png",Fm),un(ii,"interop",[[1,"InteropIndex"],[2,"InteropVersion"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"]]),d2(ii,"ifd0",[[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[290,"GrayResponseUnit"],[297,"PageNumber"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[332,"InkSet"],[337,"TargetPrinter"],[18246,"Rating"],[18249,"RatingPercent"],[33550,"PixelScale"],[34264,"ModelTransform"],[34377,"PhotoshopSettings"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50736,"DNGLensInfo"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[33920,"IntergraphMatrix"],[33922,"ModelTiePoint"],[34118,"SEMInfo"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[50341,"PrintIM"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50741,"MakerNoteSafety"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50781,"RawDataUniqueID"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50885,"SRawType"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"]]);let Pm=[[273,"StripOffsets"],[279,"StripByteCounts"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[300,"ColorResponseUnit"],[320,"ColorMap"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[559,"StripRowCounts"],[999,"USPTOMiscellaneous"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[28672,"SonyRawFileType"],[28688,"SonyToneCurve"],[28721,"VignettingCorrection"],[28722,"VignettingCorrParams"],[28724,"ChromaticAberrationCorrection"],[28725,"ChromaticAberrationCorrParams"],[28726,"DistortionCorrection"],[28727,"DistortionCorrParams"],[29895,"SonyCropTopLeft"],[29896,"SonyCropSize"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32953,"ImageReferencePoints"],[32954,"RegionXformTackPoint"],[32955,"WarpQuadrilateral"],[32956,"AffineTransformMat"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33300,"ImageFullWidth"],[33301,"ImageFullHeight"],[33302,"TextureFormat"],[33303,"WrapModes"],[33304,"FovCot"],[33305,"MatrixWorldToScreen"],[33306,"MatrixWorldToCamera"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33921,"INGRReserved"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34263,"JPLCartoIFD"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34750,"JBIGOptions"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34929,"FedexEDR"],[34954,"LeafSubIFD"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40965,"InteropIFD"],[40976,"SamsungRawPointersOffset"],[40977,"SamsungRawPointersLength"],[41217,"SamsungRawByteOrder"],[41218,"SamsungRawUnknown"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41494,"TIFF-EPStandardID"],[41995,"DeviceSettingDescription"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[46275,"HasselbladRawImage"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50459,"HasselbladExif"],[50547,"OriginalFileName"],[50560,"USPTOOriginalContentType"],[50656,"CR2CFAPattern"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50733,"BayerGreenSplit"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50752,"RawImageSegmentation"],[50780,"BestQualityScale"],[50784,"AliasLayerMetadata"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50935,"NoiseReductionApplied"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51114,"CacheVersion"],[51125,"DefaultUserCrop"],[51157,"NikonNEFInfo"],[65024,"KdcIFD"]];d2(ii,"ifd0",Pm),d2(ii,"exif",Pm),un(Zr,"gps",[[23,{M:"Magnetic North",T:"True North"}],[25,{K:"Kilometers",M:"Miles",N:"Nautical Miles"}]]);class K1 extends gl{static canHandle(e,l){return e.getUint8(l+1)===224&&e.getUint32(l+4)===1246120262&&e.getUint8(l+8)===0}parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint16(0)],[2,this.chunk.getUint8(2)],[3,this.chunk.getUint16(3)],[5,this.chunk.getUint16(5)],[7,this.chunk.getUint8(7)],[8,this.chunk.getUint8(8)]])}}Qt(K1,"type","jfif"),Qt(K1,"headerLength",9),vn.set("jfif",K1),un(ii,"jfif",[[0,"JFIFVersion"],[2,"ResolutionUnit"],[3,"XResolution"],[5,"YResolution"],[7,"ThumbnailWidth"],[8,"ThumbnailHeight"]]);class Im extends gl{parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint32(0)],[4,this.chunk.getUint32(4)],[8,this.chunk.getUint8(8)],[9,this.chunk.getUint8(9)],[10,this.chunk.getUint8(10)],[11,this.chunk.getUint8(11)],[12,this.chunk.getUint8(12)],...Array.from(this.raw)])}}Qt(Im,"type","ihdr"),vn.set("ihdr",Im),un(ii,"ihdr",[[0,"ImageWidth"],[4,"ImageHeight"],[8,"BitDepth"],[9,"ColorType"],[10,"Compression"],[11,"Filter"],[12,"Interlace"]]),un(Zr,"ihdr",[[9,{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha",DEFAULT:"Unknown"}],[10,{0:"Deflate/Inflate",DEFAULT:"Unknown"}],[11,{0:"Adaptive",DEFAULT:"Unknown"}],[12,{0:"Noninterlaced",1:"Adam7 Interlace",DEFAULT:"Unknown"}]]);class z0 extends gl{static canHandle(e,l){return e.getUint8(l+1)===226&&e.getUint32(l+4)===1229144927}static findPosition(e,l){let u=super.findPosition(e,l);return u.chunkNumber=e.getUint8(l+16),u.chunkCount=e.getUint8(l+17),u.multiSegment=u.chunkCount>1,u}static handleMultiSegments(e){return(function(l){let u=(function(o){let h=o[0].constructor,g=0;for(let x of o)g+=x.length;let y=new h(g),S=0;for(let x of o)y.set(x,S),S+=x.length;return y})(l.map((o=>o.chunk.toUint8())));return new ni(u)})(e)}parse(){return this.raw=new Map,this.parseHeader(),this.parseTags(),this.translate(),this.output}parseHeader(){let{raw:e}=this;this.chunk.byteLength<84&&Ua("ICC header is too short");for(let[l,u]of Object.entries(J3)){l=parseInt(l,10);let o=u(this.chunk,l);o!=="\0\0\0\0"&&e.set(l,o)}}parseTags(){let e,l,u,o,h,{raw:g}=this,y=this.chunk.getUint32(128),S=132,x=this.chunk.byteLength;for(;y--;){if(e=this.chunk.getString(S,4),l=this.chunk.getUint32(S+4),u=this.chunk.getUint32(S+8),o=this.chunk.getString(l,4),l+u>x)return void console.warn("reached the end of the first ICC chunk. Enable options.tiff.multiSegment to read all ICC segments.");h=this.parseTag(o,l,u),h!==void 0&&h!=="\0\0\0\0"&&g.set(e,h),S+=12}}parseTag(e,l,u){switch(e){case"desc":return this.parseDesc(l);case"mluc":return this.parseMluc(l);case"text":return this.parseText(l,u);case"sig ":return this.parseSig(l)}if(!(l+u>this.chunk.byteLength))return this.chunk.getUint8Array(l,u)}parseDesc(e){let l=this.chunk.getUint32(e+8)-1;return Qr(this.chunk.getString(e+12,l))}parseText(e,l){return Qr(this.chunk.getString(e+8,l-8))}parseSig(e){return Qr(this.chunk.getString(e+8,4))}parseMluc(e){let{chunk:l}=this,u=l.getUint32(e+8),o=l.getUint32(e+12),h=e+16,g=[];for(let y=0;y<u;y++){let S=l.getString(h+0,2),x=l.getString(h+2,2),C=l.getUint32(h+4),E=l.getUint32(h+8)+e,T=Qr(l.getUnicodeString(E,C));g.push({lang:S,country:x,text:T}),h+=o}return u===1?g[0].text:g}translateValue(e,l){return typeof e=="string"?l[e]||l[e.toLowerCase()]||e:l[e]||e}}Qt(z0,"type","icc"),Qt(z0,"multiSegment",!0),Qt(z0,"headerLength",18);const J3={4:Ls,8:function(f,e){return[f.getUint8(e),f.getUint8(e+1)>>4,f.getUint8(e+1)%16].map((l=>l.toString(10))).join(".")},12:Ls,16:Ls,20:Ls,24:function(f,e){const l=f.getUint16(e),u=f.getUint16(e+2)-1,o=f.getUint16(e+4),h=f.getUint16(e+6),g=f.getUint16(e+8),y=f.getUint16(e+10);return new Date(Date.UTC(l,u,o,h,g,y))},36:Ls,40:Ls,48:Ls,52:Ls,64:(f,e)=>f.getUint32(e),80:Ls};function Ls(f,e){return Qr(f.getString(e,4))}vn.set("icc",z0),un(ii,"icc",[[4,"ProfileCMMType"],[8,"ProfileVersion"],[12,"ProfileClass"],[16,"ColorSpaceData"],[20,"ProfileConnectionSpace"],[24,"ProfileDateTime"],[36,"ProfileFileSignature"],[40,"PrimaryPlatform"],[44,"CMMFlags"],[48,"DeviceManufacturer"],[52,"DeviceModel"],[56,"DeviceAttributes"],[64,"RenderingIntent"],[68,"ConnectionSpaceIlluminant"],[80,"ProfileCreator"],[84,"ProfileID"],["Header","ProfileHeader"],["MS00","WCSProfiles"],["bTRC","BlueTRC"],["bXYZ","BlueMatrixColumn"],["bfd","UCRBG"],["bkpt","MediaBlackPoint"],["calt","CalibrationDateTime"],["chad","ChromaticAdaptation"],["chrm","Chromaticity"],["ciis","ColorimetricIntentImageState"],["clot","ColorantTableOut"],["clro","ColorantOrder"],["clrt","ColorantTable"],["cprt","ProfileCopyright"],["crdi","CRDInfo"],["desc","ProfileDescription"],["devs","DeviceSettings"],["dmdd","DeviceModelDesc"],["dmnd","DeviceMfgDesc"],["dscm","ProfileDescriptionML"],["fpce","FocalPlaneColorimetryEstimates"],["gTRC","GreenTRC"],["gXYZ","GreenMatrixColumn"],["gamt","Gamut"],["kTRC","GrayTRC"],["lumi","Luminance"],["meas","Measurement"],["meta","Metadata"],["mmod","MakeAndModel"],["ncl2","NamedColor2"],["ncol","NamedColor"],["ndin","NativeDisplayInfo"],["pre0","Preview0"],["pre1","Preview1"],["pre2","Preview2"],["ps2i","PS2RenderingIntent"],["ps2s","PostScript2CSA"],["psd0","PostScript2CRD0"],["psd1","PostScript2CRD1"],["psd2","PostScript2CRD2"],["psd3","PostScript2CRD3"],["pseq","ProfileSequenceDesc"],["psid","ProfileSequenceIdentifier"],["psvm","PS2CRDVMSize"],["rTRC","RedTRC"],["rXYZ","RedMatrixColumn"],["resp","OutputResponse"],["rhoc","ReflectionHardcopyOrigColorimetry"],["rig0","PerceptualRenderingIntentGamut"],["rig2","SaturationRenderingIntentGamut"],["rpoc","ReflectionPrintOutputColorimetry"],["sape","SceneAppearanceEstimates"],["scoe","SceneColorimetryEstimates"],["scrd","ScreeningDesc"],["scrn","Screening"],["targ","CharTarget"],["tech","Technology"],["vcgt","VideoCardGamma"],["view","ViewingConditions"],["vued","ViewingCondDesc"],["wtpt","MediaWhitePoint"]]);const v0={"4d2p":"Erdt Systems",AAMA:"Aamazing Technologies",ACER:"Acer",ACLT:"Acolyte Color Research",ACTI:"Actix Sytems",ADAR:"Adara Technology",ADBE:"Adobe",ADI:"ADI Systems",AGFA:"Agfa Graphics",ALMD:"Alps Electric",ALPS:"Alps Electric",ALWN:"Alwan Color Expertise",AMTI:"Amiable Technologies",AOC:"AOC International",APAG:"Apago",APPL:"Apple Computer",AST:"AST","AT&T":"AT&T",BAEL:"BARBIERI electronic",BRCO:"Barco NV",BRKP:"Breakpoint",BROT:"Brother",BULL:"Bull",BUS:"Bus Computer Systems","C-IT":"C-Itoh",CAMR:"Intel",CANO:"Canon",CARR:"Carroll Touch",CASI:"Casio",CBUS:"Colorbus PL",CEL:"Crossfield",CELx:"Crossfield",CGS:"CGS Publishing Technologies International",CHM:"Rochester Robotics",CIGL:"Colour Imaging Group, London",CITI:"Citizen",CL00:"Candela",CLIQ:"Color IQ",CMCO:"Chromaco",CMiX:"CHROMiX",COLO:"Colorgraphic Communications",COMP:"Compaq",COMp:"Compeq/Focus Technology",CONR:"Conrac Display Products",CORD:"Cordata Technologies",CPQ:"Compaq",CPRO:"ColorPro",CRN:"Cornerstone",CTX:"CTX International",CVIS:"ColorVision",CWC:"Fujitsu Laboratories",DARI:"Darius Technology",DATA:"Dataproducts",DCP:"Dry Creek Photo",DCRC:"Digital Contents Resource Center, Chung-Ang University",DELL:"Dell Computer",DIC:"Dainippon Ink and Chemicals",DICO:"Diconix",DIGI:"Digital","DL&C":"Digital Light & Color",DPLG:"Doppelganger",DS:"Dainippon Screen",DSOL:"DOOSOL",DUPN:"DuPont",EPSO:"Epson",ESKO:"Esko-Graphics",ETRI:"Electronics and Telecommunications Research Institute",EVER:"Everex Systems",EXAC:"ExactCODE",Eizo:"Eizo",FALC:"Falco Data Products",FF:"Fuji Photo Film",FFEI:"FujiFilm Electronic Imaging",FNRD:"Fnord Software",FORA:"Fora",FORE:"Forefront Technology",FP:"Fujitsu",FPA:"WayTech Development",FUJI:"Fujitsu",FX:"Fuji Xerox",GCC:"GCC Technologies",GGSL:"Global Graphics Software",GMB:"Gretagmacbeth",GMG:"GMG",GOLD:"GoldStar Technology",GOOG:"Google",GPRT:"Giantprint",GTMB:"Gretagmacbeth",GVC:"WayTech Development",GW2K:"Sony",HCI:"HCI",HDM:"Heidelberger Druckmaschinen",HERM:"Hermes",HITA:"Hitachi America",HP:"Hewlett-Packard",HTC:"Hitachi",HiTi:"HiTi Digital",IBM:"IBM",IDNT:"Scitex",IEC:"Hewlett-Packard",IIYA:"Iiyama North America",IKEG:"Ikegami Electronics",IMAG:"Image Systems",IMI:"Ingram Micro",INTC:"Intel",INTL:"N/A (INTL)",INTR:"Intra Electronics",IOCO:"Iocomm International Technology",IPS:"InfoPrint Solutions Company",IRIS:"Scitex",ISL:"Ichikawa Soft Laboratory",ITNL:"N/A (ITNL)",IVM:"IVM",IWAT:"Iwatsu Electric",Idnt:"Scitex",Inca:"Inca Digital Printers",Iris:"Scitex",JPEG:"Joint Photographic Experts Group",JSFT:"Jetsoft Development",JVC:"JVC Information Products",KART:"Scitex",KFC:"KFC Computek Components",KLH:"KLH Computers",KMHD:"Konica Minolta",KNCA:"Konica",KODA:"Kodak",KYOC:"Kyocera",Kart:"Scitex",LCAG:"Leica",LCCD:"Leeds Colour",LDAK:"Left Dakota",LEAD:"Leading Technology",LEXM:"Lexmark International",LINK:"Link Computer",LINO:"Linotronic",LITE:"Lite-On",Leaf:"Leaf",Lino:"Linotronic",MAGC:"Mag Computronic",MAGI:"MAG Innovision",MANN:"Mannesmann",MICN:"Micron Technology",MICR:"Microtek",MICV:"Microvitec",MINO:"Minolta",MITS:"Mitsubishi Electronics America",MITs:"Mitsuba",MNLT:"Minolta",MODG:"Modgraph",MONI:"Monitronix",MONS:"Monaco Systems",MORS:"Morse Technology",MOTI:"Motive Systems",MSFT:"Microsoft",MUTO:"MUTOH INDUSTRIES",Mits:"Mitsubishi Electric",NANA:"NANAO",NEC:"NEC",NEXP:"NexPress Solutions",NISS:"Nissei Sangyo America",NKON:"Nikon",NONE:"none",OCE:"Oce Technologies",OCEC:"OceColor",OKI:"Oki",OKID:"Okidata",OKIP:"Okidata",OLIV:"Olivetti",OLYM:"Olympus",ONYX:"Onyx Graphics",OPTI:"Optiquest",PACK:"Packard Bell",PANA:"Matsushita Electric Industrial",PANT:"Pantone",PBN:"Packard Bell",PFU:"PFU",PHIL:"Philips Consumer Electronics",PNTX:"HOYA",POne:"Phase One A/S",PREM:"Premier Computer Innovations",PRIN:"Princeton Graphic Systems",PRIP:"Princeton Publishing Labs",QLUX:"Hong Kong",QMS:"QMS",QPCD:"QPcard AB",QUAD:"QuadLaser",QUME:"Qume",RADI:"Radius",RDDx:"Integrated Color Solutions",RDG:"Roland DG",REDM:"REDMS Group",RELI:"Relisys",RGMS:"Rolf Gierling Multitools",RICO:"Ricoh",RNLD:"Edmund Ronald",ROYA:"Royal",RPC:"Ricoh Printing Systems",RTL:"Royal Information Electronics",SAMP:"Sampo",SAMS:"Samsung",SANT:"Jaime Santana Pomares",SCIT:"Scitex",SCRN:"Dainippon Screen",SDP:"Scitex",SEC:"Samsung",SEIK:"Seiko Instruments",SEIk:"Seikosha",SGUY:"ScanGuy.com",SHAR:"Sharp Laboratories",SICC:"International Color Consortium",SONY:"Sony",SPCL:"SpectraCal",STAR:"Star",STC:"Sampo Technology",Scit:"Scitex",Sdp:"Scitex",Sony:"Sony",TALO:"Talon Technology",TAND:"Tandy",TATU:"Tatung",TAXA:"TAXAN America",TDS:"Tokyo Denshi Sekei",TECO:"TECO Information Systems",TEGR:"Tegra",TEKT:"Tektronix",TI:"Texas Instruments",TMKR:"TypeMaker",TOSB:"Toshiba",TOSH:"Toshiba",TOTK:"TOTOKU ELECTRIC",TRIU:"Triumph",TSBT:"Toshiba",TTX:"TTX Computer Products",TVM:"TVM Professional Monitor",TW:"TW Casper",ULSX:"Ulead Systems",UNIS:"Unisys",UTZF:"Utz Fehlau & Sohn",VARI:"Varityper",VIEW:"Viewsonic",VISL:"Visual communication",VIVO:"Vivo Mobile Communication",WANG:"Wang",WLBR:"Wilbur Imaging",WTG2:"Ware To Go",WYSE:"WYSE Technology",XERX:"Xerox",XRIT:"X-Rite",ZRAN:"Zoran",Zebr:"Zebra Technologies",appl:"Apple Computer",bICC:"basICColor",berg:"bergdesign",ceyd:"Integrated Color Solutions",clsp:"MacDermid ColorSpan",ds:"Dainippon Screen",dupn:"DuPont",ffei:"FujiFilm Electronic Imaging",flux:"FluxData",iris:"Scitex",kart:"Scitex",lcms:"Little CMS",lino:"Linotronic",none:"none",ob4d:"Erdt Systems",obic:"Medigraph",quby:"Qubyx Sarl",scit:"Scitex",scrn:"Dainippon Screen",sdp:"Scitex",siwi:"SIWI GRAFIKA",yxym:"YxyMaster"},Wm={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Device Link",abst:"Abstract",spac:"Color Space Conversion Profile",nmcl:"Named Color",cenc:"ColorEncodingSpace profile",mid:"MultiplexIdentification profile",mlnk:"MultiplexLink profile",mvis:"MultiplexVisualization profile",nkpf:"Nikon Input Device Profile (NON-STANDARD!)"};un(Zr,"icc",[[4,v0],[12,Wm],[40,Object.assign({},v0,Wm)],[48,v0],[80,v0],[64,{0:"Perceptual",1:"Relative Colorimetric",2:"Saturation",3:"Absolute Colorimetric"}],["tech",{amd:"Active Matrix Display",crt:"Cathode Ray Tube Display",kpcd:"Photo CD",pmd:"Passive Matrix Display",dcam:"Digital Camera",dcpj:"Digital Cinema Projector",dmpc:"Digital Motion Picture Camera",dsub:"Dye Sublimation Printer",epho:"Electrophotographic Printer",esta:"Electrostatic Printer",flex:"Flexography",fprn:"Film Writer",fscn:"Film Scanner",grav:"Gravure",ijet:"Ink Jet Printer",imgs:"Photo Image Setter",mpfr:"Motion Picture Film Recorder",mpfs:"Motion Picture Film Scanner",offs:"Offset Lithography",pjtv:"Projection Television",rpho:"Photographic Paper Printer",rscn:"Reflective Scanner",silk:"Silkscreen",twax:"Thermal Wax Printer",vidc:"Video Camera",vidm:"Video Monitor"}]]);class S0 extends gl{static canHandle(e,l,u){return e.getUint8(l+1)===237&&e.getString(l+4,9)==="Photoshop"&&this.containsIptc8bim(e,l,u)!==void 0}static headerLength(e,l,u){let o,h=this.containsIptc8bim(e,l,u);if(h!==void 0)return o=e.getUint8(l+h+7),o%2!=0&&(o+=1),o===0&&(o=4),h+8+o}static containsIptc8bim(e,l,u){for(let o=0;o<u;o++)if(this.isIptcSegmentHead(e,l+o))return o}static isIptcSegmentHead(e,l){return e.getUint8(l)===56&&e.getUint32(l)===943868237&&e.getUint16(l+4)===1028}parse(){let{raw:e}=this,l=this.chunk.byteLength-1,u=!1;for(let o=0;o<l;o++)if(this.chunk.getUint8(o)===28&&this.chunk.getUint8(o+1)===2){u=!0;let h=this.chunk.getUint16(o+3),g=this.chunk.getUint8(o+2),y=this.chunk.getLatin1String(o+5,h);e.set(g,this.pluralizeValue(e.get(g),y)),o+=4+h}else if(u)break;return this.translate(),this.output}pluralizeValue(e,l){return e!==void 0?e instanceof Array?(e.push(l),e):[e,l]:l}}Qt(S0,"type","iptc"),Qt(S0,"translateValues",!1),Qt(S0,"reviveValues",!1),vn.set("iptc",S0),un(ii,"iptc",[[0,"ApplicationRecordVersion"],[3,"ObjectTypeReference"],[4,"ObjectAttributeReference"],[5,"ObjectName"],[7,"EditStatus"],[8,"EditorialUpdate"],[10,"Urgency"],[12,"SubjectReference"],[15,"Category"],[20,"SupplementalCategories"],[22,"FixtureIdentifier"],[25,"Keywords"],[26,"ContentLocationCode"],[27,"ContentLocationName"],[30,"ReleaseDate"],[35,"ReleaseTime"],[37,"ExpirationDate"],[38,"ExpirationTime"],[40,"SpecialInstructions"],[42,"ActionAdvised"],[45,"ReferenceService"],[47,"ReferenceDate"],[50,"ReferenceNumber"],[55,"DateCreated"],[60,"TimeCreated"],[62,"DigitalCreationDate"],[63,"DigitalCreationTime"],[65,"OriginatingProgram"],[70,"ProgramVersion"],[75,"ObjectCycle"],[80,"Byline"],[85,"BylineTitle"],[90,"City"],[92,"Sublocation"],[95,"State"],[100,"CountryCode"],[101,"Country"],[103,"OriginalTransmissionReference"],[105,"Headline"],[110,"Credit"],[115,"Source"],[116,"CopyrightNotice"],[118,"Contact"],[120,"Caption"],[121,"LocalCaption"],[122,"Writer"],[125,"RasterizedCaption"],[130,"ImageType"],[131,"ImageOrientation"],[135,"LanguageIdentifier"],[150,"AudioType"],[151,"AudioSamplingRate"],[152,"AudioSamplingResolution"],[153,"AudioDuration"],[154,"AudioOutcue"],[184,"JobID"],[185,"MasterDocumentID"],[186,"ShortDocumentID"],[187,"UniqueDocumentID"],[188,"OwnerID"],[200,"ObjectPreviewFileFormat"],[201,"ObjectPreviewFileVersion"],[202,"ObjectPreviewData"],[221,"Prefs"],[225,"ClassifyState"],[228,"SimilarityIndex"],[230,"DocumentNotes"],[231,"DocumentHistory"],[232,"ExifCameraInfo"],[255,"CatalogSets"]]),un(Zr,"iptc",[[10,{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"}],[75,{a:"Morning",b:"Both Morning and Evening",p:"Evening"}],[131,{L:"Landscape",P:"Portrait",S:"Square"}]]);const F3={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://api.your-photo-app.com"};var Z1={};function ku(){return{"Content-Type":"application/json"}}function Xs(f){if(!f)return!1;if(f.status===401||f.status===403){try{window.location.reload()}catch{}return!0}return!1}function P3(){try{if(typeof import.meta<"u"&&F3)return"https://api.your-photo-app.com"}catch{}return typeof globalThis<"u"&&globalThis.process&&Z1&&Z1.VITE_API_URL?Z1.VITE_API_URL:"http://localhost:3001"}const Hn=P3(),ml={totals:{calls:0},limiters:{}};function Ig(f=6,e="default"){let l=0;const u=[];ml.limiters[e]||(ml.limiters[e]={calls:0,active:0,queued:0,maxActiveSeen:0});const o=()=>{if(u.length===0)return;const h=u.shift();ml.limiters[e].queued=u.length,h()};return async function(g){return ml.totals.calls+=1,ml.limiters[e].calls+=1,new Promise((y,S)=>{const x=async()=>{l+=1,ml.limiters[e].active=l,l>ml.limiters[e].maxActiveSeen&&(ml.limiters[e].maxActiveSeen=l);try{const C=await g();y(C)}catch(C){S(C)}finally{l-=1,ml.limiters[e].active=l,ml.limiters[e].queued=u.length,o()}};l<f?x():(u.push(x),ml.limiters[e].queued=u.length)})}}const k0=Ig(6),I3=Ig(2);async function W3(f,e,l=`${Hn}`){const u=`${l}/auth/login`,o=JSON.stringify({username:f,password:e}),h=await fetch(u,{method:"POST",headers:ku(),body:o,credentials:"include"});if(!h.ok)try{const g=await h.json(),y=g&&(g.error||g.message)?g.error||g.message:JSON.stringify(g);throw new Error(y||`Login failed: ${h.status}`)}catch{throw new Error(h.statusText||`Login failed: ${h.status}`)}return await h.json()}async function $3(f,e=`${Hn}/upload`){const l=new FormData;l.append("photo",f,f.name);const u=await fetch(e,{method:"POST",body:l,credentials:"include"});if(!Xs(u)){if(!u.ok)throw new Error("Upload failed");return await u.json()}}async function t4(f,e=`${Hn}/privilege`){for(let o=1;o<=3;o++)try{const h=JSON.stringify({relPath:f}),g=await k0(()=>fetch(e,{method:"POST",headers:ku(),body:h,credentials:"include"}));if(Xs(g))return;if(g.ok)return await g.json();if(o<3){await new Promise(y=>setTimeout(y,250*o));continue}throw new Error("Privilege check failed: "+g.status)}catch(h){if(o<3){await new Promise(g=>setTimeout(g,250*o));continue}throw h}}async function e4(f,e=`${Hn}/privilege`){Array.isArray(f)||(f=[]),globalThis.__privBatchCache||(globalThis.__privBatchCache=new Map);const l=f.slice().sort().join("|"),u=1200,o=Date.now(),h=globalThis.__privBatchCache.get(l);if(h&&o-h.ts<u)return h.promise;const g=12,y=4,S=T=>new Promise(D=>setTimeout(D,T)),x={};async function C(T,D=1){try{const N=JSON.stringify({filenames:T}),X=await k0(()=>fetch(e,{method:"POST",headers:ku(),body:N,credentials:"include"}));if(Xs(X))return null;if(X.status===429){if(D<y)return await S(250*Math.pow(2,D-1)),C(T,D+1);throw new Error("Batch privilege check rate limited: 429")}if(!X.ok)throw new Error("Batch privilege check failed: "+X.status);const B=await X.json();if(!B.success)throw new Error("Batch privilege check error: "+B.error);return B.privileges||{}}catch(N){if(D<y)return await S(250*Math.pow(2,D-1)),C(T,D+1);throw N}}const E=(async()=>{for(let T=0;T<f.length;T+=g){const D=f.slice(T,T+g),N=await C(D,1);N&&typeof N=="object"&&Object.assign(x,N)}return x})();globalThis.__privBatchCache.set(l,{ts:Date.now(),promise:E});try{return await E}catch(T){throw new Error("Error checking privileges batch: "+T.message)}}async function a4(f=`${Hn}/photos`){let e=f;/^https?:\/\//i.test(f)||(["working","inprogress","finished"].includes(f)?e=`${Hn}/photos?state=${f}`:f.startsWith("photos")?e=`${Hn}/${f}`:e=`${Hn}/photos`),globalThis.__getPhotosInflight||(globalThis.__getPhotosInflight=new Map);const l=1e3,u=e,o=Date.now(),h=globalThis.__getPhotosInflight.get(u);if(h&&o-h.ts<l)return h.promise;const g=(async()=>{const y=await fetch(e,{headers:ku(),credentials:"include"});if(!Xs(y)){if(!y.ok)throw new Error("Failed to fetch photos: "+y.status);return await y.json()}})();globalThis.__getPhotosInflight.set(u,{ts:Date.now(),promise:g});try{return await g}finally{setTimeout(()=>{try{globalThis.__getPhotosInflight.delete(u)}catch{}},l)}}async function g2(f,e,l=`${Hn}/photos/`){const u=async()=>fetch(`${l}${f}/state`,{method:"PATCH",headers:ku(),body:JSON.stringify({state:e}),credentials:"include"}),o=await I3(()=>u());if(!Xs(o)){if(!o.ok)throw new Error("Failed to update photo state");return await o.json()}}async function n4(f=`${Hn}/photos/recheck-inprogress`){const e=await k0(()=>fetch(f,{method:"POST",headers:ku(),credentials:"include"}));if(!Xs(e)){if(!e.ok)throw new Error("Failed to trigger recheck");return await e.json()}}async function i4(f,e,l=`${Hn}`){const u=await k0(()=>fetch(`${l}/photos/${f}/caption`,{method:"PATCH",headers:ku(),body:JSON.stringify({caption:e}),credentials:"include"}));if(!Xs(u)){if(!u.ok)throw new Error("Failed to update caption");return await u.json()}}async function l4(f,e=`${Hn}`){const l=await fetch(`${e}/photos/${f}`,{method:"GET",headers:ku(),credentials:"include"});if(!Xs(l)){if(!l.ok)throw new Error("Failed to fetch photo: "+l.status);return await l.json()}}async function s4(f){const e=await fetch(f,{method:"GET",credentials:"include"});if(Xs(e))return null;if(!e.ok)throw new Error("Failed to fetch protected resource: "+e.status);const l=await e.blob();return URL.createObjectURL(l)}function $m(f){try{f&&URL.revokeObjectURL(f)}catch{}}const Wg=St.createContext(),Eh=()=>{const f=St.useContext(Wg);if(!f)throw new Error("useAuth must be used within an AuthProvider");return f},u4=({children:f})=>{const[e,l]=St.useState(null),[u,o]=St.useState(!0);St.useEffect(()=>{(async()=>{const C=h0.VITE_API_URL||"";try{const E=await fetch(`${C}/auth/verify`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(E.ok){const T=await E.json();l(T.user)}else l(null)}catch(E){console.error("Auth verification failed:",E),l(null)}finally{o(!1)}})()},[]);const S={user:e,loading:u,login:async(x,C)=>{try{const E=h0.VITE_API_URL||"",T=await W3(x,C,E||void 0);return l(T.user),{success:!0,user:T.user}}catch(E){return console.error("Login error:",E),{success:!1,error:E.message}}},register:async(x,C,E)=>{try{const T=h0.VITE_API_URL||"",D=await fetch(`${T}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:x,email:C,password:E})}),N=await D.json();if(!D.ok)throw new Error(N.error||"Registration failed");return l(N.user),{success:!0,user:N.user}}catch(T){return console.error("Registration error:",T),{success:!1,error:T.message}}},logout:async()=>{try{const x=h0.VITE_API_URL||"";await fetch(`${x}/auth/logout`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}})}catch(x){console.error("Logout error:",x)}finally{l(null)}},isAuthenticated:!!e};return O.jsx(Wg.Provider,{value:S,children:f})};function r4({onViewStaged:f,onViewInprogress:e,onViewFinished:l,onSelectFolder:u,onRecheck:o,rechecking:h,onShowMetadata:g,toolbarMessage:y,onClearToolbarMessage:S}){const{isAuthenticated:x,user:C,logout:E}=Eh(),T=()=>{x?E():window.location.reload()};return O.jsxs("nav",{role:"navigation","aria-label":"Main toolbar",style:{position:"fixed",top:16,left:16,right:16,zIndex:50,display:"flex",alignItems:"center",justifyContent:"space-between",background:"#2d3748",color:"#fff",padding:"12px 24px",margin:0,borderRadius:"8px",border:"2px solid #4a5568",boxShadow:"0 2px 10px rgba(0,0,0,0.16)"},children:[O.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[O.jsx("span",{style:{fontWeight:"bold",fontSize:"1.1rem",marginRight:"20px"},tabIndex:-1,children:"Photo App (Backend View)"}),O.jsx("button",{onClick:u,children:"Select Folder for Upload"}),O.jsx("button",{onClick:f,children:"View Staged"}),O.jsx("button",{onClick:e,children:"View Inprogress"}),O.jsx("button",{onClick:l,children:"View Finished"}),O.jsx("button",{onClick:g,style:{background:"#475569",color:"#fff",border:"none",borderRadius:"6px",padding:"8px 16px",fontWeight:"bold",cursor:"pointer"},children:"Show Metadata"}),O.jsx("button",{onClick:o,disabled:h,style:{marginLeft:"20px",background:h?"#6b7280":"#8b5cf6",color:"#fff",border:"none",borderRadius:"6px",padding:"8px 16px",fontWeight:"bold",cursor:h?"not-allowed":"pointer",opacity:h?.7:1},children:h?"Rechecking...":"Recheck AI"})]}),O.jsxs("div",{style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:"12px"},children:[y?O.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",background:"#f6ad55",color:"#1f2937",padding:"6px 10px",borderRadius:"6px",fontSize:"0.95rem"},role:"status","aria-live":"polite",children:[O.jsx("span",{children:y}),O.jsx("button",{onClick:S,title:"Dismiss",style:{background:"transparent",border:"none",fontSize:"1rem",cursor:"pointer",color:"#1f2937"},children:"×"})]}):null,x?O.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[O.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[O.jsx("div",{style:{width:"28px",height:"28px",background:"#4f46e5",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold"},children:C?.username?.charAt(0).toUpperCase()||"U"}),O.jsx("span",{style:{fontSize:"0.9rem",opacity:"0.9"},children:C?.username})]}),O.jsx("button",{onClick:T,style:{background:"#dc2626",color:"#fff",border:"none",borderRadius:"6px",padding:"8px 16px",fontWeight:"bold",cursor:"pointer"},title:"Sign out",children:"Logout"})]}):O.jsx("button",{onClick:T,style:{background:"#4f46e5",color:"#fff",border:"none",borderRadius:"6px",padding:"8px 16px",fontWeight:"bold",cursor:"pointer"},children:"Login"})]})]})}const c4=({startDate:f,endDate:e,setStartDate:l,setEndDate:u,uploading:o,filteredLocalPhotos:h,handleUploadFiltered:g,setShowLocalPicker:y,onReopenFolder:S})=>{const[x,C]=St.useState({});St.useEffect(()=>{C({})},[h]);const E=St.useRef(null);return St.useEffect(()=>{const T=document.body.style.overflow;document.body.style.overflow="hidden";try{E.current&&E.current.focus()}catch{}const D=N=>{if(N.key==="Escape")try{y(!1)}catch{}if(N.key!=="Tab")return;const B=E.current?Array.from(E.current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex]:not([tabindex="-1"])')):[];if(B.length===0)return;const w=B[0],V=B[B.length-1];N.shiftKey&&document.activeElement===w?(N.preventDefault(),V.focus()):!N.shiftKey&&document.activeElement===V&&(N.preventDefault(),w.focus())};window.addEventListener("keydown",D);try{const N=document.querySelector('[aria-label="Main toolbar"]');if(N&&E.current){const X=N.getBoundingClientRect(),B=Math.ceil(X.bottom+8);E.current.style.position="absolute",E.current.style.left="16px",E.current.style.right="16px",E.current.style.top=`${B}px`,E.current.style.bottom="16px",E.current.style.margin="0"}}catch{}return()=>{window.removeEventListener("keydown",D),document.body.style.overflow=T}},[]),O.jsxs("div",{id:"photo-upload-panel",ref:E,role:"dialog","aria-modal":"true",tabIndex:-1,className:"fixed overflow-auto",style:{left:"0",right:"0",top:"96px",bottom:"0",zIndex:60,margin:"0",padding:"20px",background:"#f5f5f5",color:"#111"},children:[O.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[O.jsx("h2",{className:"text-xl font-bold",children:"Select Photos to Upload"}),O.jsx("button",{onClick:()=>y(!1),className:"text-gray-500 hover:text-gray-700 text-xl font-bold","aria-label":"Close upload modal",children:"×"})]}),O.jsxs("div",{className:"p-4",children:[O.jsxs("div",{className:"mb-4 flex gap-4 items-center",children:[O.jsx("input",{type:"date",value:f,onChange:T=>l(T.target.value),className:"border rounded px-2 py-1",placeholder:"Start Date"}),O.jsx("input",{type:"date",value:e,onChange:T=>u(T.target.value),className:"border rounded px-2 py-1",placeholder:"End Date"}),O.jsx("button",{onClick:g,disabled:o||h.length===0,className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded disabled:opacity-50",children:o?"Uploading...":`Upload ${h.length} Photos`})]}),O.jsxs("div",{className:"font-medium mb-2",children:["Photos to Upload (",h.length,"):"]}),h.length===0?O.jsxs("div",{className:"p-6 text-center text-gray-600",children:[O.jsx("div",{className:"mb-3",children:"No images found in the selected folder."}),O.jsxs("div",{className:"flex justify-center gap-2",children:[O.jsx("button",{onClick:()=>S&&S(),className:"px-3 py-1 bg-blue-600 text-white rounded",children:"Re-select folder"}),O.jsx("button",{onClick:()=>y(!1),className:"px-3 py-1 bg-gray-100 border rounded",children:"Close"})]})]}):O.jsx("div",{className:"bg-white border rounded",children:O.jsx("ul",{className:"divide-y divide-gray-200",children:h.map((T,D)=>{const N=`${T.name}-${T.file?.lastModified??""}-${D}`,X=T.exifDate?new Date(T.exifDate):new Date(T.file?.lastModified),B=T.file&&T.file.size||0;return O.jsxs("li",{className:"flex items-center gap-4 px-3 py-2",children:[O.jsx("div",{className:"w-12 h-12 bg-gray-50 rounded flex items-center justify-center text-xs text-gray-400 border",children:T.name.split(".").pop()?.toUpperCase()}),O.jsxs("div",{className:"flex-1 min-w-0",children:[O.jsx("div",{className:"font-medium text-sm truncate",children:T.name}),O.jsx("div",{className:"text-xs text-gray-500",children:X.toLocaleString()})]}),O.jsxs("div",{className:"text-xs text-gray-500",children:[(B/1024).toFixed(1)," KB"]})]},N)})})})]})]})},o4=Math.PI/180;function f4(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const Kr=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},bt={_global:Kr,version:"10.0.8",isBrowser:f4(),isUnminified:/param/.test((function(f){}).toString()),dblClickWindow:400,getAngle(f){return bt.angleDeg?f*o4:f},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return bt.DD.isDragging},isTransforming(){var f,e;return(e=(f=bt.Transformer)===null||f===void 0?void 0:f.isTransforming())!==null&&e!==void 0?e:!1},isDragReady(){return!!bt.DD.node},releaseCanvasOnDestroy:!0,document:Kr.document,_injectGlobal(f){typeof Kr.Konva<"u"&&console.error("Several Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),Kr.Konva=f}},fa=f=>{bt[f.prototype.getClassName()]=f};bt._injectGlobal(bt);const h4=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,tg=()=>{if(typeof document>"u")throw new Error(h4)};class hi{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new hi(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const l=this.m;return{x:l[0]*e.x+l[2]*e.y+l[4],y:l[1]*e.x+l[3]*e.y+l[5]}}translate(e,l){return this.m[4]+=this.m[0]*e+this.m[2]*l,this.m[5]+=this.m[1]*e+this.m[3]*l,this}scale(e,l){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=l,this.m[3]*=l,this}rotate(e){const l=Math.cos(e),u=Math.sin(e),o=this.m[0]*l+this.m[2]*u,h=this.m[1]*l+this.m[3]*u,g=this.m[0]*-u+this.m[2]*l,y=this.m[1]*-u+this.m[3]*l;return this.m[0]=o,this.m[1]=h,this.m[2]=g,this.m[3]=y,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,l){const u=this.m[0]+this.m[2]*l,o=this.m[1]+this.m[3]*l,h=this.m[2]+this.m[0]*e,g=this.m[3]+this.m[1]*e;return this.m[0]=u,this.m[1]=o,this.m[2]=h,this.m[3]=g,this}multiply(e){const l=this.m[0]*e.m[0]+this.m[2]*e.m[1],u=this.m[1]*e.m[0]+this.m[3]*e.m[1],o=this.m[0]*e.m[2]+this.m[2]*e.m[3],h=this.m[1]*e.m[2]+this.m[3]*e.m[3],g=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],y=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=l,this.m[1]=u,this.m[2]=o,this.m[3]=h,this.m[4]=g,this.m[5]=y,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),l=this.m[3]*e,u=-this.m[1]*e,o=-this.m[2]*e,h=this.m[0]*e,g=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),y=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=l,this.m[1]=u,this.m[2]=o,this.m[3]=h,this.m[4]=g,this.m[5]=y,this}getMatrix(){return this.m}decompose(){const e=this.m[0],l=this.m[1],u=this.m[2],o=this.m[3],h=this.m[4],g=this.m[5],y=e*o-l*u,S={x:h,y:g,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||l!=0){const x=Math.sqrt(e*e+l*l);S.rotation=l>0?Math.acos(e/x):-Math.acos(e/x),S.scaleX=x,S.scaleY=y/x,S.skewX=(e*u+l*o)/y,S.skewY=0}else if(u!=0||o!=0){const x=Math.sqrt(u*u+o*o);S.rotation=Math.PI/2-(o>0?Math.acos(-u/x):-Math.acos(u/x)),S.scaleX=y/x,S.scaleY=x,S.skewX=0,S.skewY=(e*u+l*o)/y}return S.rotation=q._getRotation(S.rotation),S}}const d4="[object Array]",m4="[object Number]",g4="[object String]",p4="[object Boolean]",y4=Math.PI/180,v4=180/Math.PI,k1="#",S4="",b4="0",x4="Konva warning: ",eg="Konva error: ",_4="rgb(",J1={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},C4=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let b0=[];const E4=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(f){setTimeout(f,60)},q={_isElement(f){return!!(f&&f.nodeType==1)},_isFunction(f){return!!(f&&f.constructor&&f.call&&f.apply)},_isPlainObject(f){return!!f&&f.constructor===Object},_isArray(f){return Object.prototype.toString.call(f)===d4},_isNumber(f){return Object.prototype.toString.call(f)===m4&&!isNaN(f)&&isFinite(f)},_isString(f){return Object.prototype.toString.call(f)===g4},_isBoolean(f){return Object.prototype.toString.call(f)===p4},isObject(f){return f instanceof Object},isValidSelector(f){if(typeof f!="string")return!1;const e=f[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(f){return f===0||f>0?1:-1},requestAnimFrame(f){b0.push(f),b0.length===1&&E4(function(){const e=b0;b0=[],e.forEach(function(l){l()})})},createCanvasElement(){tg();const f=document.createElement("canvas");try{f.style=f.style||{}}catch{}return f},createImageElement(){return tg(),document.createElement("img")},_isInDocument(f){for(;f=f.parentNode;)if(f==document)return!0;return!1},_urlToImage(f,e){const l=q.createImageElement();l.onload=function(){e(l)},l.src=f},_rgbToHex(f,e,l){return((1<<24)+(f<<16)+(e<<8)+l).toString(16).slice(1)},_hexToRgb(f){f=f.replace(k1,S4);const e=parseInt(f,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let f=(Math.random()*16777215<<0).toString(16);for(;f.length<6;)f=b4+f;return k1+f},getRGB(f){let e;return f in J1?(e=J1[f],{r:e[0],g:e[1],b:e[2]}):f[0]===k1?this._hexToRgb(f.substring(1)):f.substr(0,4)===_4?(e=C4.exec(f.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(f){return f=f||"black",q._namedColorToRBA(f)||q._hex3ColorToRGBA(f)||q._hex4ColorToRGBA(f)||q._hex6ColorToRGBA(f)||q._hex8ColorToRGBA(f)||q._rgbColorToRGBA(f)||q._rgbaColorToRGBA(f)||q._hslColorToRGBA(f)},_namedColorToRBA(f){const e=J1[f.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(f){if(f.indexOf("rgb(")===0){f=f.match(/rgb\(([^)]+)\)/)[1];const e=f.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(f){if(f.indexOf("rgba(")===0){f=f.match(/rgba\(([^)]+)\)/)[1];const e=f.split(/ *, */).map((l,u)=>l.slice(-1)==="%"?u===3?parseInt(l)/100:parseInt(l)/100*255:Number(l));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(f){if(f[0]==="#"&&f.length===9)return{r:parseInt(f.slice(1,3),16),g:parseInt(f.slice(3,5),16),b:parseInt(f.slice(5,7),16),a:parseInt(f.slice(7,9),16)/255}},_hex6ColorToRGBA(f){if(f[0]==="#"&&f.length===7)return{r:parseInt(f.slice(1,3),16),g:parseInt(f.slice(3,5),16),b:parseInt(f.slice(5,7),16),a:1}},_hex4ColorToRGBA(f){if(f[0]==="#"&&f.length===5)return{r:parseInt(f[1]+f[1],16),g:parseInt(f[2]+f[2],16),b:parseInt(f[3]+f[3],16),a:parseInt(f[4]+f[4],16)/255}},_hex3ColorToRGBA(f){if(f[0]==="#"&&f.length===4)return{r:parseInt(f[1]+f[1],16),g:parseInt(f[2]+f[2],16),b:parseInt(f[3]+f[3],16),a:1}},_hslColorToRGBA(f){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(f)){const[e,...l]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(f),u=Number(l[0])/360,o=Number(l[1])/100,h=Number(l[2])/100;let g,y,S;if(o===0)return S=h*255,{r:Math.round(S),g:Math.round(S),b:Math.round(S),a:1};h<.5?g=h*(1+o):g=h+o-h*o;const x=2*h-g,C=[0,0,0];for(let E=0;E<3;E++)y=u+1/3*-(E-1),y<0&&y++,y>1&&y--,6*y<1?S=x+(g-x)*6*y:2*y<1?S=g:3*y<2?S=x+(g-x)*(2/3-y)*6:S=x,C[E]=S*255;return{r:Math.round(C[0]),g:Math.round(C[1]),b:Math.round(C[2]),a:1}}},haveIntersection(f,e){return!(e.x>f.x+f.width||e.x+e.width<f.x||e.y>f.y+f.height||e.y+e.height<f.y)},cloneObject(f){const e={};for(const l in f)this._isPlainObject(f[l])?e[l]=this.cloneObject(f[l]):this._isArray(f[l])?e[l]=this.cloneArray(f[l]):e[l]=f[l];return e},cloneArray(f){return f.slice(0)},degToRad(f){return f*y4},radToDeg(f){return f*v4},_degToRad(f){return q.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),q.degToRad(f)},_radToDeg(f){return q.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),q.radToDeg(f)},_getRotation(f){return bt.angleDeg?q.radToDeg(f):f},_capitalize(f){return f.charAt(0).toUpperCase()+f.slice(1)},throw(f){throw new Error(eg+f)},error(f){console.error(eg+f)},warn(f){bt.showWarnings&&console.warn(x4+f)},each(f,e){for(const l in f)e(l,f[l])},_inRange(f,e,l){return e<=f&&f<l},_getProjectionToSegment(f,e,l,u,o,h){let g,y,S;const x=(f-l)*(f-l)+(e-u)*(e-u);if(x==0)g=f,y=e,S=(o-l)*(o-l)+(h-u)*(h-u);else{const C=((o-f)*(l-f)+(h-e)*(u-e))/x;C<0?(g=f,y=e,S=(f-o)*(f-o)+(e-h)*(e-h)):C>1?(g=l,y=u,S=(l-o)*(l-o)+(u-h)*(u-h)):(g=f+C*(l-f),y=e+C*(u-e),S=(g-o)*(g-o)+(y-h)*(y-h))}return[g,y,S]},_getProjectionToLine(f,e,l){const u=q.cloneObject(f);let o=Number.MAX_VALUE;return e.forEach(function(h,g){if(!l&&g===e.length-1)return;const y=e[(g+1)%e.length],S=q._getProjectionToSegment(h.x,h.y,y.x,y.y,f.x,f.y),x=S[0],C=S[1],E=S[2];E<o&&(u.x=x,u.y=C,o=E)}),u},_prepareArrayForTween(f,e,l){const u=[],o=[];if(f.length>e.length){const g=e;e=f,f=g}for(let g=0;g<f.length;g+=2)u.push({x:f[g],y:f[g+1]});for(let g=0;g<e.length;g+=2)o.push({x:e[g],y:e[g+1]});const h=[];return o.forEach(function(g){const y=q._getProjectionToLine(g,u,l);h.push(y.x),h.push(y.y)}),h},_prepareToStringify(f){let e;f.visitedByCircularReferenceRemoval=!0;for(const l in f)if(f.hasOwnProperty(l)&&f[l]&&typeof f[l]=="object"){if(e=Object.getOwnPropertyDescriptor(f,l),f[l].visitedByCircularReferenceRemoval||q._isElement(f[l]))if(e.configurable)delete f[l];else return null;else if(q._prepareToStringify(f[l])===null)if(e.configurable)delete f[l];else return null}return delete f.visitedByCircularReferenceRemoval,f},_assign(f,e){for(const l in e)f[l]=e[l];return f},_getFirstPointerId(f){return f.touches?f.changedTouches[0].identifier:f.pointerId||999},releaseCanvas(...f){bt.releaseCanvasOnDestroy&&f.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(f,e,l,u){let o=e<0?e:0,h=l<0?l:0;e=Math.abs(e),l=Math.abs(l);let g=0,y=0,S=0,x=0;typeof u=="number"?g=y=S=x=Math.min(u,e/2,l/2):(g=Math.min(u[0]||0,e/2,l/2),y=Math.min(u[1]||0,e/2,l/2),x=Math.min(u[2]||0,e/2,l/2),S=Math.min(u[3]||0,e/2,l/2)),f.moveTo(o+g,h),f.lineTo(o+e-y,h),f.arc(o+e-y,h+y,y,Math.PI*3/2,0,!1),f.lineTo(o+e,h+l-x),f.arc(o+e-x,h+l-x,x,0,Math.PI/2,!1),f.lineTo(o+S,h+l),f.arc(o+S,h+l-S,S,Math.PI/2,Math.PI,!1),f.lineTo(o,h+g),f.arc(o+g,h+g,g,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(f,e,l,u,o){u=Math.abs(u);for(let h=0;h<l;h++){const g=e[(h-1+l)%l],y=e[h],S=e[(h+1)%l],x={x:y.x-g.x,y:y.y-g.y},C={x:S.x-y.x,y:S.y-y.y},E=Math.hypot(x.x,x.y),T=Math.hypot(C.x,C.y);let D;typeof o=="number"?D=o:D=h<o.length?o[h]:0,D=u*Math.cos(Math.PI/l)*Math.min(1,D/u*2);const X={x:x.x/E,y:x.y/E},B={x:C.x/T,y:C.y/T},w={x:y.x-X.x*D,y:y.y-X.y*D},V={x:y.x+B.x*D,y:y.y+B.y*D};h===0?f.moveTo(w.x,w.y):f.lineTo(w.x,w.y),f.arcTo(y.x,y.y,V.x,V.y,D)}}};function T4(f){const e=[],l=f.length,u=q;for(let o=0;o<l;o++){let h=f[o];u._isNumber(h)?h=Math.round(h*1e3)/1e3:u._isString(h)||(h=h+""),e.push(h)}return e}const ag=",",A4="(",M4=")",N4="([",O4="])",D4=";",R4="()",z4="=",ng=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],U4=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],G4=100;let x0=null;function ig(){if(x0!==null)return x0;try{const e=q.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(x0=!1,!1)}catch{return x0=!1,!1}}class J0{constructor(e){this.canvas=e,bt.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,l){let u=this.traceArr,o=u.length,h="",g,y,S,x;for(g=0;g<o;g++)y=u[g],S=y.method,S?(x=y.args,h+=S,e?h+=R4:q._isArray(x[0])?h+=N4+x.join(ag)+O4:(l&&(x=x.map(C=>typeof C=="number"?Math.floor(C):C)),h+=A4+x.join(ag)+M4)):(h+=y.property,e||(h+=z4+y.val)),h+=D4;return h}clearTrace(){this.traceArr=[]}_trace(e){let l=this.traceArr,u;l.push(e),u=l.length,u>=G4&&l.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const l=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,l.getWidth()/l.pixelRatio,l.getHeight()/l.pixelRatio)}_applyLineCap(e){const l=e.attrs.lineCap;l&&this.setAttr("lineCap",l)}_applyOpacity(e){const l=e.getAbsoluteOpacity();l!==1&&this.setAttr("globalAlpha",l)}_applyLineJoin(e){const l=e.attrs.lineJoin;l&&this.setAttr("lineJoin",l)}_applyMiterLimit(e){const l=e.attrs.miterLimit;l!=null&&this.setAttr("miterLimit",l)}setAttr(e,l){this._context[e]=l}arc(e,l,u,o,h,g){this._context.arc(e,l,u,o,h,g)}arcTo(e,l,u,o,h){this._context.arcTo(e,l,u,o,h)}beginPath(){this._context.beginPath()}bezierCurveTo(e,l,u,o,h,g){this._context.bezierCurveTo(e,l,u,o,h,g)}clearRect(e,l,u,o){this._context.clearRect(e,l,u,o)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,l){const u=arguments;if(u.length===2)return this._context.createImageData(e,l);if(u.length===1)return this._context.createImageData(e)}createLinearGradient(e,l,u,o){return this._context.createLinearGradient(e,l,u,o)}createPattern(e,l){return this._context.createPattern(e,l)}createRadialGradient(e,l,u,o,h,g){return this._context.createRadialGradient(e,l,u,o,h,g)}drawImage(e,l,u,o,h,g,y,S,x){const C=arguments,E=this._context;C.length===3?E.drawImage(e,l,u):C.length===5?E.drawImage(e,l,u,o,h):C.length===9&&E.drawImage(e,l,u,o,h,g,y,S,x)}ellipse(e,l,u,o,h,g,y,S){this._context.ellipse(e,l,u,o,h,g,y,S)}isPointInPath(e,l,u,o){return u?this._context.isPointInPath(u,e,l,o):this._context.isPointInPath(e,l,o)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,l,u,o){this._context.fillRect(e,l,u,o)}strokeRect(e,l,u,o){this._context.strokeRect(e,l,u,o)}fillText(e,l,u,o){o?this._context.fillText(e,l,u,o):this._context.fillText(e,l,u)}measureText(e){return this._context.measureText(e)}getImageData(e,l,u,o){return this._context.getImageData(e,l,u,o)}lineTo(e,l){this._context.lineTo(e,l)}moveTo(e,l){this._context.moveTo(e,l)}rect(e,l,u,o){this._context.rect(e,l,u,o)}roundRect(e,l,u,o,h){this._context.roundRect(e,l,u,o,h)}putImageData(e,l,u){this._context.putImageData(e,l,u)}quadraticCurveTo(e,l,u,o){this._context.quadraticCurveTo(e,l,u,o)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,l){this._context.scale(e,l)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,l,u,o,h,g){this._context.setTransform(e,l,u,o,h,g)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,l,u,o){this._context.strokeText(e,l,u,o)}transform(e,l,u,o,h,g){this._context.transform(e,l,u,o,h,g)}translate(e,l){this._context.translate(e,l)}_enableTrace(){let e=this,l=ng.length,u=this.setAttr,o,h;const g=function(y){let S=e[y],x;e[y]=function(){return h=T4(Array.prototype.slice.call(arguments,0)),x=S.apply(e,arguments),e._trace({method:y,args:h}),x}};for(o=0;o<l;o++)g(ng[o]);e.setAttr=function(){u.apply(e,arguments);const y=arguments[0];let S=arguments[1];(y==="shadowOffsetX"||y==="shadowOffsetY"||y==="shadowBlur")&&(S=S/this.canvas.getPixelRatio()),e._trace({property:y,val:S})}}_applyGlobalCompositeOperation(e){const l=e.attrs.globalCompositeOperation;!l||l==="source-over"||this.setAttr("globalCompositeOperation",l)}}U4.forEach(function(f){Object.defineProperty(J0.prototype,f,{get(){return this._context[f]},set(e){this._context[f]=e}})});class B4 extends J0{constructor(e,{willReadFrequently:l=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:l})}_fillColor(e){const l=e.fill();this.setAttr("fillStyle",l),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const l=e._getLinearGradient();l&&(this.setAttr("fillStyle",l),e._fillFunc(this))}_fillRadialGradient(e){const l=e._getRadialGradient();l&&(this.setAttr("fillStyle",l),e._fillFunc(this))}_fill(e){const l=e.fill(),u=e.getFillPriority();if(l&&u==="color"){this._fillColor(e);return}const o=e.getFillPatternImage();if(o&&u==="pattern"){this._fillPattern(e);return}const h=e.getFillLinearGradientColorStops();if(h&&u==="linear-gradient"){this._fillLinearGradient(e);return}const g=e.getFillRadialGradientColorStops();if(g&&u==="radial-gradient"){this._fillRadialGradient(e);return}l?this._fillColor(e):o?this._fillPattern(e):h?this._fillLinearGradient(e):g&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const l=e.getStrokeLinearGradientStartPoint(),u=e.getStrokeLinearGradientEndPoint(),o=e.getStrokeLinearGradientColorStops(),h=this.createLinearGradient(l.x,l.y,u.x,u.y);if(o){for(let g=0;g<o.length;g+=2)h.addColorStop(o[g],o[g+1]);this.setAttr("strokeStyle",h)}}_stroke(e){const l=e.dash(),u=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!u){this.save();const h=this.getCanvas().getPixelRatio();this.setTransform(h,0,0,h,0,0)}this._applyLineCap(e),l&&e.dashEnabled()&&(this.setLineDash(l),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),u||this.restore()}}_applyShadow(e){var l,u,o;const h=(l=e.getShadowRGBA())!==null&&l!==void 0?l:"black",g=(u=e.getShadowBlur())!==null&&u!==void 0?u:5,y=(o=e.getShadowOffset())!==null&&o!==void 0?o:{x:0,y:0},S=e.getAbsoluteScale(),x=this.canvas.getPixelRatio(),C=S.x*x,E=S.y*x;this.setAttr("shadowColor",h),this.setAttr("shadowBlur",g*Math.min(Math.abs(C),Math.abs(E))),this.setAttr("shadowOffsetX",y.x*C),this.setAttr("shadowOffsetY",y.y*E)}}class H4 extends J0{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const l=e.getStrokeScaleEnabled();if(!l){this.save();const h=this.getCanvas().getPixelRatio();this.setTransform(h,0,0,h,0,0)}this._applyLineCap(e);const u=e.hitStrokeWidth(),o=u==="auto"?e.strokeWidth():u;this.setAttr("lineWidth",o),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),l||this.restore()}}}let _0;function j4(){if(_0)return _0;const f=q.createCanvasElement(),e=f.getContext("2d");return _0=(function(){const l=bt._global.devicePixelRatio||1,u=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return l/u})(),q.releaseCanvas(f),_0}class G2{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const u=(e||{}).pixelRatio||bt.pixelRatio||j4();this.pixelRatio=u,this._canvas=q.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const l=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/l,this.getHeight()/l)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const l=this.pixelRatio;this.getContext()._context.scale(l,l)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const l=this.pixelRatio;this.getContext()._context.scale(l,l)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,l){this.setWidth(e||0),this.setHeight(l||0)}toDataURL(e,l){try{return this._canvas.toDataURL(e,l)}catch{try{return this._canvas.toDataURL()}catch(o){return q.error("Unable to get data URL. "+o.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class Zu extends G2{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new B4(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}function lg(){const f=q.createCanvasElement();f.width=1,f.height=1;const e=f.getContext("2d",{willReadFrequently:!0});e.clearRect(0,0,1,1),e.fillStyle="rgba(255,0,255,1)",e.fillRect(0,0,1,1);const l=e.getImageData(0,0,1,1).data;return!(l[0]===255&&l[1]===0&&l[2]===255&&l[3]===255)}function sg(){var f,e;return typeof navigator>"u"?!1:(e=(f=navigator.brave)===null||f===void 0?void 0:f.isBrave())!==null&&e!==void 0?e:!1}let ug=!1;function w4(){return sg()&&lg()&&!ug&&(ug=!0,q.error('Looks like you have "Brave shield" enabled in your browser. It breaks KonvaJS internals. Please disable it. You may need to ask your users to do the same.')),sg()&&lg()}class B2 extends G2{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new H4(this),this.setSize(e.width,e.height),w4()}}const Ce={get isDragging(){let f=!1;return Ce._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(f=!0)}),f},justDragged:!1,get node(){let f;return Ce._dragElements.forEach(e=>{f=e.node}),f},_dragElements:new Map,_drag(f){const e=[];Ce._dragElements.forEach((l,u)=>{const{node:o}=l,h=o.getStage();h.setPointersPositions(f),l.pointerId===void 0&&(l.pointerId=q._getFirstPointerId(f));const g=h._changedPointerPositions.find(y=>y.id===l.pointerId);if(g){if(l.dragStatus!=="dragging"){const y=o.dragDistance();if(Math.max(Math.abs(g.x-l.startPointerPos.x),Math.abs(g.y-l.startPointerPos.y))<y||(o.startDrag({evt:f}),!o.isDragging()))return}o._setDragPosition(f,l),e.push(o)}}),e.forEach(l=>{l.fire("dragmove",{type:"dragmove",target:l,evt:f},!0)})},_endDragBefore(f){const e=[];Ce._dragElements.forEach(l=>{const{node:u}=l,o=u.getStage();if(f&&o.setPointersPositions(f),!o._changedPointerPositions.find(y=>y.id===l.pointerId))return;(l.dragStatus==="dragging"||l.dragStatus==="stopped")&&(Ce.justDragged=!0,bt._mouseListenClick=!1,bt._touchListenClick=!1,bt._pointerListenClick=!1,l.dragStatus="stopped");const g=l.node.getLayer()||l.node instanceof bt.Stage&&l.node;g&&e.indexOf(g)===-1&&e.push(g)}),e.forEach(l=>{l.draw()})},_endDragAfter(f){Ce._dragElements.forEach((e,l)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:f},!0),e.dragStatus!=="dragging"&&Ce._dragElements.delete(l)})}};bt.isBrowser&&(window.addEventListener("mouseup",Ce._endDragBefore,!0),window.addEventListener("touchend",Ce._endDragBefore,!0),window.addEventListener("touchcancel",Ce._endDragBefore,!0),window.addEventListener("mousemove",Ce._drag),window.addEventListener("touchmove",Ce._drag),window.addEventListener("mouseup",Ce._endDragAfter,!1),window.addEventListener("touchend",Ce._endDragAfter,!1),window.addEventListener("touchcancel",Ce._endDragAfter,!1));function Ju(f){return q._isString(f)?'"'+f+'"':Object.prototype.toString.call(f)==="[object Number]"||q._isBoolean(f)?f:Object.prototype.toString.call(f)}function $g(f){return f>255?255:f<0?0:Math.round(f)}function vt(){if(bt.isUnminified)return function(f,e){return q._isNumber(f)||q.warn(Ju(f)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),f}}function F0(f){if(bt.isUnminified)return function(e,l){let u=q._isNumber(e),o=q._isArray(e)&&e.length==f;return!u&&!o&&q.warn(Ju(e)+' is a not valid value for "'+l+'" attribute. The value should be a number or Array<number>('+f+")"),e}}function H2(){if(bt.isUnminified)return function(f,e){return q._isNumber(f)||f==="auto"||q.warn(Ju(f)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),f}}function kr(){if(bt.isUnminified)return function(f,e){return q._isString(f)||q.warn(Ju(f)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),f}}function tp(){if(bt.isUnminified)return function(f,e){const l=q._isString(f),u=Object.prototype.toString.call(f)==="[object CanvasGradient]"||f&&f.addColorStop;return l||u||q.warn(Ju(f)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),f}}function L4(){if(bt.isUnminified)return function(f,e){const l=Int8Array?Object.getPrototypeOf(Int8Array):null;return l&&f instanceof l||(q._isArray(f)?f.forEach(function(u){q._isNumber(u)||q.warn('"'+e+'" attribute has non numeric element '+u+". Make sure that all elements are numbers.")}):q.warn(Ju(f)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),f}}function pl(){if(bt.isUnminified)return function(f,e){return f===!0||f===!1||q.warn(Ju(f)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),f}}function Y4(f){if(bt.isUnminified)return function(e,l){return e==null||q.isObject(e)||q.warn(Ju(e)+' is a not valid value for "'+l+'" attribute. The value should be an object with properties '+f),e}}const rh="get",ch="set",R={addGetterSetter(f,e,l,u,o){R.addGetter(f,e,l),R.addSetter(f,e,u,o),R.addOverloadedGetterSetter(f,e)},addGetter(f,e,l){const u=rh+q._capitalize(e);f.prototype[u]=f.prototype[u]||function(){const o=this.attrs[e];return o===void 0?l:o}},addSetter(f,e,l,u){const o=ch+q._capitalize(e);f.prototype[o]||R.overWriteSetter(f,e,l,u)},overWriteSetter(f,e,l,u){const o=ch+q._capitalize(e);f.prototype[o]=function(h){return l&&h!==void 0&&h!==null&&(h=l.call(this,h,e)),this._setAttr(e,h),u&&u.call(this),this}},addComponentsGetterSetter(f,e,l,u,o){const h=l.length,g=q._capitalize,y=rh+g(e),S=ch+g(e);f.prototype[y]=function(){const C={};for(let E=0;E<h;E++){const T=l[E];C[T]=this.getAttr(e+g(T))}return C};const x=Y4(l);f.prototype[S]=function(C){const E=this.attrs[e];u&&(C=u.call(this,C,e)),x&&x.call(this,C,e);for(const T in C)C.hasOwnProperty(T)&&this._setAttr(e+g(T),C[T]);return C||l.forEach(T=>{this._setAttr(e+g(T),void 0)}),this._fireChangeEvent(e,E,C),o&&o.call(this),this},R.addOverloadedGetterSetter(f,e)},addOverloadedGetterSetter(f,e){const l=q._capitalize(e),u=ch+l,o=rh+l;f.prototype[e]=function(){return arguments.length?(this[u](arguments[0]),this):this[o]()}},addDeprecatedGetterSetter(f,e,l,u){q.error("Adding deprecated "+e);const o=rh+q._capitalize(e),h=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";f.prototype[o]=function(){q.error(h);const g=this.attrs[e];return g===void 0?l:g},R.addSetter(f,e,u,function(){q.error(h)}),R.addOverloadedGetterSetter(f,e)},backCompat(f,e){q.each(e,function(l,u){const o=f.prototype[u],h=rh+q._capitalize(l),g=ch+q._capitalize(l);function y(){o.apply(this,arguments),q.error('"'+l+'" method is deprecated and will be removed soon. Use ""'+u+'" instead.')}f.prototype[l]=y,f.prototype[h]=y,f.prototype[g]=y})},afterSetFilter(){this._filterUpToDate=!1}};function q4(f){const e=/(\w+)\(([^)]+)\)/g;let l;for(;(l=e.exec(f))!==null;){const[,u,o]=l;switch(u){case"blur":{const h=parseFloat(o.replace("px",""));return function(g){this.blurRadius(h*.5);const y=bt.Filters;y&&y.Blur&&y.Blur.call(this,g)}}case"brightness":{const h=o.includes("%")?parseFloat(o)/100:parseFloat(o);return function(g){this.brightness(h);const y=bt.Filters;y&&y.Brightness&&y.Brightness.call(this,g)}}case"contrast":{const h=parseFloat(o);return function(g){const y=100*(Math.sqrt(h)-1);this.contrast(y);const S=bt.Filters;S&&S.Contrast&&S.Contrast.call(this,g)}}case"grayscale":return function(h){const g=bt.Filters;g&&g.Grayscale&&g.Grayscale.call(this,h)};case"sepia":return function(h){const g=bt.Filters;g&&g.Sepia&&g.Sepia.call(this,h)};case"invert":return function(h){const g=bt.Filters;g&&g.Invert&&g.Invert.call(this,h)};default:q.warn(`CSS filter "${u}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const U0="absoluteOpacity",C0="allEventListeners",qs="absoluteTransform",rg="absoluteScale",Vr="canvas",X4="Change",V4="children",Q4="konva",p2="listening",K4="mouseenter",Z4="mouseleave",k4="pointerenter",J4="pointerleave",F4="touchenter",P4="touchleave",cg="set",og="Shape",G0=" ",fg="stage",Qu="transform",I4="Stage",y2="visible",W4=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(G0);let $4=1;class yt{constructor(e){this._id=$4++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===Qu||e===qs)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,l){let u=this._cache.get(e);return(u===void 0||(e===Qu||e===qs)&&u.dirty===!0)&&(u=l.call(this),this._cache.set(e,u)),u}_calculate(e,l,u){if(!this._attachedDepsListeners.get(e)){const o=l.map(h=>h+"Change.konva").join(G0);this.on(o,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,u)}_getCanvasCache(){return this._cache.get(Vr)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===qs&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Vr)){const{scene:e,filter:l,hit:u,buffer:o}=this._cache.get(Vr);q.releaseCanvas(e,l,u,o),this._cache.delete(Vr)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const l=e||{};let u={};(l.x===void 0||l.y===void 0||l.width===void 0||l.height===void 0)&&(u=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let o=Math.ceil(l.width||u.width),h=Math.ceil(l.height||u.height),g=l.pixelRatio,y=l.x===void 0?Math.floor(u.x):l.x,S=l.y===void 0?Math.floor(u.y):l.y,x=l.offset||0,C=l.drawBorder||!1,E=l.hitCanvasPixelRatio||1;if(!o||!h){q.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const T=Math.abs(Math.round(u.x)-y)>.5?1:0,D=Math.abs(Math.round(u.y)-S)>.5?1:0;o+=x*2+T,h+=x*2+D,y-=x,S-=x;const N=new Zu({pixelRatio:g,width:o,height:h}),X=new Zu({pixelRatio:g,width:0,height:0,willReadFrequently:!0}),B=new B2({pixelRatio:E,width:o,height:h}),w=N.getContext(),V=B.getContext(),J=new Zu({width:N.width/N.pixelRatio+Math.abs(y),height:N.height/N.pixelRatio+Math.abs(S),pixelRatio:N.pixelRatio}),W=J.getContext();return B.isCache=!0,N.isCache=!0,this._cache.delete(Vr),this._filterUpToDate=!1,l.imageSmoothingEnabled===!1&&(N.getContext()._context.imageSmoothingEnabled=!1,X.getContext()._context.imageSmoothingEnabled=!1),w.save(),V.save(),W.save(),w.translate(-y,-S),V.translate(-y,-S),W.translate(-y,-S),J.x=y,J.y=S,this._isUnderCache=!0,this._clearSelfAndDescendantCache(U0),this._clearSelfAndDescendantCache(rg),this.drawScene(N,this,J),this.drawHit(B,this),this._isUnderCache=!1,w.restore(),V.restore(),C&&(w.save(),w.beginPath(),w.rect(0,0,o,h),w.closePath(),w.setAttr("strokeStyle","red"),w.setAttr("lineWidth",5),w.stroke(),w.restore()),this._cache.set(Vr,{scene:N,filter:X,hit:B,buffer:J,x:y,y:S}),this._requestDraw(),this}isCached(){return this._cache.has(Vr)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,l){const u=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let o=1/0,h=1/0,g=-1/0,y=-1/0;const S=this.getAbsoluteTransform(l);return u.forEach(function(x){const C=S.point(x);o===void 0&&(o=g=C.x,h=y=C.y),o=Math.min(o,C.x),h=Math.min(h,C.y),g=Math.max(g,C.x),y=Math.max(y,C.y)}),{x:o,y:h,width:g-o,height:y-h}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const l=this._getCanvasCache();e.translate(l.x,l.y);const u=this._getCachedSceneCanvas(),o=u.pixelRatio;e.drawImage(u._canvas,0,0,u.width/o,u.height/o),e.restore()}_drawCachedHitCanvas(e){const l=this._getCanvasCache(),u=l.hit;e.save(),e.translate(l.x,l.y),e.drawImage(u._canvas,0,0,u.width/u.pixelRatio,u.height/u.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),l=this._getCanvasCache(),u=l.scene,o=l.filter,h=o.getContext(),g,y,S,x;if(!e||e.length===0)return u;if(this._filterUpToDate)return o;let C=!0;for(let T=0;T<e.length;T++)if(typeof e[T]=="string"&&ig(),typeof e[T]!="string"||!ig()){C=!1;break}const E=u.pixelRatio;if(o.setSize(u.width/u.pixelRatio,u.height/u.pixelRatio),C){const T=e.join(" ");return h.save(),h.setAttr("filter",T),h.drawImage(u._canvas,0,0,u.getWidth()/E,u.getHeight()/E),h.restore(),this._filterUpToDate=!0,o}try{for(g=e.length,h.clear(),h.drawImage(u._canvas,0,0,u.getWidth()/E,u.getHeight()/E),y=h.getImageData(0,0,o.getWidth(),o.getHeight()),S=0;S<g;S++)x=e[S],typeof x=="string"&&(x=q4(x)),x.call(this,y),h.putImageData(y,0,0)}catch(T){q.error("Unable to apply filter. "+T.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,o}on(e,l){if(this._cache&&this._cache.delete(C0),arguments.length===3)return this._delegate.apply(this,arguments);const u=e.split(G0);for(let o=0;o<u.length;o++){const g=u[o].split("."),y=g[0],S=g[1]||"";this.eventListeners[y]||(this.eventListeners[y]=[]),this.eventListeners[y].push({name:S,handler:l})}return this}off(e,l){let u=(e||"").split(G0),o=u.length,h,g,y,S,x,C;if(this._cache&&this._cache.delete(C0),!e)for(g in this.eventListeners)this._off(g);for(h=0;h<o;h++)if(y=u[h],S=y.split("."),x=S[0],C=S[1],x)this.eventListeners[x]&&this._off(x,C,l);else for(g in this.eventListeners)this._off(g,C,l);return this}dispatchEvent(e){const l={target:this,type:e.type,evt:e};return this.fire(e.type,l),this}addEventListener(e,l){return this.on(e,function(u){l.call(this,u.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,l,u){const o=this;this.on(e,function(h){const g=h.target.findAncestors(l,!0,o);for(let y=0;y<g.length;y++)h=q.cloneObject(h),h.currentTarget=g[y],u.call(g[y],h)})}remove(){return this.isDragging()&&this.stopDrag(),Ce._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(qs),this._clearSelfAndDescendantCache(U0),this._clearSelfAndDescendantCache(rg),this._clearSelfAndDescendantCache(fg),this._clearSelfAndDescendantCache(y2),this._clearSelfAndDescendantCache(p2)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const l="get"+q._capitalize(e);return q._isFunction(this[l])?this[l]():this.attrs[e]}getAncestors(){let e=this.getParent(),l=[];for(;e;)l.push(e),e=e.getParent();return l}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let l,u;if(!e)return this;for(l in e)l!==V4&&(u=cg+q._capitalize(l),q._isFunction(this[u])?this[u](e[l]):this._setAttr(l,e[l]))}),this}isListening(){return this._getCache(p2,this._isListening)}_isListening(e){if(!this.listening())return!1;const u=this.getParent();return u&&u!==e&&this!==e?u._isListening(e):!0}isVisible(){return this._getCache(y2,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const u=this.getParent();return u&&u!==e&&this!==e?u._isVisible(e):!0}shouldDrawHit(e,l=!1){if(e)return this._isVisible(e)&&this._isListening(e);const u=this.getLayer();let o=!1;Ce._dragElements.forEach(g=>{g.dragStatus==="dragging"&&(g.node.nodeType==="Stage"||g.node.getLayer()===u)&&(o=!0)});const h=!l&&!bt.hitOnDragEnabled&&(o||bt.isTransforming());return this.isListening()&&this.isVisible()&&!h}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),l=this,u=0,o,h,g,y;function S(C){for(o=[],h=C.length,g=0;g<h;g++)y=C[g],u++,y.nodeType!==og&&(o=o.concat(y.getChildren().slice())),y._id===l._id&&(g=h);o.length>0&&o[0].getDepth()<=e&&S(o)}const x=this.getStage();return l.nodeType!==I4&&x&&S(x.getChildren()),u}getDepth(){let e=0,l=this.parent;for(;l;)e++,l=l.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Qu),this._clearSelfAndDescendantCache(qs)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const l=e.getPointerPosition();if(!l)return null;const u=this.getAbsoluteTransform().copy();return u.invert(),u.point(l)}getAbsolutePosition(e){let l=!1,u=this.parent;for(;u;){if(u.isCached()){l=!0;break}u=u.parent}l&&!e&&(e=!0);const o=this.getAbsoluteTransform(e).getMatrix(),h=new hi,g=this.offset();return h.m=o.slice(),h.translate(g.x,g.y),h.getTranslation()}setAbsolutePosition(e){const{x:l,y:u,...o}=this._clearTransform();this.attrs.x=l,this.attrs.y=u,this._clearCache(Qu);const h=this._getAbsoluteTransform().copy();return h.invert(),h.translate(e.x,e.y),e={x:this.attrs.x+h.getTranslation().x,y:this.attrs.y+h.getTranslation().y},this._setTransform(o),this.setPosition({x:e.x,y:e.y}),this._clearCache(Qu),this._clearSelfAndDescendantCache(qs),this}_setTransform(e){let l;for(l in e)this.attrs[l]=e[l]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let l=e.x,u=e.y,o=this.x(),h=this.y();return l!==void 0&&(o+=l),u!==void 0&&(h+=u),this.setPosition({x:o,y:h}),this}_eachAncestorReverse(e,l){let u=[],o=this.getParent(),h,g;if(!(l&&l._id===this._id)){for(u.unshift(this);o&&(!l||o._id!==l._id);)u.unshift(o),o=o.parent;for(h=u.length,g=0;g<h;g++)e(u[g])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return q.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,l=this.parent.getChildren().length;return e<l-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return q.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,l=this.parent.getChildren().length;return e<l-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return q.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return q.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return q.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&q.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const l=this.index;return this.parent.children.splice(l,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(U0,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const l=this.getParent();return l&&!l._isUnderCache&&(e*=l.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),l,u,o,h,g;const y={attrs:{},className:this.getClassName()};for(l in e)u=e[l],g=q.isObject(u)&&!q._isPlainObject(u)&&!q._isArray(u),!g&&(o=typeof this[l]=="function"&&this[l],delete e[l],h=o?o.call(this):null,e[l]=u,h!==u&&(y.attrs[l]=u));return q._prepareToStringify(y)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,l,u){const o=[];l&&this._isMatch(e)&&o.push(this);let h=this.parent;for(;h;){if(h===u)return o;h._isMatch(e)&&o.push(h),h=h.parent}return o}isAncestorOf(e){return!1}findAncestor(e,l,u){return this.findAncestors(e,l,u)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let l=e.replace(/ /g,"").split(","),u=l.length,o,h;for(o=0;o<u;o++)if(h=l[o],q.isValidSelector(h)||(q.warn('Selector "'+h+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),q.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),q.warn("Konva is awesome, right?")),h.charAt(0)==="#"){if(this.id()===h.slice(1))return!0}else if(h.charAt(0)==="."){if(this.hasName(h.slice(1)))return!0}else if(this.className===h||this.nodeType===h)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(fg,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,l={},u){return l.target=l.target||this,u?this._fireAndBubble(e,l):this._fire(e,l),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(qs,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let l;if(e)return l=new hi,this._eachAncestorReverse(function(u){const o=u.transformsEnabled();o==="all"?l.multiply(u.getTransform()):o==="position"&&l.translate(u.x()-u.offsetX(),u.y()-u.offsetY())},e),l;{l=this._cache.get(qs)||new hi,this.parent?this.parent.getAbsoluteTransform().copyInto(l):l.reset();const u=this.transformsEnabled();if(u==="all")l.multiply(this.getTransform());else if(u==="position"){const o=this.attrs.x||0,h=this.attrs.y||0,g=this.attrs.offsetX||0,y=this.attrs.offsetY||0;l.translate(o-g,h-y)}return l.dirty=!1,l}}getAbsoluteScale(e){let l=this;for(;l;)l._isUnderCache&&(e=l),l=l.getParent();const o=this.getAbsoluteTransform(e).decompose();return{x:o.scaleX,y:o.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Qu,this._getTransform)}_getTransform(){var e,l;const u=this._cache.get(Qu)||new hi;u.reset();const o=this.x(),h=this.y(),g=bt.getAngle(this.rotation()),y=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,S=(l=this.attrs.scaleY)!==null&&l!==void 0?l:1,x=this.attrs.skewX||0,C=this.attrs.skewY||0,E=this.attrs.offsetX||0,T=this.attrs.offsetY||0;return(o!==0||h!==0)&&u.translate(o,h),g!==0&&u.rotate(g),(x!==0||C!==0)&&u.skew(x,C),(y!==1||S!==1)&&u.scale(y,S),(E!==0||T!==0)&&u.translate(-1*E,-1*T),u.dirty=!1,u}clone(e){let l=q.cloneObject(this.attrs),u,o,h,g,y;for(u in e)l[u]=e[u];const S=new this.constructor(l);for(u in this.eventListeners)for(o=this.eventListeners[u],h=o.length,g=0;g<h;g++)y=o[g],y.name.indexOf(Q4)<0&&(S.eventListeners[u]||(S.eventListeners[u]=[]),S.eventListeners[u].push(y));return S}_toKonvaCanvas(e){e=e||{};const l=this.getClientRect(),u=this.getStage(),o=e.x!==void 0?e.x:Math.floor(l.x),h=e.y!==void 0?e.y:Math.floor(l.y),g=e.pixelRatio||1,y=new Zu({width:e.width||Math.ceil(l.width)||(u?u.width():0),height:e.height||Math.ceil(l.height)||(u?u.height():0),pixelRatio:g}),S=y.getContext(),x=new Zu({width:y.width/y.pixelRatio+Math.abs(o),height:y.height/y.pixelRatio+Math.abs(h),pixelRatio:y.pixelRatio});return e.imageSmoothingEnabled===!1&&(S._context.imageSmoothingEnabled=!1),S.save(),(o||h)&&S.translate(-1*o,-1*h),this.drawScene(y,void 0,x),S.restore(),y}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const l=e.mimeType||null,u=e.quality||null,o=this._toKonvaCanvas(e).toDataURL(l,u);return e.callback&&e.callback(o),o}toImage(e){return new Promise((l,u)=>{try{const o=e?.callback;o&&delete e.callback,q._urlToImage(this.toDataURL(e),function(h){l(h),o?.(h)})}catch(o){u(o)}})}toBlob(e){return new Promise((l,u)=>{try{const o=e?.callback;o&&delete e.callback,this.toCanvas(e).toBlob(h=>{l(h),o?.(h)},e?.mimeType,e?.quality)}catch(o){u(o)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():bt.dragDistance}_off(e,l,u){let o=this.eventListeners[e],h,g,y;for(h=0;h<o.length;h++)if(g=o[h].name,y=o[h].handler,(g!=="konva"||l==="konva")&&(!l||g===l)&&(!u||u===y)){if(o.splice(h,1),o.length===0){delete this.eventListeners[e];break}h--}}_fireChangeEvent(e,l,u){this._fire(e+X4,{oldVal:l,newVal:u})}addName(e){if(!this.hasName(e)){const l=this.name(),u=l?l+" "+e:e;this.name(u)}return this}hasName(e){if(!e)return!1;const l=this.name();return l?(l||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const l=(this.name()||"").split(/\s/g),u=l.indexOf(e);return u!==-1&&(l.splice(u,1),this.name(l.join(" "))),this}setAttr(e,l){const u=this[cg+q._capitalize(e)];return q._isFunction(u)?u.call(this,l):this._setAttr(e,l),this}_requestDraw(){if(bt.autoDrawEnabled){const e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,l){const u=this.attrs[e];u===l&&!q.isObject(l)||(l==null?delete this.attrs[e]:this.attrs[e]=l,this._shouldFireChangeEvents&&this._fireChangeEvent(e,u,l),this._requestDraw())}_setComponentAttr(e,l,u){let o;u!==void 0&&(o=this.attrs[e],o||(this.attrs[e]=this.getAttr(e)),this.attrs[e][l]=u,this._fireChangeEvent(e,o,u))}_fireAndBubble(e,l,u){l&&this.nodeType===og&&(l.target=this);const o=[K4,Z4,k4,J4,F4,P4];if(!(o.indexOf(e)!==-1&&(u&&(this===u||this.isAncestorOf&&this.isAncestorOf(u))||this.nodeType==="Stage"&&!u))){this._fire(e,l);const g=o.indexOf(e)!==-1&&u&&u.isAncestorOf&&u.isAncestorOf(this)&&!u.isAncestorOf(this.parent);(l&&!l.cancelBubble||!l)&&this.parent&&this.parent.isListening()&&!g&&(u&&u.parent?this._fireAndBubble.call(this.parent,e,l,u):this._fireAndBubble.call(this.parent,e,l))}}_getProtoListeners(e){var l,u,o;const h=(l=this._cache.get(C0))!==null&&l!==void 0?l:{};let g=h?.[e];if(g===void 0){g=[];let y=Object.getPrototypeOf(this);for(;y;){const S=(o=(u=y.eventListeners)===null||u===void 0?void 0:u[e])!==null&&o!==void 0?o:[];g.push(...S),y=Object.getPrototypeOf(y)}h[e]=g,this._cache.set(C0,h)}return g}_fire(e,l){l=l||{},l.currentTarget=this,l.type=e;const u=this._getProtoListeners(e);if(u)for(let h=0;h<u.length;h++)u[h].handler.call(this,l);const o=this.eventListeners[e];if(o)for(let h=0;h<o.length;h++)o[h].handler.call(this,l)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const l=e?e.pointerId:void 0,u=this.getStage(),o=this.getAbsolutePosition();if(!u)return;const h=u._getPointerById(l)||u._changedPointerPositions[0]||o;Ce._dragElements.set(this._id,{node:this,startPointerPos:h,offset:{x:h.x-o.x,y:h.y-o.y},dragStatus:"ready",pointerId:l})}startDrag(e,l=!0){Ce._dragElements.has(this._id)||this._createDragElement(e);const u=Ce._dragElements.get(this._id);u.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},l)}_setDragPosition(e,l){const u=this.getStage()._getPointerById(l.pointerId);if(!u)return;let o={x:u.x-l.offset.x,y:u.y-l.offset.y};const h=this.dragBoundFunc();if(h!==void 0){const g=h.call(this,o,e);g?o=g:q.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==o.x||this._lastPos.y!==o.y)&&(this.setAbsolutePosition(o),this._requestDraw()),this._lastPos=o}stopDrag(e){const l=Ce._dragElements.get(this._id);l&&(l.dragStatus="stopped"),Ce._endDragBefore(e),Ce._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=Ce._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||bt.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let o=!1;Ce._dragElements.forEach(h=>{this.isAncestorOf(h.node)&&(o=!0)}),o||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const l=Ce._dragElements.get(this._id),u=l&&l.dragStatus==="dragging",o=l&&l.dragStatus==="ready";u?this.stopDrag():o&&Ce._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const l=this.getStage();if(!l)return!1;const u={x:-e.x,y:-e.y,width:l.width()+2*e.x,height:l.height()+2*e.y};return q.haveIntersection(u,this.getClientRect())}static create(e,l){return q._isString(e)&&(e=JSON.parse(e)),this._createNode(e,l)}static _createNode(e,l){let u=yt.prototype.getClassName.call(e),o=e.children,h,g,y;l&&(e.attrs.container=l),bt[u]||(q.warn('Can not find a node with class name "'+u+'". Fallback to "Shape".'),u="Shape");const S=bt[u];if(h=new S(e.attrs),o)for(g=o.length,y=0;y<g;y++)h.add(yt._createNode(o[y]));return h}}yt.prototype.nodeType="Node";yt.prototype._attrsAffectingSize=[];yt.prototype.eventListeners={};yt.prototype.on.call(yt.prototype,W4,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Qu),this._clearSelfAndDescendantCache(qs)});yt.prototype.on.call(yt.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(y2)});yt.prototype.on.call(yt.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(p2)});yt.prototype.on.call(yt.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(U0)});const Ue=R.addGetterSetter;Ue(yt,"zIndex");Ue(yt,"absolutePosition");Ue(yt,"position");Ue(yt,"x",0,vt());Ue(yt,"y",0,vt());Ue(yt,"globalCompositeOperation","source-over",kr());Ue(yt,"opacity",1,vt());Ue(yt,"name","",kr());Ue(yt,"id","",kr());Ue(yt,"rotation",0,vt());R.addComponentsGetterSetter(yt,"scale",["x","y"]);Ue(yt,"scaleX",1,vt());Ue(yt,"scaleY",1,vt());R.addComponentsGetterSetter(yt,"skew",["x","y"]);Ue(yt,"skewX",0,vt());Ue(yt,"skewY",0,vt());R.addComponentsGetterSetter(yt,"offset",["x","y"]);Ue(yt,"offsetX",0,vt());Ue(yt,"offsetY",0,vt());Ue(yt,"dragDistance",void 0,vt());Ue(yt,"width",0,vt());Ue(yt,"height",0,vt());Ue(yt,"listening",!0,pl());Ue(yt,"preventDefault",!0,pl());Ue(yt,"filters",void 0,function(f){return this._filterUpToDate=!1,f});Ue(yt,"visible",!0,pl());Ue(yt,"transformsEnabled","all",kr());Ue(yt,"size");Ue(yt,"dragBoundFunc");Ue(yt,"draggable",!1,pl());R.backCompat(yt,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class di extends yt{constructor(){super(...arguments),this.children=[]}getChildren(e){const l=this.children||[];return e?l.filter(e):l}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let u=0;u<e.length;u++)this.add(e[u]);return this}const l=e[0];return l.getParent()?(l.moveTo(this),this):(this._validateAdd(l),l.index=this.getChildren().length,l.parent=this,l._clearCaches(),this.getChildren().push(l),this._fire("add",{child:l}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const l=this._generalFind(e,!0);return l.length>0?l[0]:void 0}_generalFind(e,l){const u=[];return this._descendants(o=>{const h=o._isMatch(e);return h&&u.push(o),!!(h&&l)}),u}_descendants(e){let l=!1;const u=this.getChildren();for(const o of u){if(l=e(o),l)return!0;if(o.hasChildren()&&(l=o._descendants(e),l))return!0}return!1}toObject(){const e=yt.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(l=>{e.children.push(l.toObject())}),e}isAncestorOf(e){let l=e.getParent();for(;l;){if(l._id===this._id)return!0;l=l.getParent()}return!1}clone(e){const l=yt.prototype.clone.call(this,e);return this.getChildren().forEach(function(u){l.add(u.clone())}),l}getAllIntersections(e){const l=[];return this.find("Shape").forEach(u=>{u.isVisible()&&u.intersects(e)&&l.push(u)}),l}_clearSelfAndDescendantCache(e){var l;super._clearSelfAndDescendantCache(e),!this.isCached()&&((l=this.children)===null||l===void 0||l.forEach(function(u){u._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(l,u){l.index=u}),this._requestDraw()}drawScene(e,l,u){const o=this.getLayer(),h=e||o&&o.getCanvas(),g=h&&h.getContext(),y=this._getCanvasCache(),S=y&&y.scene,x=h&&h.isCache;if(!this.isVisible()&&!x)return this;if(S){g.save();const C=this.getAbsoluteTransform(l).getMatrix();g.transform(C[0],C[1],C[2],C[3],C[4],C[5]),this._drawCachedSceneCanvas(g),g.restore()}else this._drawChildren("drawScene",h,l,u);return this}drawHit(e,l){if(!this.shouldDrawHit(l))return this;const u=this.getLayer(),o=e||u&&u.hitCanvas,h=o&&o.getContext(),g=this._getCanvasCache();if(g&&g.hit){h.save();const S=this.getAbsoluteTransform(l).getMatrix();h.transform(S[0],S[1],S[2],S[3],S[4],S[5]),this._drawCachedHitCanvas(h),h.restore()}else this._drawChildren("drawHit",o,l);return this}_drawChildren(e,l,u,o){var h;const g=l&&l.getContext(),y=this.clipWidth(),S=this.clipHeight(),x=this.clipFunc(),C=typeof y=="number"&&typeof S=="number"||x,E=u===this;if(C){g.save();const D=this.getAbsoluteTransform(u);let N=D.getMatrix();g.transform(N[0],N[1],N[2],N[3],N[4],N[5]),g.beginPath();let X;if(x)X=x.call(this,g,this);else{const B=this.clipX(),w=this.clipY();g.rect(B||0,w||0,y,S)}g.clip.apply(g,X),N=D.copy().invert().getMatrix(),g.transform(N[0],N[1],N[2],N[3],N[4],N[5])}const T=!E&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";T&&(g.save(),g._applyGlobalCompositeOperation(this)),(h=this.children)===null||h===void 0||h.forEach(function(D){D[e](l,u,o)}),T&&g.restore(),C&&g.restore()}getClientRect(e={}){var l;const u=e.skipTransform,o=e.relativeTo;let h,g,y,S,x={x:1/0,y:1/0,width:0,height:0};const C=this;(l=this.children)===null||l===void 0||l.forEach(function(D){if(!D.visible())return;const N=D.getClientRect({relativeTo:C,skipShadow:e.skipShadow,skipStroke:e.skipStroke});N.width===0&&N.height===0||(h===void 0?(h=N.x,g=N.y,y=N.x+N.width,S=N.y+N.height):(h=Math.min(h,N.x),g=Math.min(g,N.y),y=Math.max(y,N.x+N.width),S=Math.max(S,N.y+N.height)))});const E=this.find("Shape");let T=!1;for(let D=0;D<E.length;D++)if(E[D]._isVisible(this)){T=!0;break}return T&&h!==void 0?x={x:h,y:g,width:y-h,height:S-g}:x={x:0,y:0,width:0,height:0},u?x:this._transformedRect(x,o)}}R.addComponentsGetterSetter(di,"clip",["x","y","width","height"]);R.addGetterSetter(di,"clipX",void 0,vt());R.addGetterSetter(di,"clipY",void 0,vt());R.addGetterSetter(di,"clipWidth",void 0,vt());R.addGetterSetter(di,"clipHeight",void 0,vt());R.addGetterSetter(di,"clipFunc");const Ch=new Map,ep=bt._global.PointerEvent!==void 0;function F1(f){return Ch.get(f)}function j2(f){return{evt:f,pointerId:f.pointerId}}function ap(f,e){return Ch.get(f)===e}function np(f,e){vh(f),e.getStage()&&(Ch.set(f,e),ep&&e._fire("gotpointercapture",j2(new PointerEvent("gotpointercapture"))))}function vh(f,e){const l=Ch.get(f);if(!l)return;const u=l.getStage();u&&u.content,Ch.delete(f),ep&&l._fire("lostpointercapture",j2(new PointerEvent("lostpointercapture")))}const t5="Stage",e5="string",hg="px",a5="mouseout",ip="mouseleave",lp="mouseover",sp="mouseenter",up="mousemove",rp="mousedown",cp="mouseup",hh="pointermove",dh="pointerdown",bo="pointerup",mh="pointercancel",n5="lostpointercapture",E0="pointerout",gh="pointerleave",T0="pointerover",A0="pointerenter",v2="contextmenu",op="touchstart",fp="touchend",hp="touchmove",dp="touchcancel",S2="wheel",i5=5,l5=[[sp,"_pointerenter"],[rp,"_pointerdown"],[up,"_pointermove"],[cp,"_pointerup"],[ip,"_pointerleave"],[op,"_pointerdown"],[hp,"_pointermove"],[fp,"_pointerup"],[dp,"_pointercancel"],[lp,"_pointerover"],[S2,"_wheel"],[v2,"_contextmenu"],[dh,"_pointerdown"],[hh,"_pointermove"],[bo,"_pointerup"],[mh,"_pointercancel"],[gh,"_pointerleave"],[n5,"_lostpointercapture"]],P1={mouse:{[E0]:a5,[gh]:ip,[T0]:lp,[A0]:sp,[hh]:up,[dh]:rp,[bo]:cp,[mh]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[E0]:"touchout",[gh]:"touchleave",[T0]:"touchover",[A0]:"touchenter",[hh]:hp,[dh]:op,[bo]:fp,[mh]:dp,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[E0]:E0,[gh]:gh,[T0]:T0,[A0]:A0,[hh]:hh,[dh]:dh,[bo]:bo,[mh]:mh,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},ph=f=>f.indexOf("pointer")>=0?"pointer":f.indexOf("touch")>=0?"touch":"mouse",yo=f=>{const e=ph(f);if(e==="pointer")return bt.pointerEventsEnabled&&P1.pointer;if(e==="touch")return P1.touch;if(e==="mouse")return P1.mouse};function dg(f={}){return(f.clipFunc||f.clipWidth||f.clipHeight)&&q.warn("Stage does not support clipping. Please use clip for Layers or Groups."),f}const s5="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",Sh=[];let P0=class extends di{constructor(e){super(dg(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Sh.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{dg(this.attrs)}),this._checkVisibility()}_validateAdd(e){const l=e.getType()==="Layer",u=e.getType()==="FastLayer";l||u||q.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===e5){let l;if(e.charAt(0)==="."){const u=e.slice(1);e=document.getElementsByClassName(u)[0]}else e.charAt(0)!=="#"?l=e:l=e.slice(1),e=document.getElementById(l);if(!e)throw"Can not find container in document with id "+l}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,l=e.length;for(let u=0;u<l;u++)e[u].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),di.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&q._isInDocument(e)&&this.container().removeChild(e);const l=Sh.indexOf(this);return l>-1&&Sh.splice(l,1),q.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(q.warn(s5),null)}_getPointerById(e){return this._pointerPositions.find(l=>l.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e={...e},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const l=new Zu({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),u=l.getContext()._context,o=this.children;return(e.x||e.y)&&u.translate(-1*e.x,-1*e.y),o.forEach(function(h){if(!h.isVisible())return;const g=h._toKonvaCanvas(e);u.drawImage(g._canvas,e.x,e.y,g.getWidth()/g.getPixelRatio(),g.getHeight()/g.getPixelRatio())}),l}getIntersection(e){if(!e)return null;const l=this.children,u=l.length,o=u-1;for(let h=o;h>=0;h--){const g=l[h].getIntersection(e);if(g)return g}return null}_resizeDOM(){const e=this.width(),l=this.height();this.content&&(this.content.style.width=e+hg,this.content.style.height=l+hg),this.bufferCanvas.setSize(e,l),this.bufferHitCanvas.setSize(e,l),this.children.forEach(u=>{u.setSize({width:e,height:l}),u.draw()})}add(e,...l){if(arguments.length>1){for(let o=0;o<arguments.length;o++)this.add(arguments[o]);return this}super.add(e);const u=this.children.length;return u>i5&&q.warn("The stage has "+u+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),bt.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return ap(e,this)}setPointerCapture(e){np(e,this)}releaseCapture(e){vh(e)}getLayers(){return this.children}_bindContentEvents(){bt.isBrowser&&l5.forEach(([e,l])=>{this.content.addEventListener(e,u=>{this[l](u)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const l=yo(e.type);l&&this._fire(l.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const l=yo(e.type);l&&this._fire(l.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let l=this[e+"targetShape"];return l&&!l.getStage()&&(l=null),l}_pointerleave(e){const l=yo(e.type),u=ph(e.type);if(!l)return;this.setPointersPositions(e);const o=this._getTargetShape(u),h=!(bt.isDragging()||bt.isTransforming())||bt.hitOnDragEnabled;o&&h?(o._fireAndBubble(l.pointerout,{evt:e}),o._fireAndBubble(l.pointerleave,{evt:e}),this._fire(l.pointerleave,{evt:e,target:this,currentTarget:this}),this[u+"targetShape"]=null):h&&(this._fire(l.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(l.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const l=yo(e.type),u=ph(e.type);if(!l)return;this.setPointersPositions(e);let o=!1;this._changedPointerPositions.forEach(h=>{const g=this.getIntersection(h);if(Ce.justDragged=!1,bt["_"+u+"ListenClick"]=!0,!g||!g.isListening()){this[u+"ClickStartShape"]=void 0;return}bt.capturePointerEventsEnabled&&g.setPointerCapture(h.id),this[u+"ClickStartShape"]=g,g._fireAndBubble(l.pointerdown,{evt:e,pointerId:h.id}),o=!0;const y=e.type.indexOf("touch")>=0;g.preventDefault()&&e.cancelable&&y&&e.preventDefault()}),o||this._fire(l.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const l=yo(e.type),u=ph(e.type);if(!l)return;const o=e.type.indexOf("touch")>=0||e.pointerType==="touch";if(bt.isDragging()&&Ce.node.preventDefault()&&e.cancelable&&o&&e.preventDefault(),this.setPointersPositions(e),!(!(bt.isDragging()||bt.isTransforming())||bt.hitOnDragEnabled))return;const g={};let y=!1;const S=this._getTargetShape(u);this._changedPointerPositions.forEach(x=>{const C=F1(x.id)||this.getIntersection(x),E=x.id,T={evt:e,pointerId:E},D=S!==C;if(D&&S&&(S._fireAndBubble(l.pointerout,{...T},C),S._fireAndBubble(l.pointerleave,{...T},C)),C){if(g[C._id])return;g[C._id]=!0}C&&C.isListening()?(y=!0,D&&(C._fireAndBubble(l.pointerover,{...T},S),C._fireAndBubble(l.pointerenter,{...T},S),this[u+"targetShape"]=C),C._fireAndBubble(l.pointermove,{...T})):S&&(this._fire(l.pointerover,{evt:e,target:this,currentTarget:this,pointerId:E}),this[u+"targetShape"]=null)}),y||this._fire(l.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const l=yo(e.type),u=ph(e.type);if(!l)return;this.setPointersPositions(e);const o=this[u+"ClickStartShape"],h=this[u+"ClickEndShape"],g={};let y=!1;this._changedPointerPositions.forEach(S=>{const x=F1(S.id)||this.getIntersection(S);if(x){if(x.releaseCapture(S.id),g[x._id])return;g[x._id]=!0}const C=S.id,E={evt:e,pointerId:C};let T=!1;bt["_"+u+"InDblClickWindow"]?(T=!0,clearTimeout(this[u+"DblTimeout"])):Ce.justDragged||(bt["_"+u+"InDblClickWindow"]=!0,clearTimeout(this[u+"DblTimeout"])),this[u+"DblTimeout"]=setTimeout(function(){bt["_"+u+"InDblClickWindow"]=!1},bt.dblClickWindow),x&&x.isListening()?(y=!0,this[u+"ClickEndShape"]=x,x._fireAndBubble(l.pointerup,{...E}),bt["_"+u+"ListenClick"]&&o&&o===x&&(x._fireAndBubble(l.pointerclick,{...E}),T&&h&&h===x&&x._fireAndBubble(l.pointerdblclick,{...E}))):(this[u+"ClickEndShape"]=null,y||(this._fire(l.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),y=!0),bt["_"+u+"ListenClick"]&&this._fire(l.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:C}),T&&this._fire(l.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:C}))}),y||this._fire(l.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),bt["_"+u+"ListenClick"]=!1,e.cancelable&&u!=="touch"&&u!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const l=this.getIntersection(this.getPointerPosition());l&&l.isListening()?l._fireAndBubble(v2,{evt:e}):this._fire(v2,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const l=this.getIntersection(this.getPointerPosition());l&&l.isListening()?l._fireAndBubble(S2,{evt:e}):this._fire(S2,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const l=F1(e.pointerId)||this.getIntersection(this.getPointerPosition());l&&l._fireAndBubble(bo,j2(e)),vh(e.pointerId)}_lostpointercapture(e){vh(e.pointerId)}setPointersPositions(e){const l=this._getContentPosition();let u=null,o=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,h=>{this._pointerPositions.push({id:h.identifier,x:(h.clientX-l.left)/l.scaleX,y:(h.clientY-l.top)/l.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,h=>{this._changedPointerPositions.push({id:h.identifier,x:(h.clientX-l.left)/l.scaleX,y:(h.clientY-l.top)/l.scaleY})})):(u=(e.clientX-l.left)/l.scaleX,o=(e.clientY-l.top)/l.scaleY,this.pointerPos={x:u,y:o},this._pointerPositions=[{x:u,y:o,id:q._getFirstPointerId(e)}],this._changedPointerPositions=[{x:u,y:o,id:q._getFirstPointerId(e)}])}_setPointerPosition(e){q.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new Zu({width:this.width(),height:this.height()}),this.bufferHitCanvas=new B2({pixelRatio:1,width:this.width(),height:this.height()}),!bt.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return q.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};P0.prototype.nodeType=t5;fa(P0);R.addGetterSetter(P0,"container");bt.isBrowser&&document.addEventListener("visibilitychange",()=>{Sh.forEach(f=>{f.batchDraw()})});const mp="hasShadow",gp="shadowRGBA",pp="patternImage",yp="linearGradient",vp="radialGradient";let M0;function I1(){return M0||(M0=q.createCanvasElement().getContext("2d"),M0)}const bh={};function u5(f){const e=this.attrs.fillRule;e?f.fill(e):f.fill()}function r5(f){f.stroke()}function c5(f){const e=this.attrs.fillRule;e?f.fill(e):f.fill()}function o5(f){f.stroke()}function f5(){this._clearCache(mp)}function h5(){this._clearCache(gp)}function d5(){this._clearCache(pp)}function m5(){this._clearCache(yp)}function g5(){this._clearCache(vp)}class ht extends yt{constructor(e){super(e);let l;for(;l=q.getRandomColor(),!(l&&!(l in bh)););this.colorKey=l,bh[l]=this}getContext(){return q.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return q.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(mp,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(pp,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const l=I1().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(l&&l.setTransform){const u=new hi;u.translate(this.fillPatternX(),this.fillPatternY()),u.rotate(bt.getAngle(this.fillPatternRotation())),u.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),u.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const o=u.getMatrix(),h=typeof DOMMatrix>"u"?{a:o[0],b:o[1],c:o[2],d:o[3],e:o[4],f:o[5]}:new DOMMatrix(o);l.setTransform(h)}return l}}_getLinearGradient(){return this._getCache(yp,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const l=I1(),u=this.fillLinearGradientStartPoint(),o=this.fillLinearGradientEndPoint(),h=l.createLinearGradient(u.x,u.y,o.x,o.y);for(let g=0;g<e.length;g+=2)h.addColorStop(e[g],e[g+1]);return h}}_getRadialGradient(){return this._getCache(vp,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const l=I1(),u=this.fillRadialGradientStartPoint(),o=this.fillRadialGradientEndPoint(),h=l.createRadialGradient(u.x,u.y,this.fillRadialGradientStartRadius(),o.x,o.y,this.fillRadialGradientEndRadius());for(let g=0;g<e.length;g+=2)h.addColorStop(e[g],e[g+1]);return h}}getShadowRGBA(){return this._getCache(gp,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=q.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const l=this.getStage();if(!l)return!1;const u=l.bufferHitCanvas;return u.getContext().clear(),this.drawHit(u,void 0,!0),u.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return yt.prototype.destroy.call(this),delete bh[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var l;if(!((l=this.attrs.perfectDrawEnabled)!==null&&l!==void 0?l:!0))return!1;const o=e||this.hasFill(),h=this.hasStroke(),g=this.getAbsoluteOpacity()!==1;if(o&&h&&g)return!0;const y=this.hasShadow(),S=this.shadowForStrokeEnabled();return!!(o&&h&&y&&S)}setStrokeHitEnabled(e){q.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let l=!1,u=this.getParent();for(;u;){if(u.isCached()){l=!0;break}u=u.getParent()}const o=e.skipTransform,h=e.relativeTo||l&&this.getStage()||void 0,g=this.getSelfRect(),S=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,x=g.width+S,C=g.height+S,E=!e.skipShadow&&this.hasShadow(),T=E?this.shadowOffsetX():0,D=E?this.shadowOffsetY():0,N=x+Math.abs(T),X=C+Math.abs(D),B=E&&this.shadowBlur()||0,w=N+B*2,V=X+B*2,J={width:w,height:V,x:-(S/2+B)+Math.min(T,0)+g.x,y:-(S/2+B)+Math.min(D,0)+g.y};return o?J:this._transformedRect(J,h)}drawScene(e,l,u){const o=this.getLayer(),h=e||o.getCanvas(),g=h.getContext(),y=this._getCanvasCache(),S=this.getSceneFunc(),x=this.hasShadow();let C;const E=l===this;if(!this.isVisible()&&!E)return this;if(y){g.save();const T=this.getAbsoluteTransform(l).getMatrix();return g.transform(T[0],T[1],T[2],T[3],T[4],T[5]),this._drawCachedSceneCanvas(g),g.restore(),this}if(!S)return this;if(g.save(),this._useBufferCanvas()){C=this.getStage();const T=u||C.bufferCanvas,D=T.getContext();D.clear(),D.save(),D._applyLineJoin(this),D._applyMiterLimit(this);const N=this.getAbsoluteTransform(l).getMatrix();D.transform(N[0],N[1],N[2],N[3],N[4],N[5]),S.call(this,D,this),D.restore();const X=T.pixelRatio;x&&g._applyShadow(this),E||(g._applyOpacity(this),g._applyGlobalCompositeOperation(this)),g.drawImage(T._canvas,T.x||0,T.y||0,T.width/X,T.height/X)}else{if(g._applyLineJoin(this),g._applyMiterLimit(this),!E){const T=this.getAbsoluteTransform(l).getMatrix();g.transform(T[0],T[1],T[2],T[3],T[4],T[5]),g._applyOpacity(this),g._applyGlobalCompositeOperation(this)}x&&g._applyShadow(this),S.call(this,g,this)}return g.restore(),this}drawHit(e,l,u=!1){if(!this.shouldDrawHit(l,u))return this;const o=this.getLayer(),h=e||o.hitCanvas,g=h&&h.getContext(),y=this.hitFunc()||this.sceneFunc(),S=this._getCanvasCache(),x=S&&S.hit;if(this.colorKey||q.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),x){g.save();const E=this.getAbsoluteTransform(l).getMatrix();return g.transform(E[0],E[1],E[2],E[3],E[4],E[5]),this._drawCachedHitCanvas(g),g.restore(),this}if(!y)return this;if(g.save(),g._applyLineJoin(this),g._applyMiterLimit(this),!(this===l)){const E=this.getAbsoluteTransform(l).getMatrix();g.transform(E[0],E[1],E[2],E[3],E[4],E[5])}return y.call(this,g,this),g.restore(),this}drawHitFromCache(e=0){const l=this._getCanvasCache(),u=this._getCachedSceneCanvas(),o=l.hit,h=o.getContext(),g=o.getWidth(),y=o.getHeight();h.clear(),h.drawImage(u._canvas,0,0,g,y);try{const S=h.getImageData(0,0,g,y),x=S.data,C=x.length,E=q._hexToRgb(this.colorKey);for(let T=0;T<C;T+=4)x[T+3]>e?(x[T]=E.r,x[T+1]=E.g,x[T+2]=E.b,x[T+3]=255):x[T+3]=0;h.putImageData(S,0,0)}catch(S){q.error("Unable to draw hit graph from cached scene canvas. "+S.message)}return this}hasPointerCapture(e){return ap(e,this)}setPointerCapture(e){np(e,this)}releaseCapture(e){vh(e)}}ht.prototype._fillFunc=u5;ht.prototype._strokeFunc=r5;ht.prototype._fillFuncHit=c5;ht.prototype._strokeFuncHit=o5;ht.prototype._centroid=!1;ht.prototype.nodeType="Shape";fa(ht);ht.prototype.eventListeners={};ht.prototype.on.call(ht.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",f5);ht.prototype.on.call(ht.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",h5);ht.prototype.on.call(ht.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",d5);ht.prototype.on.call(ht.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",m5);ht.prototype.on.call(ht.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",g5);R.addGetterSetter(ht,"stroke",void 0,tp());R.addGetterSetter(ht,"strokeWidth",2,vt());R.addGetterSetter(ht,"fillAfterStrokeEnabled",!1);R.addGetterSetter(ht,"hitStrokeWidth","auto",H2());R.addGetterSetter(ht,"strokeHitEnabled",!0,pl());R.addGetterSetter(ht,"perfectDrawEnabled",!0,pl());R.addGetterSetter(ht,"shadowForStrokeEnabled",!0,pl());R.addGetterSetter(ht,"lineJoin");R.addGetterSetter(ht,"lineCap");R.addGetterSetter(ht,"miterLimit");R.addGetterSetter(ht,"sceneFunc");R.addGetterSetter(ht,"hitFunc");R.addGetterSetter(ht,"dash");R.addGetterSetter(ht,"dashOffset",0,vt());R.addGetterSetter(ht,"shadowColor",void 0,kr());R.addGetterSetter(ht,"shadowBlur",0,vt());R.addGetterSetter(ht,"shadowOpacity",1,vt());R.addComponentsGetterSetter(ht,"shadowOffset",["x","y"]);R.addGetterSetter(ht,"shadowOffsetX",0,vt());R.addGetterSetter(ht,"shadowOffsetY",0,vt());R.addGetterSetter(ht,"fillPatternImage");R.addGetterSetter(ht,"fill",void 0,tp());R.addGetterSetter(ht,"fillPatternX",0,vt());R.addGetterSetter(ht,"fillPatternY",0,vt());R.addGetterSetter(ht,"fillLinearGradientColorStops");R.addGetterSetter(ht,"strokeLinearGradientColorStops");R.addGetterSetter(ht,"fillRadialGradientStartRadius",0);R.addGetterSetter(ht,"fillRadialGradientEndRadius",0);R.addGetterSetter(ht,"fillRadialGradientColorStops");R.addGetterSetter(ht,"fillPatternRepeat","repeat");R.addGetterSetter(ht,"fillEnabled",!0);R.addGetterSetter(ht,"strokeEnabled",!0);R.addGetterSetter(ht,"shadowEnabled",!0);R.addGetterSetter(ht,"dashEnabled",!0);R.addGetterSetter(ht,"strokeScaleEnabled",!0);R.addGetterSetter(ht,"fillPriority","color");R.addComponentsGetterSetter(ht,"fillPatternOffset",["x","y"]);R.addGetterSetter(ht,"fillPatternOffsetX",0,vt());R.addGetterSetter(ht,"fillPatternOffsetY",0,vt());R.addComponentsGetterSetter(ht,"fillPatternScale",["x","y"]);R.addGetterSetter(ht,"fillPatternScaleX",1,vt());R.addGetterSetter(ht,"fillPatternScaleY",1,vt());R.addComponentsGetterSetter(ht,"fillLinearGradientStartPoint",["x","y"]);R.addComponentsGetterSetter(ht,"strokeLinearGradientStartPoint",["x","y"]);R.addGetterSetter(ht,"fillLinearGradientStartPointX",0);R.addGetterSetter(ht,"strokeLinearGradientStartPointX",0);R.addGetterSetter(ht,"fillLinearGradientStartPointY",0);R.addGetterSetter(ht,"strokeLinearGradientStartPointY",0);R.addComponentsGetterSetter(ht,"fillLinearGradientEndPoint",["x","y"]);R.addComponentsGetterSetter(ht,"strokeLinearGradientEndPoint",["x","y"]);R.addGetterSetter(ht,"fillLinearGradientEndPointX",0);R.addGetterSetter(ht,"strokeLinearGradientEndPointX",0);R.addGetterSetter(ht,"fillLinearGradientEndPointY",0);R.addGetterSetter(ht,"strokeLinearGradientEndPointY",0);R.addComponentsGetterSetter(ht,"fillRadialGradientStartPoint",["x","y"]);R.addGetterSetter(ht,"fillRadialGradientStartPointX",0);R.addGetterSetter(ht,"fillRadialGradientStartPointY",0);R.addComponentsGetterSetter(ht,"fillRadialGradientEndPoint",["x","y"]);R.addGetterSetter(ht,"fillRadialGradientEndPointX",0);R.addGetterSetter(ht,"fillRadialGradientEndPointY",0);R.addGetterSetter(ht,"fillPatternRotation",0);R.addGetterSetter(ht,"fillRule",void 0,kr());R.backCompat(ht,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const p5="#",y5="beforeDraw",v5="draw",Sp=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],S5=Sp.length;let Jr=class extends di{constructor(e){super(e),this.canvas=new Zu,this.hitCanvas=new B2({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const l=this.getStage();return l&&l.content&&(l.content.removeChild(this.getNativeCanvasElement()),e<l.children.length-1?l.content.insertBefore(this.getNativeCanvasElement(),l.children[e+1].getCanvas()._canvas):l.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){yt.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!yt.prototype.moveUp.call(this))return!1;const l=this.getStage();return!l||!l.content?!1:(l.content.removeChild(this.getNativeCanvasElement()),this.index<l.children.length-1?l.content.insertBefore(this.getNativeCanvasElement(),l.children[this.index+1].getCanvas()._canvas):l.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(yt.prototype.moveDown.call(this)){const e=this.getStage();if(e){const l=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),l[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(yt.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const l=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),l[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return yt.prototype.remove.call(this),e&&e.parentNode&&q._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:l}){return this.canvas.setSize(e,l),this.hitCanvas.setSize(e,l),this._setSmoothEnabled(),this}_validateAdd(e){const l=e.getType();l!=="Group"&&l!=="Shape"&&q.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e={...e},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),yt.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){q.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){q.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,q.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let l=1,u=!1;for(;;){for(let o=0;o<S5;o++){const h=Sp[o],g=this._getIntersection({x:e.x+h.x*l,y:e.y+h.y*l}),y=g.shape;if(y)return y;if(u=!!g.antialiased,!g.antialiased)break}if(u)l+=1;else return null}}_getIntersection(e){const l=this.hitCanvas.pixelRatio,u=this.hitCanvas.context.getImageData(Math.round(e.x*l),Math.round(e.y*l),1,1).data,o=u[3];if(o===255){const h=q._rgbToHex(u[0],u[1],u[2]),g=bh[p5+h];return g?{shape:g}:{antialiased:!0}}else if(o>0)return{antialiased:!0};return{}}drawScene(e,l,u){const o=this.getLayer(),h=e||o&&o.getCanvas();return this._fire(y5,{node:this}),this.clearBeforeDraw()&&h.getContext().clear(),di.prototype.drawScene.call(this,h,l,u),this._fire(v5,{node:this}),this}drawHit(e,l){const u=this.getLayer(),o=e||u&&u.hitCanvas;return u&&u.clearBeforeDraw()&&u.getHitCanvas().getContext().clear(),di.prototype.drawHit.call(this,o,l),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){q.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return q.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return q.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Jr.prototype.nodeType="Layer";fa(Jr);R.addGetterSetter(Jr,"imageSmoothingEnabled",!0);R.addGetterSetter(Jr,"clearBeforeDraw",!0);R.addGetterSetter(Jr,"hitGraphEnabled",!0,pl());class w2 extends Jr{constructor(e){super(e),this.listening(!1),q.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}w2.prototype.nodeType="FastLayer";fa(w2);class Co extends di{_validateAdd(e){const l=e.getType();l!=="Group"&&l!=="Shape"&&q.throw("You may only add groups and shapes to groups.")}}Co.prototype.nodeType="Group";fa(Co);const W1=(function(){return Kr.performance&&Kr.performance.now?function(){return Kr.performance.now()}:function(){return new Date().getTime()}})();class Xi{constructor(e,l){this.id=Xi.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:W1(),frameRate:0},this.func=e,this.setLayers(l)}setLayers(e){let l=[];return e&&(l=Array.isArray(e)?e:[e]),this.layers=l,this}getLayers(){return this.layers}addLayer(e){const l=this.layers,u=l.length;for(let o=0;o<u;o++)if(l[o]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const l=Xi.animations,u=l.length;for(let o=0;o<u;o++)if(l[o].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=W1(),Xi._addAnimation(this),this}stop(){return Xi._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const l=e.id,u=this.animations,o=u.length;for(let h=0;h<o;h++)if(u[h].id===l){this.animations.splice(h,1);break}}static _runFrames(){const e={},l=this.animations;for(let u=0;u<l.length;u++){const o=l[u],h=o.layers,g=o.func;o._updateFrameObject(W1());const y=h.length;let S;if(g?S=g.call(o,o.frame)!==!1:S=!0,!!S)for(let x=0;x<y;x++){const C=h[x];C._id!==void 0&&(e[C._id]=C)}}for(const u in e)e.hasOwnProperty(u)&&e[u].batchDraw()}static _animationLoop(){const e=Xi;e.animations.length?(e._runFrames(),q.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,q.requestAnimFrame(this._animationLoop))}}Xi.animations=[];Xi.animIdCounter=0;Xi.animRunning=!1;const b5={node:1,duration:1,easing:1,onFinish:1,yoyo:1},x5=1,mg=2,gg=3,pg=["fill","stroke","shadowColor"];let _5=0;class C5{constructor(e,l,u,o,h,g,y){this.prop=e,this.propFunc=l,this.begin=o,this._pos=o,this.duration=g,this._change=0,this.prevPos=0,this.yoyo=y,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=u,this._change=h-this.begin,this.pause()}fire(e){const l=this[e];l&&l()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=mg,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=gg,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;this.state===mg?this.setTime(e):this.state===gg&&this.setTime(this.duration-e)}pause(){this.state=x5,this.fire("onPause")}getTimer(){return new Date().getTime()}}class Ye{constructor(e){const l=this,u=e.node,o=u._id,h=e.easing||xh.Linear,g=!!e.yoyo;let y,S;typeof e.duration>"u"?y=.3:e.duration===0?y=.001:y=e.duration,this.node=u,this._id=_5++;const x=u.getLayer()||(u instanceof bt.Stage?u.getLayers():null);x||q.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Xi(function(){l.tween.onEnterFrame()},x),this.tween=new C5(S,function(C){l._tweenFunc(C)},h,0,1,y*1e3,g),this._addListeners(),Ye.attrs[o]||(Ye.attrs[o]={}),Ye.attrs[o][this._id]||(Ye.attrs[o][this._id]={}),Ye.tweens[o]||(Ye.tweens[o]={});for(S in e)b5[S]===void 0&&this._addAttr(S,e[S]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,l){const u=this.node,o=u._id;let h,g,y,S,x;const C=Ye.tweens[o][e];C&&delete Ye.attrs[o][C][e];let E=u.getAttr(e);if(q._isArray(l))if(h=[],g=Math.max(l.length,E.length),e==="points"&&l.length!==E.length&&(l.length>E.length?(S=E,E=q._prepareArrayForTween(E,l,u.closed())):(y=l,l=q._prepareArrayForTween(l,E,u.closed()))),e.indexOf("fill")===0)for(let T=0;T<g;T++)if(T%2===0)h.push(l[T]-E[T]);else{const D=q.colorToRGBA(E[T]);x=q.colorToRGBA(l[T]),E[T]=D,h.push({r:x.r-D.r,g:x.g-D.g,b:x.b-D.b,a:x.a-D.a})}else for(let T=0;T<g;T++)h.push(l[T]-E[T]);else pg.indexOf(e)!==-1?(E=q.colorToRGBA(E),x=q.colorToRGBA(l),h={r:x.r-E.r,g:x.g-E.g,b:x.b-E.b,a:x.a-E.a}):h=l-E;Ye.attrs[o][this._id][e]={start:E,diff:h,end:l,trueEnd:y,trueStart:S},Ye.tweens[o][e]=this._id}_tweenFunc(e){const l=this.node,u=Ye.attrs[l._id][this._id];let o,h,g,y,S,x,C,E;for(o in u){if(h=u[o],g=h.start,y=h.diff,E=h.end,q._isArray(g))if(S=[],C=Math.max(g.length,E.length),o.indexOf("fill")===0)for(x=0;x<C;x++)x%2===0?S.push((g[x]||0)+y[x]*e):S.push("rgba("+Math.round(g[x].r+y[x].r*e)+","+Math.round(g[x].g+y[x].g*e)+","+Math.round(g[x].b+y[x].b*e)+","+(g[x].a+y[x].a*e)+")");else for(x=0;x<C;x++)S.push((g[x]||0)+y[x]*e);else pg.indexOf(o)!==-1?S="rgba("+Math.round(g.r+y.r*e)+","+Math.round(g.g+y.g*e)+","+Math.round(g.b+y.b*e)+","+(g.a+y.a*e)+")":S=g+y*e;l.setAttr(o,S)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,l=Ye.attrs[e._id][this._id];l.points&&l.points.trueEnd&&e.setAttr("points",l.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,l=Ye.attrs[e._id][this._id];l.points&&l.points.trueStart&&e.points(l.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,l=this._id,u=Ye.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const o in u)delete Ye.tweens[e][o];delete Ye.attrs[e][l],Ye.tweens[e]&&(Object.keys(Ye.tweens[e]).length===0&&delete Ye.tweens[e],Object.keys(Ye.attrs[e]).length===0&&delete Ye.attrs[e])}}Ye.attrs={};Ye.tweens={};yt.prototype.to=function(f){const e=f.onFinish;f.node=this,f.onFinish=function(){this.destroy(),e&&e()},new Ye(f).play()};const xh={BackEaseIn(f,e,l,u){return l*(f/=u)*f*((1.70158+1)*f-1.70158)+e},BackEaseOut(f,e,l,u){return l*((f=f/u-1)*f*((1.70158+1)*f+1.70158)+1)+e},BackEaseInOut(f,e,l,u){let o=1.70158;return(f/=u/2)<1?l/2*(f*f*(((o*=1.525)+1)*f-o))+e:l/2*((f-=2)*f*(((o*=1.525)+1)*f+o)+2)+e},ElasticEaseIn(f,e,l,u,o,h){let g=0;return f===0?e:(f/=u)===1?e+l:(h||(h=u*.3),!o||o<Math.abs(l)?(o=l,g=h/4):g=h/(2*Math.PI)*Math.asin(l/o),-(o*Math.pow(2,10*(f-=1))*Math.sin((f*u-g)*(2*Math.PI)/h))+e)},ElasticEaseOut(f,e,l,u,o,h){let g=0;return f===0?e:(f/=u)===1?e+l:(h||(h=u*.3),!o||o<Math.abs(l)?(o=l,g=h/4):g=h/(2*Math.PI)*Math.asin(l/o),o*Math.pow(2,-10*f)*Math.sin((f*u-g)*(2*Math.PI)/h)+l+e)},ElasticEaseInOut(f,e,l,u,o,h){let g=0;return f===0?e:(f/=u/2)===2?e+l:(h||(h=u*(.3*1.5)),!o||o<Math.abs(l)?(o=l,g=h/4):g=h/(2*Math.PI)*Math.asin(l/o),f<1?-.5*(o*Math.pow(2,10*(f-=1))*Math.sin((f*u-g)*(2*Math.PI)/h))+e:o*Math.pow(2,-10*(f-=1))*Math.sin((f*u-g)*(2*Math.PI)/h)*.5+l+e)},BounceEaseOut(f,e,l,u){return(f/=u)<1/2.75?l*(7.5625*f*f)+e:f<2/2.75?l*(7.5625*(f-=1.5/2.75)*f+.75)+e:f<2.5/2.75?l*(7.5625*(f-=2.25/2.75)*f+.9375)+e:l*(7.5625*(f-=2.625/2.75)*f+.984375)+e},BounceEaseIn(f,e,l,u){return l-xh.BounceEaseOut(u-f,0,l,u)+e},BounceEaseInOut(f,e,l,u){return f<u/2?xh.BounceEaseIn(f*2,0,l,u)*.5+e:xh.BounceEaseOut(f*2-u,0,l,u)*.5+l*.5+e},EaseIn(f,e,l,u){return l*(f/=u)*f+e},EaseOut(f,e,l,u){return-l*(f/=u)*(f-2)+e},EaseInOut(f,e,l,u){return(f/=u/2)<1?l/2*f*f+e:-l/2*(--f*(f-2)-1)+e},StrongEaseIn(f,e,l,u){return l*(f/=u)*f*f*f*f+e},StrongEaseOut(f,e,l,u){return l*((f=f/u-1)*f*f*f*f+1)+e},StrongEaseInOut(f,e,l,u){return(f/=u/2)<1?l/2*f*f*f*f*f+e:l/2*((f-=2)*f*f*f*f+2)+e},Linear(f,e,l,u){return l*f/u+e}},Eo=q._assign(bt,{Util:q,Transform:hi,Node:yt,Container:di,Stage:P0,stages:Sh,Layer:Jr,FastLayer:w2,Group:Co,DD:Ce,Shape:ht,shapes:bh,Animation:Xi,Tween:Ye,Easings:xh,Context:J0,Canvas:G2});class Vs extends ht{_sceneFunc(e){const l=bt.getAngle(this.angle()),u=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,l,u),e.arc(0,0,this.innerRadius(),l,0,!u),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),l=this.outerRadius(),u=this.clockwise(),o=bt.getAngle(u?360-this.angle():this.angle()),h=Math.cos(Math.min(o,Math.PI)),g=1,y=Math.sin(Math.min(Math.max(Math.PI,o),3*Math.PI/2)),S=Math.sin(Math.min(o,Math.PI/2)),x=h*(h>0?e:l),C=g*l,E=y*(y>0?e:l),T=S*(S>0?l:e);return{x,y:u?-1*T:E,width:C-x,height:T-E}}}Vs.prototype._centroid=!0;Vs.prototype.className="Arc";Vs.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];fa(Vs);R.addGetterSetter(Vs,"innerRadius",0,vt());R.addGetterSetter(Vs,"outerRadius",0,vt());R.addGetterSetter(Vs,"angle",0,vt());R.addGetterSetter(Vs,"clockwise",!1,pl());function b2(f,e,l,u,o,h,g){const y=Math.sqrt(Math.pow(l-f,2)+Math.pow(u-e,2)),S=Math.sqrt(Math.pow(o-l,2)+Math.pow(h-u,2)),x=g*y/(y+S),C=g*S/(y+S),E=l-x*(o-f),T=u-x*(h-e),D=l+C*(o-f),N=u+C*(h-e);return[E,T,D,N]}function yg(f,e){const l=f.length,u=[];for(let o=2;o<l-2;o+=2){const h=b2(f[o-2],f[o-1],f[o],f[o+1],f[o+2],f[o+3],e);isNaN(h[0])||(u.push(h[0]),u.push(h[1]),u.push(f[o]),u.push(f[o+1]),u.push(h[2]),u.push(h[3]))}return u}class Qs extends ht{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const l=this.points(),u=l.length,o=this.tension(),h=this.closed(),g=this.bezier();if(!u)return;let y=0;if(e.beginPath(),e.moveTo(l[0],l[1]),o!==0&&u>4){const S=this.getTensionPoints(),x=S.length;for(y=h?0:4,h||e.quadraticCurveTo(S[0],S[1],S[2],S[3]);y<x-2;)e.bezierCurveTo(S[y++],S[y++],S[y++],S[y++],S[y++],S[y++]);h||e.quadraticCurveTo(S[x-2],S[x-1],l[u-2],l[u-1])}else if(g)for(y=2;y<u;)e.bezierCurveTo(l[y++],l[y++],l[y++],l[y++],l[y++],l[y++]);else for(y=2;y<u;y+=2)e.lineTo(l[y],l[y+1]);h?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():yg(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),l=e.length,u=this.tension(),o=b2(e[l-2],e[l-1],e[0],e[1],e[2],e[3],u),h=b2(e[l-4],e[l-3],e[l-2],e[l-1],e[0],e[1],u),g=yg(e,u);return[o[2],o[3]].concat(g).concat([h[0],h[1],e[l-2],e[l-1],h[2],h[3],o[0],o[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let l=e[0],u=e[0],o=e[1],h=e[1],g,y;for(let S=0;S<e.length/2;S++)g=e[S*2],y=e[S*2+1],l=Math.min(l,g),u=Math.max(u,g),o=Math.min(o,y),h=Math.max(h,y);return{x:l,y:o,width:u-l,height:h-o}}}Qs.prototype.className="Line";Qs.prototype._attrsAffectingSize=["points","bezier","tension"];fa(Qs);R.addGetterSetter(Qs,"closed",!1);R.addGetterSetter(Qs,"bezier",!1);R.addGetterSetter(Qs,"tension",0,vt());R.addGetterSetter(Qs,"points",[],L4());const E5=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],T5=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],A5=[[1],[1,1],[1,2,1],[1,3,3,1]],vg=(f,e,l)=>{let u,o;const g=l/2;u=0;for(let y=0;y<20;y++)o=g*E5[20][y]+g,u+=T5[20][y]*M5(f,e,o);return g*u},Sg=(f,e,l)=>{l===void 0&&(l=1);const u=f[0]-2*f[1]+f[2],o=e[0]-2*e[1]+e[2],h=2*f[1]-2*f[0],g=2*e[1]-2*e[0],y=4*(u*u+o*o),S=4*(u*h+o*g),x=h*h+g*g;if(y===0)return l*Math.sqrt(Math.pow(f[2]-f[0],2)+Math.pow(e[2]-e[0],2));const C=S/(2*y),E=x/y,T=l+C,D=E-C*C,N=T*T+D>0?Math.sqrt(T*T+D):0,X=C*C+D>0?Math.sqrt(C*C+D):0,B=C+Math.sqrt(C*C+D)!==0?D*Math.log(Math.abs((T+N)/(C+X))):0;return Math.sqrt(y)/2*(T*N-C*X+B)};function M5(f,e,l){const u=x2(1,l,f),o=x2(1,l,e),h=u*u+o*o;return Math.sqrt(h)}const x2=(f,e,l)=>{const u=l.length-1;let o,h;if(u===0)return 0;if(f===0){h=0;for(let g=0;g<=u;g++)h+=A5[u][g]*Math.pow(1-e,u-g)*Math.pow(e,g)*l[g];return h}else{o=new Array(u);for(let g=0;g<u;g++)o[g]=u*(l[g+1]-l[g]);return x2(f-1,e,o)}},bg=(f,e,l)=>{let u=1,o=f/e,h=(f-l(o))/e,g=0;for(;u>.001;){const y=l(o+h),S=Math.abs(f-y)/e;if(S<u)u=S,o+=h;else{const x=l(o-h),C=Math.abs(f-x)/e;C<u?(u=C,o-=h):h/=2}if(g++,g>500)break}return o};class qe extends ht{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=qe.parsePathData(this.data()),this.pathLength=qe.getPathLength(this.dataArray)}_sceneFunc(e){const l=this.dataArray;e.beginPath();let u=!1;for(let o=0;o<l.length;o++){const h=l[o].command,g=l[o].points;switch(h){case"L":e.lineTo(g[0],g[1]);break;case"M":e.moveTo(g[0],g[1]);break;case"C":e.bezierCurveTo(g[0],g[1],g[2],g[3],g[4],g[5]);break;case"Q":e.quadraticCurveTo(g[0],g[1],g[2],g[3]);break;case"A":const y=g[0],S=g[1],x=g[2],C=g[3],E=g[4],T=g[5],D=g[6],N=g[7],X=x>C?x:C,B=x>C?1:x/C,w=x>C?C/x:1;e.translate(y,S),e.rotate(D),e.scale(B,w),e.arc(0,0,X,E,E+T,1-N),e.scale(1/B,1/w),e.rotate(-D),e.translate(-y,-S);break;case"z":u=!0,e.closePath();break}}!u&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(S){if(S.command==="A"){const x=S.points[4],C=S.points[5],E=S.points[4]+C;let T=Math.PI/180;if(Math.abs(x-E)<T&&(T=Math.abs(x-E)),C<0)for(let D=x-T;D>E;D-=T){const N=qe.getPointOnEllipticalArc(S.points[0],S.points[1],S.points[2],S.points[3],D,0);e.push(N.x,N.y)}else for(let D=x+T;D<E;D+=T){const N=qe.getPointOnEllipticalArc(S.points[0],S.points[1],S.points[2],S.points[3],D,0);e.push(N.x,N.y)}}else if(S.command==="C")for(let x=0;x<=1;x+=.01){const C=qe.getPointOnCubicBezier(x,S.start.x,S.start.y,S.points[0],S.points[1],S.points[2],S.points[3],S.points[4],S.points[5]);e.push(C.x,C.y)}else e=e.concat(S.points)});let l=e[0],u=e[0],o=e[1],h=e[1],g,y;for(let S=0;S<e.length/2;S++)g=e[S*2],y=e[S*2+1],isNaN(g)||(l=Math.min(l,g),u=Math.max(u,g)),isNaN(y)||(o=Math.min(o,y),h=Math.max(h,y));return{x:l,y:o,width:u-l,height:h-o}}getLength(){return this.pathLength}getPointAtLength(e){return qe.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,l,u,o){return Math.sqrt((u-e)*(u-e)+(o-l)*(o-l))}static getPathLength(e){let l=0;for(let u=0;u<e.length;++u)l+=e[u].pathLength;return l}static getPointAtLengthOfDataArray(e,l){let u,o=0,h=l.length;if(!h)return null;for(;o<h&&e>l[o].pathLength;)e-=l[o].pathLength,++o;if(o===h)return u=l[o-1].points.slice(-2),{x:u[0],y:u[1]};if(e<.01)return l[o].command==="M"?(u=l[o].points.slice(0,2),{x:u[0],y:u[1]}):{x:l[o].start.x,y:l[o].start.y};const g=l[o],y=g.points;switch(g.command){case"L":return qe.getPointOnLine(e,g.start.x,g.start.y,y[0],y[1]);case"C":return qe.getPointOnCubicBezier(bg(e,qe.getPathLength(l),X=>vg([g.start.x,y[0],y[2],y[4]],[g.start.y,y[1],y[3],y[5]],X)),g.start.x,g.start.y,y[0],y[1],y[2],y[3],y[4],y[5]);case"Q":return qe.getPointOnQuadraticBezier(bg(e,qe.getPathLength(l),X=>Sg([g.start.x,y[0],y[2]],[g.start.y,y[1],y[3]],X)),g.start.x,g.start.y,y[0],y[1],y[2],y[3]);case"A":const S=y[0],x=y[1],C=y[2],E=y[3],T=y[5],D=y[6];let N=y[4];return N+=T*e/g.pathLength,qe.getPointOnEllipticalArc(S,x,C,E,N,D)}return null}static getPointOnLine(e,l,u,o,h,g,y){g=g??l,y=y??u;const S=this.getLineLength(l,u,o,h);if(S<1e-10)return{x:l,y:u};if(o===l)return{x:g,y:y+(h>u?e:-e)};const x=(h-u)/(o-l),C=Math.sqrt(e*e/(1+x*x))*(o<l?-1:1),E=x*C;if(Math.abs(y-u-x*(g-l))<1e-10)return{x:g+C,y:y+E};const T=((g-l)*(o-l)+(y-u)*(h-u))/(S*S),D=l+T*(o-l),N=u+T*(h-u),X=this.getLineLength(g,y,D,N),B=Math.sqrt(e*e-X*X),w=Math.sqrt(B*B/(1+x*x))*(o<l?-1:1),V=x*w;return{x:D+w,y:N+V}}static getPointOnCubicBezier(e,l,u,o,h,g,y,S,x){function C(B){return B*B*B}function E(B){return 3*B*B*(1-B)}function T(B){return 3*B*(1-B)*(1-B)}function D(B){return(1-B)*(1-B)*(1-B)}const N=S*C(e)+g*E(e)+o*T(e)+l*D(e),X=x*C(e)+y*E(e)+h*T(e)+u*D(e);return{x:N,y:X}}static getPointOnQuadraticBezier(e,l,u,o,h,g,y){function S(D){return D*D}function x(D){return 2*D*(1-D)}function C(D){return(1-D)*(1-D)}const E=g*S(e)+o*x(e)+l*C(e),T=y*S(e)+h*x(e)+u*C(e);return{x:E,y:T}}static getPointOnEllipticalArc(e,l,u,o,h,g){const y=Math.cos(g),S=Math.sin(g),x={x:u*Math.cos(h),y:o*Math.sin(h)};return{x:e+(x.x*y-x.y*S),y:l+(x.x*S+x.y*y)}}static parsePathData(e){if(!e)return[];let l=e;const u=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];l=l.replace(new RegExp(" ","g"),",");for(let E=0;E<u.length;E++)l=l.replace(new RegExp(u[E],"g"),"|"+u[E]);const o=l.split("|"),h=[],g=[];let y=0,S=0;const x=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let C;for(let E=1;E<o.length;E++){let T=o[E],D=T.charAt(0);for(T=T.slice(1),g.length=0;C=x.exec(T);)g.push(C[0]);let N=[],X=D==="A"||D==="a"?0:-1;for(let B=0,w=g.length;B<w;B++){const V=g[B];if(V==="00"){N.push(0,0),X>=0&&(X+=2,X>=7&&(X-=7));continue}if(X>=0){if(X===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(V)){N.push(parseInt(V[0],10)),N.push(parseInt(V[1],10)),N.push(parseFloat(V.slice(2))),X+=3,X>=7&&(X-=7);continue}if(V==="11"||V==="10"||V==="01"){N.push(parseInt(V[0],10)),N.push(parseInt(V[1],10)),X+=2,X>=7&&(X-=7);continue}if(V==="0"||V==="1"){N.push(parseInt(V,10)),X+=1,X>=7&&(X-=7);continue}}else if(X===4){if(/^[01]\d+(?:\.\d+)?$/.test(V)){N.push(parseInt(V[0],10)),N.push(parseFloat(V.slice(1))),X+=2,X>=7&&(X-=7);continue}if(V==="0"||V==="1"){N.push(parseInt(V,10)),X+=1,X>=7&&(X-=7);continue}}const J=parseFloat(V);isNaN(J)?N.push(0):N.push(J),X+=1,X>=7&&(X-=7)}else{const J=parseFloat(V);isNaN(J)?N.push(0):N.push(J)}}for(;N.length>0&&!isNaN(N[0]);){let B="",w=[];const V=y,J=S;let W,dt,rt,et,it,xt,At,zt,_t,jt;switch(D){case"l":y+=N.shift(),S+=N.shift(),B="L",w.push(y,S);break;case"L":y=N.shift(),S=N.shift(),w.push(y,S);break;case"m":const Ut=N.shift(),gt=N.shift();if(y+=Ut,S+=gt,B="M",h.length>2&&h[h.length-1].command==="z"){for(let H=h.length-2;H>=0;H--)if(h[H].command==="M"){y=h[H].points[0]+Ut,S=h[H].points[1]+gt;break}}w.push(y,S),D="l";break;case"M":y=N.shift(),S=N.shift(),B="M",w.push(y,S),D="L";break;case"h":y+=N.shift(),B="L",w.push(y,S);break;case"H":y=N.shift(),B="L",w.push(y,S);break;case"v":S+=N.shift(),B="L",w.push(y,S);break;case"V":S=N.shift(),B="L",w.push(y,S);break;case"C":w.push(N.shift(),N.shift(),N.shift(),N.shift()),y=N.shift(),S=N.shift(),w.push(y,S);break;case"c":w.push(y+N.shift(),S+N.shift(),y+N.shift(),S+N.shift()),y+=N.shift(),S+=N.shift(),B="C",w.push(y,S);break;case"S":dt=y,rt=S,W=h[h.length-1],W.command==="C"&&(dt=y+(y-W.points[2]),rt=S+(S-W.points[3])),w.push(dt,rt,N.shift(),N.shift()),y=N.shift(),S=N.shift(),B="C",w.push(y,S);break;case"s":dt=y,rt=S,W=h[h.length-1],W.command==="C"&&(dt=y+(y-W.points[2]),rt=S+(S-W.points[3])),w.push(dt,rt,y+N.shift(),S+N.shift()),y+=N.shift(),S+=N.shift(),B="C",w.push(y,S);break;case"Q":w.push(N.shift(),N.shift()),y=N.shift(),S=N.shift(),w.push(y,S);break;case"q":w.push(y+N.shift(),S+N.shift()),y+=N.shift(),S+=N.shift(),B="Q",w.push(y,S);break;case"T":dt=y,rt=S,W=h[h.length-1],W.command==="Q"&&(dt=y+(y-W.points[0]),rt=S+(S-W.points[1])),y=N.shift(),S=N.shift(),B="Q",w.push(dt,rt,y,S);break;case"t":dt=y,rt=S,W=h[h.length-1],W.command==="Q"&&(dt=y+(y-W.points[0]),rt=S+(S-W.points[1])),y+=N.shift(),S+=N.shift(),B="Q",w.push(dt,rt,y,S);break;case"A":et=N.shift(),it=N.shift(),xt=N.shift(),At=N.shift(),zt=N.shift(),_t=y,jt=S,y=N.shift(),S=N.shift(),B="A",w=this.convertEndpointToCenterParameterization(_t,jt,y,S,At,zt,et,it,xt);break;case"a":et=N.shift(),it=N.shift(),xt=N.shift(),At=N.shift(),zt=N.shift(),_t=y,jt=S,y+=N.shift(),S+=N.shift(),B="A",w=this.convertEndpointToCenterParameterization(_t,jt,y,S,At,zt,et,it,xt);break}h.push({command:B||D,points:w,start:{x:V,y:J},pathLength:this.calcLength(V,J,B||D,w)})}(D==="z"||D==="Z")&&h.push({command:"z",points:[],start:void 0,pathLength:0})}return h}static calcLength(e,l,u,o){let h,g,y,S;const x=qe;switch(u){case"L":return x.getLineLength(e,l,o[0],o[1]);case"C":return vg([e,o[0],o[2],o[4]],[l,o[1],o[3],o[5]],1);case"Q":return Sg([e,o[0],o[2]],[l,o[1],o[3]],1);case"A":h=0;const C=o[4],E=o[5],T=o[4]+E;let D=Math.PI/180;if(Math.abs(C-T)<D&&(D=Math.abs(C-T)),g=x.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],C,0),E<0)for(S=C-D;S>T;S-=D)y=x.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],S,0),h+=x.getLineLength(g.x,g.y,y.x,y.y),g=y;else for(S=C+D;S<T;S+=D)y=x.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],S,0),h+=x.getLineLength(g.x,g.y,y.x,y.y),g=y;return y=x.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],T,0),h+=x.getLineLength(g.x,g.y,y.x,y.y),h}return 0}static convertEndpointToCenterParameterization(e,l,u,o,h,g,y,S,x){const C=x*(Math.PI/180),E=Math.cos(C)*(e-u)/2+Math.sin(C)*(l-o)/2,T=-1*Math.sin(C)*(e-u)/2+Math.cos(C)*(l-o)/2,D=E*E/(y*y)+T*T/(S*S);D>1&&(y*=Math.sqrt(D),S*=Math.sqrt(D));let N=Math.sqrt((y*y*(S*S)-y*y*(T*T)-S*S*(E*E))/(y*y*(T*T)+S*S*(E*E)));h===g&&(N*=-1),isNaN(N)&&(N=0);const X=N*y*T/S,B=N*-S*E/y,w=(e+u)/2+Math.cos(C)*X-Math.sin(C)*B,V=(l+o)/2+Math.sin(C)*X+Math.cos(C)*B,J=function(At){return Math.sqrt(At[0]*At[0]+At[1]*At[1])},W=function(At,zt){return(At[0]*zt[0]+At[1]*zt[1])/(J(At)*J(zt))},dt=function(At,zt){return(At[0]*zt[1]<At[1]*zt[0]?-1:1)*Math.acos(W(At,zt))},rt=dt([1,0],[(E-X)/y,(T-B)/S]),et=[(E-X)/y,(T-B)/S],it=[(-1*E-X)/y,(-1*T-B)/S];let xt=dt(et,it);return W(et,it)<=-1&&(xt=Math.PI),W(et,it)>=1&&(xt=0),g===0&&xt>0&&(xt=xt-2*Math.PI),g===1&&xt<0&&(xt=xt+2*Math.PI),[w,V,y,S,rt,xt,C,g]}}qe.prototype.className="Path";qe.prototype._attrsAffectingSize=["data"];fa(qe);R.addGetterSetter(qe,"data");class Fr extends Qs{_sceneFunc(e){super._sceneFunc(e);const l=Math.PI*2,u=this.points();let o=u;const h=this.tension()!==0&&u.length>4;h&&(o=this.getTensionPoints());const g=this.pointerLength(),y=u.length;let S,x;if(h){const T=[o[o.length-4],o[o.length-3],o[o.length-2],o[o.length-1],u[y-2],u[y-1]],D=qe.calcLength(o[o.length-4],o[o.length-3],"C",T),N=qe.getPointOnQuadraticBezier(Math.min(1,1-g/D),T[0],T[1],T[2],T[3],T[4],T[5]);S=u[y-2]-N.x,x=u[y-1]-N.y}else S=u[y-2]-u[y-4],x=u[y-1]-u[y-3];const C=(Math.atan2(x,S)+l)%l,E=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(u[y-2],u[y-1]),e.rotate(C),e.moveTo(0,0),e.lineTo(-g,E/2),e.lineTo(-g,-E/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(u[0],u[1]),h?(S=(o[0]+o[2])/2-u[0],x=(o[1]+o[3])/2-u[1]):(S=u[2]-u[0],x=u[3]-u[1]),e.rotate((Math.atan2(-x,-S)+l)%l),e.moveTo(0,0),e.lineTo(-g,E/2),e.lineTo(-g,-E/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const l=this.dashEnabled();l&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),l&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),l=this.pointerWidth()/2;return{x:e.x,y:e.y-l,width:e.width,height:e.height+l*2}}}Fr.prototype.className="Arrow";fa(Fr);R.addGetterSetter(Fr,"pointerLength",10,vt());R.addGetterSetter(Fr,"pointerWidth",10,vt());R.addGetterSetter(Fr,"pointerAtBeginning",!1);R.addGetterSetter(Fr,"pointerAtEnding",!0);class Ao extends ht{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}Ao.prototype._centroid=!0;Ao.prototype.className="Circle";Ao.prototype._attrsAffectingSize=["radius"];fa(Ao);R.addGetterSetter(Ao,"radius",0,vt());class Fu extends ht{_sceneFunc(e){const l=this.radiusX(),u=this.radiusY();e.beginPath(),e.save(),l!==u&&e.scale(1,u/l),e.arc(0,0,l,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}Fu.prototype.className="Ellipse";Fu.prototype._centroid=!0;Fu.prototype._attrsAffectingSize=["radiusX","radiusY"];fa(Fu);R.addComponentsGetterSetter(Fu,"radius",["x","y"]);R.addGetterSetter(Fu,"radiusX",0,vt());R.addGetterSetter(Fu,"radiusY",0,vt());let yl=class bp extends ht{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",l=>{this._removeImageLoad(l.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),l=this.hasShadow();return e&&l?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const l=this.getWidth(),u=this.getHeight(),o=this.cornerRadius(),h=this.attrs.image;let g;if(h){const y=this.attrs.cropWidth,S=this.attrs.cropHeight;y&&S?g=[h,this.cropX(),this.cropY(),y,S,0,0,l,u]:g=[h,0,0,l,u]}(this.hasFill()||this.hasStroke()||o)&&(e.beginPath(),o?q.drawRoundedRectPath(e,l,u,o):e.rect(0,0,l,u),e.closePath(),e.fillStrokeShape(this)),h&&(o&&e.clip(),e.drawImage.apply(e,g))}_hitFunc(e){const l=this.width(),u=this.height(),o=this.cornerRadius();e.beginPath(),o?q.drawRoundedRectPath(e,l,u,o):e.rect(0,0,l,u),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,l,u;return(u=(e=this.attrs.width)!==null&&e!==void 0?e:(l=this.image())===null||l===void 0?void 0:l.width)!==null&&u!==void 0?u:0}getHeight(){var e,l,u;return(u=(e=this.attrs.height)!==null&&e!==void 0?e:(l=this.image())===null||l===void 0?void 0:l.height)!==null&&u!==void 0?u:0}static fromURL(e,l,u=null){const o=q.createImageElement();o.onload=function(){const h=new bp({image:o});l(h)},o.onerror=u,o.crossOrigin="Anonymous",o.src=e}};yl.prototype.className="Image";yl.prototype._attrsAffectingSize=["image"];fa(yl);R.addGetterSetter(yl,"cornerRadius",0,F0(4));R.addGetterSetter(yl,"image");R.addComponentsGetterSetter(yl,"crop",["x","y","width","height"]);R.addGetterSetter(yl,"cropX",0,vt());R.addGetterSetter(yl,"cropY",0,vt());R.addGetterSetter(yl,"cropWidth",0,vt());R.addGetterSetter(yl,"cropHeight",0,vt());const xp=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],N5="Change.konva",O5="none",_2="up",C2="right",E2="down",T2="left",D5=xp.length;class L2 extends Co{constructor(e){super(e),this.on("add.konva",function(l){this._addListeners(l.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let l=this,u;const o=function(){l._sync()};for(u=0;u<D5;u++)e.on(xp[u]+N5,o)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),l=this.getTag(),u,o,h,g,y,S,x;if(e&&l){switch(u=e.width(),o=e.height(),h=l.pointerDirection(),g=l.pointerWidth(),x=l.pointerHeight(),y=0,S=0,h){case _2:y=u/2,S=-1*x;break;case C2:y=u+g,S=o/2;break;case E2:y=u/2,S=o+x;break;case T2:y=-1*g,S=o/2;break}l.setAttrs({x:-1*y,y:-1*S,width:u,height:o}),e.setAttrs({x:-1*y,y:-1*S})}}}L2.prototype.className="Label";fa(L2);class Pr extends ht{_sceneFunc(e){const l=this.width(),u=this.height(),o=this.pointerDirection(),h=this.pointerWidth(),g=this.pointerHeight(),y=this.cornerRadius();let S=0,x=0,C=0,E=0;typeof y=="number"?S=x=C=E=Math.min(y,l/2,u/2):(S=Math.min(y[0]||0,l/2,u/2),x=Math.min(y[1]||0,l/2,u/2),E=Math.min(y[2]||0,l/2,u/2),C=Math.min(y[3]||0,l/2,u/2)),e.beginPath(),e.moveTo(S,0),o===_2&&(e.lineTo((l-h)/2,0),e.lineTo(l/2,-1*g),e.lineTo((l+h)/2,0)),e.lineTo(l-x,0),e.arc(l-x,x,x,Math.PI*3/2,0,!1),o===C2&&(e.lineTo(l,(u-g)/2),e.lineTo(l+h,u/2),e.lineTo(l,(u+g)/2)),e.lineTo(l,u-E),e.arc(l-E,u-E,E,0,Math.PI/2,!1),o===E2&&(e.lineTo((l+h)/2,u),e.lineTo(l/2,u+g),e.lineTo((l-h)/2,u)),e.lineTo(C,u),e.arc(C,u-C,C,Math.PI/2,Math.PI,!1),o===T2&&(e.lineTo(0,(u+g)/2),e.lineTo(-1*h,u/2),e.lineTo(0,(u-g)/2)),e.lineTo(0,S),e.arc(S,S,S,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,l=0,u=this.pointerWidth(),o=this.pointerHeight(),h=this.pointerDirection(),g=this.width(),y=this.height();return h===_2?(l-=o,y+=o):h===E2?y+=o:h===T2?(e-=u*1.5,g+=u):h===C2&&(g+=u*1.5),{x:e,y:l,width:g,height:y}}}Pr.prototype.className="Tag";fa(Pr);R.addGetterSetter(Pr,"pointerDirection",O5);R.addGetterSetter(Pr,"pointerWidth",0,vt());R.addGetterSetter(Pr,"pointerHeight",0,vt());R.addGetterSetter(Pr,"cornerRadius",0,F0(4));class Th extends ht{_sceneFunc(e){const l=this.cornerRadius(),u=this.width(),o=this.height();e.beginPath(),l?q.drawRoundedRectPath(e,u,o,l):e.rect(0,0,u,o),e.closePath(),e.fillStrokeShape(this)}}Th.prototype.className="Rect";fa(Th);R.addGetterSetter(Th,"cornerRadius",0,F0(4));class Pu extends ht{_sceneFunc(e){const l=this._getPoints(),u=this.radius(),o=this.sides(),h=this.cornerRadius();if(e.beginPath(),h)q.drawRoundedPolygonPath(e,l,o,u,h);else{e.moveTo(l[0].x,l[0].y);for(let g=1;g<l.length;g++)e.lineTo(l[g].x,l[g].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,l=this.attrs.radius||0,u=[];for(let o=0;o<e;o++)u.push({x:l*Math.sin(o*2*Math.PI/e),y:-1*l*Math.cos(o*2*Math.PI/e)});return u}getSelfRect(){const e=this._getPoints();let l=e[0].x,u=e[0].y,o=e[0].x,h=e[0].y;return e.forEach(g=>{l=Math.min(l,g.x),u=Math.max(u,g.x),o=Math.min(o,g.y),h=Math.max(h,g.y)}),{x:l,y:o,width:u-l,height:h-o}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Pu.prototype.className="RegularPolygon";Pu.prototype._centroid=!0;Pu.prototype._attrsAffectingSize=["radius"];fa(Pu);R.addGetterSetter(Pu,"radius",0,vt());R.addGetterSetter(Pu,"sides",0,vt());R.addGetterSetter(Pu,"cornerRadius",0,F0(4));const xg=Math.PI*2;class Ir extends ht{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,xg,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),xg,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Ir.prototype.className="Ring";Ir.prototype._centroid=!0;Ir.prototype._attrsAffectingSize=["innerRadius","outerRadius"];fa(Ir);R.addGetterSetter(Ir,"innerRadius",0,vt());R.addGetterSetter(Ir,"outerRadius",0,vt());class es extends ht{constructor(e){super(e),this._updated=!0,this.anim=new Xi(()=>{const l=this._updated;return this._updated=!1,l}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const l=this.animation(),u=this.frameIndex(),o=u*4,h=this.animations()[l],g=this.frameOffsets(),y=h[o+0],S=h[o+1],x=h[o+2],C=h[o+3],E=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,x,C),e.closePath(),e.fillStrokeShape(this)),E)if(g){const T=g[l],D=u*2;e.drawImage(E,y,S,x,C,T[D+0],T[D+1],x,C)}else e.drawImage(E,y,S,x,C,0,0,x,C)}_hitFunc(e){const l=this.animation(),u=this.frameIndex(),o=u*4,h=this.animations()[l],g=this.frameOffsets(),y=h[o+2],S=h[o+3];if(e.beginPath(),g){const x=g[l],C=u*2;e.rect(x[C+0],x[C+1],y,S)}else e.rect(0,0,y,S);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),l=this.animation(),u=this.animations(),o=u[l],h=o.length/4;e<h-1?this.frameIndex(e+1):this.frameIndex(0)}}es.prototype.className="Sprite";fa(es);R.addGetterSetter(es,"animation");R.addGetterSetter(es,"animations");R.addGetterSetter(es,"frameOffsets");R.addGetterSetter(es,"image");R.addGetterSetter(es,"frameIndex",0,vt());R.addGetterSetter(es,"frameRate",17,vt());R.backCompat(es,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class Iu extends ht{_sceneFunc(e){const l=this.innerRadius(),u=this.outerRadius(),o=this.numPoints();e.beginPath(),e.moveTo(0,0-u);for(let h=1;h<o*2;h++){const g=h%2===0?u:l,y=g*Math.sin(h*Math.PI/o),S=-1*g*Math.cos(h*Math.PI/o);e.lineTo(y,S)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Iu.prototype.className="Star";Iu.prototype._centroid=!0;Iu.prototype._attrsAffectingSize=["innerRadius","outerRadius"];fa(Iu);R.addGetterSetter(Iu,"numPoints",5,vt());R.addGetterSetter(Iu,"innerRadius",0,vt());R.addGetterSetter(Iu,"outerRadius",0,vt());function Ku(f){return[...f].reduce((e,l,u,o)=>{if(new RegExp("\\p{Emoji}","u").test(l)){const h=o[u+1];h&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(h)?(e.push(l+h),o[u+1]=""):e.push(l)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(l+(o[u+1]||""))?e.push(l+o[u+1]):u>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(l)?e[e.length-1]+=l:l&&e.push(l);return e},[])}const vo="auto",R5="center",_p="inherit",So="justify",z5="Change.konva",U5="2d",_g="-",Cp="left",G5="text",B5="Text",H5="top",j5="bottom",Cg="middle",Ep="normal",w5="px ",N0=" ",L5="right",Eg="rtl",Y5="word",q5="char",Tg="none",$1="…",Tp=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],X5=Tp.length;function V5(f){return f.split(",").map(e=>{e=e.trim();const l=e.indexOf(" ")>=0,u=e.indexOf('"')>=0||e.indexOf("'")>=0;return l&&!u&&(e=`"${e}"`),e}).join(", ")}let O0;function t2(){return O0||(O0=q.createCanvasElement().getContext(U5),O0)}function Q5(f){f.fillText(this._partialText,this._partialTextX,this._partialTextY)}function K5(f){f.setAttr("miterLimit",2),f.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function Z5(f){return f=f||{},!f.fillLinearGradientColorStops&&!f.fillRadialGradientColorStops&&!f.fillPatternImage&&(f.fill=f.fill||"black"),f}let Pe=class extends ht{constructor(e){super(Z5(e)),this._partialTextX=0,this._partialTextY=0;for(let l=0;l<X5;l++)this.on(Tp[l]+z5,this._setTextData);this._setTextData()}_sceneFunc(e){var l,u;const o=this.textArr,h=o.length;if(!this.text())return;let g=this.padding(),y=this.fontSize(),S=this.lineHeight()*y,x=this.verticalAlign(),C=this.direction(),E=0,T=this.align(),D=this.getWidth(),N=this.letterSpacing(),X=this.charRenderFunc(),B=this.fill(),w=this.textDecoration(),V=w.indexOf("underline")!==-1,J=w.indexOf("line-through")!==-1,W;C=C===_p?e.direction:C;let dt=S/2,rt=Cg;if(!bt.legacyTextRendering){const et=this.measureSize("M");rt="alphabetic";const it=(l=et.fontBoundingBoxAscent)!==null&&l!==void 0?l:et.actualBoundingBoxAscent,xt=(u=et.fontBoundingBoxDescent)!==null&&u!==void 0?u:et.actualBoundingBoxDescent;dt=(it-xt)/2+S/2}for(C===Eg&&e.setAttr("direction",C),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",rt),e.setAttr("textAlign",Cp),x===Cg?E=(this.getHeight()-h*S-g*2)/2:x===j5&&(E=this.getHeight()-h*S-g*2),e.translate(g,E+g),W=0;W<h;W++){let et=0,it=0;const xt=o[W],At=xt.text,zt=xt.width,_t=xt.lastInParagraph;if(e.save(),T===L5?et+=D-zt-g*2:T===R5&&(et+=(D-zt-g*2)/2),V){e.save(),e.beginPath();const jt=bt.legacyTextRendering?Math.round(y/2):Math.round(y/4),Ut=et,gt=dt+it+jt;e.moveTo(Ut,gt);const H=T===So&&!_t?D-g*2:zt;e.lineTo(Ut+Math.round(H),gt),e.lineWidth=y/15;const ct=this._getLinearGradient();e.strokeStyle=ct||B,e.stroke(),e.restore()}if(C!==Eg&&(N!==0||T===So||X)){const jt=At.split(" ").length-1,Ut=Ku(At);for(let gt=0;gt<Ut.length;gt++){const H=Ut[gt];if(H===" "&&!_t&&T===So&&(et+=(D-g*2-zt)/jt),this._partialTextX=et,this._partialTextY=dt+it,this._partialText=H,X){e.save();const ft=o.slice(0,W).reduce((Ot,z)=>Ot+Ku(z.text).length,0),Et=gt+ft;X({char:H,index:Et,x:et,y:dt+it,lineIndex:W,column:gt,isLastInLine:_t,width:this.measureSize(H).width,context:e})}e.fillStrokeShape(this),X&&e.restore(),et+=this.measureSize(H).width+N}}else N!==0&&e.setAttr("letterSpacing",`${N}px`),this._partialTextX=et,this._partialTextY=dt+it,this._partialText=At,e.fillStrokeShape(this);if(J){e.save(),e.beginPath();const jt=bt.legacyTextRendering?0:-Math.round(y/4),Ut=T===So?0:et;e.moveTo(Ut,dt+it+jt);const gt=T===So&&!_t?D-g*2:zt;e.lineTo(Ut+Math.round(gt),dt+it+jt),e.lineWidth=y/15;const H=this._getLinearGradient();e.strokeStyle=H||B,e.stroke(),e.restore()}e.restore(),h>1&&(dt+=S)}}_hitFunc(e){const l=this.getWidth(),u=this.getHeight();e.beginPath(),e.rect(0,0,l,u),e.closePath(),e.fillStrokeShape(this)}setText(e){const l=q._isString(e)?e:e==null?"":e+"";return this._setAttr(G5,l),this}getWidth(){return this.attrs.width===vo||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===vo||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return q.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var l,u,o,h,g,y,S,x,C,E,T;let D=t2(),N=this.fontSize(),X;D.save(),D.font=this._getContextFont(),X=D.measureText(e),D.restore();const B=N/100;return{actualBoundingBoxAscent:(l=X.actualBoundingBoxAscent)!==null&&l!==void 0?l:71.58203125*B,actualBoundingBoxDescent:(u=X.actualBoundingBoxDescent)!==null&&u!==void 0?u:0,actualBoundingBoxLeft:(o=X.actualBoundingBoxLeft)!==null&&o!==void 0?o:-7.421875*B,actualBoundingBoxRight:(h=X.actualBoundingBoxRight)!==null&&h!==void 0?h:75.732421875*B,alphabeticBaseline:(g=X.alphabeticBaseline)!==null&&g!==void 0?g:0,emHeightAscent:(y=X.emHeightAscent)!==null&&y!==void 0?y:100*B,emHeightDescent:(S=X.emHeightDescent)!==null&&S!==void 0?S:-20*B,fontBoundingBoxAscent:(x=X.fontBoundingBoxAscent)!==null&&x!==void 0?x:91*B,fontBoundingBoxDescent:(C=X.fontBoundingBoxDescent)!==null&&C!==void 0?C:21*B,hangingBaseline:(E=X.hangingBaseline)!==null&&E!==void 0?E:72.80000305175781*B,ideographicBaseline:(T=X.ideographicBaseline)!==null&&T!==void 0?T:-21*B,width:X.width,height:N}}_getContextFont(){return this.fontStyle()+N0+this.fontVariant()+N0+(this.fontSize()+w5)+V5(this.fontFamily())}_addTextLine(e){this.align()===So&&(e=e.trim());const u=this._getTextWidth(e);return this.textArr.push({text:e,width:u,lastInParagraph:!1})}_getTextWidth(e){const l=this.letterSpacing(),u=e.length;return t2().measureText(e).width+l*u}_setTextData(){let e=this.text().split(`
`),l=+this.fontSize(),u=0,o=this.lineHeight()*l,h=this.attrs.width,g=this.attrs.height,y=h!==vo&&h!==void 0,S=g!==vo&&g!==void 0,x=this.padding(),C=h-x*2,E=g-x*2,T=0,D=this.wrap(),N=D!==Tg,X=D!==q5&&N,B=this.ellipsis();this.textArr=[],t2().font=this._getContextFont();const w=B?this._getTextWidth($1):0;for(let V=0,J=e.length;V<J;++V){let W=e[V],dt=this._getTextWidth(W);if(y&&dt>C)for(;W.length>0;){let rt=0,et=Ku(W).length,it="",xt=0;for(;rt<et;){const At=rt+et>>>1,zt=Ku(W),_t=zt.slice(0,At+1).join(""),jt=this._getTextWidth(_t);(B&&S&&T+o>E?jt+w:jt)<=C?(rt=At+1,it=_t,xt=jt):et=At}if(it){if(X){const _t=Ku(W),jt=Ku(it),Ut=_t[jt.length],gt=Ut===N0||Ut===_g;let H;if(gt&&xt<=C)H=jt.length;else{const ct=jt.lastIndexOf(N0),ft=jt.lastIndexOf(_g);H=Math.max(ct,ft)+1}H>0&&(rt=H,it=_t.slice(0,rt).join(""),xt=this._getTextWidth(it))}if(it=it.trimRight(),this._addTextLine(it),u=Math.max(u,xt),T+=o,this._shouldHandleEllipsis(T)){this._tryToAddEllipsisToLastLine();break}if(W=Ku(W).slice(rt).join("").trimLeft(),W.length>0&&(dt=this._getTextWidth(W),dt<=C)){this._addTextLine(W),T+=o,u=Math.max(u,dt);break}}else break}else this._addTextLine(W),T+=o,u=Math.max(u,dt),this._shouldHandleEllipsis(T)&&V<J-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),S&&T+o>E)break}this.textHeight=l,this.textWidth=u}_shouldHandleEllipsis(e){const l=+this.fontSize(),u=this.lineHeight()*l,o=this.attrs.height,h=o!==vo&&o!==void 0,g=this.padding(),y=o-g*2;return!(this.wrap()!==Tg)||h&&e+u>y}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,l=e!==vo&&e!==void 0,u=this.padding(),o=e-u*2,h=this.ellipsis(),g=this.textArr[this.textArr.length-1];!g||!h||(l&&(this._getTextWidth(g.text+$1)<o||(g.text=g.text.slice(0,g.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(g.text+$1))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,l=this.hasShadow();return e&&l?!0:super._useBufferCanvas()}};Pe.prototype._fillFunc=Q5;Pe.prototype._strokeFunc=K5;Pe.prototype.className=B5;Pe.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];fa(Pe);R.overWriteSetter(Pe,"width",H2());R.overWriteSetter(Pe,"height",H2());R.addGetterSetter(Pe,"direction",_p);R.addGetterSetter(Pe,"fontFamily","Arial");R.addGetterSetter(Pe,"fontSize",12,vt());R.addGetterSetter(Pe,"fontStyle",Ep);R.addGetterSetter(Pe,"fontVariant",Ep);R.addGetterSetter(Pe,"padding",0,vt());R.addGetterSetter(Pe,"align",Cp);R.addGetterSetter(Pe,"verticalAlign",H5);R.addGetterSetter(Pe,"lineHeight",1,vt());R.addGetterSetter(Pe,"wrap",Y5);R.addGetterSetter(Pe,"ellipsis",!1,pl());R.addGetterSetter(Pe,"letterSpacing",0,vt());R.addGetterSetter(Pe,"text","",kr());R.addGetterSetter(Pe,"textDecoration","");R.addGetterSetter(Pe,"charRenderFunc",void 0);const k5="",Ap="normal";function Mp(f){f.fillText(this.partialText,0,0)}function Np(f){f.strokeText(this.partialText,0,0)}class La extends ht{constructor(e){super(e),this.dummyCanvas=q.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return qe.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const l=this.pathLength;return e>l?null:qe.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=qe.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const l=this.textDecoration(),u=this.fill(),o=this.fontSize(),h=this.glyphInfo,g=l.indexOf("underline")!==-1,y=l.indexOf("line-through")!==-1;g&&e.beginPath();for(let S=0;S<h.length;S++){e.save();const x=h[S].p0;e.translate(x.x,x.y),e.rotate(h[S].rotation),this.partialText=h[S].text,e.fillStrokeShape(this),g&&(S===0&&e.moveTo(0,o/2+1),e.lineTo(h[S].width,o/2+1)),e.restore()}if(g&&(e.strokeStyle=u,e.lineWidth=o/20,e.stroke()),y){e.beginPath();for(let S=0;S<h.length;S++){e.save();const x=h[S].p0;e.translate(x.x,x.y),e.rotate(h[S].rotation),S===0&&e.moveTo(0,0),e.lineTo(h[S].width,0),e.restore()}e.strokeStyle=u,e.lineWidth=o/20,e.stroke()}e.restore()}_hitFunc(e){e.beginPath();const l=this.glyphInfo;if(l.length>=1){const u=l[0].p0;e.moveTo(u.x,u.y)}for(let u=0;u<l.length;u++){const o=l[u].p1;e.lineTo(o.x,o.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return q.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Pe.prototype.setText.call(this,e)}_getContextFont(){return Pe.prototype._getContextFont.call(this)}_getTextSize(e){const u=this.dummyCanvas.getContext("2d");u.save(),u.font=this._getContextFont();const o=u.measureText(e);return u.restore(),{width:o.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=Ku(this.text()),l=[];let u=0;for(let E=0;E<e.length;E++)l.push({char:e[E],width:this._getTextSize(e[E]).width}),u+=l[E].width;const{height:o}=this._getTextSize(this.attrs.text);if(this.textWidth=u,this.textHeight=o,this.glyphInfo=[],!this.attrs.data)return null;const h=this.letterSpacing(),g=this.align(),y=this.kerningFunc(),S=Math.max(this.textWidth+((this.attrs.text||"").length-1)*h,0);let x=0;g==="center"&&(x=Math.max(0,this.pathLength/2-S/2)),g==="right"&&(x=Math.max(0,this.pathLength-S));let C=x;for(let E=0;E<l.length;E++){const T=this._getPointAtLength(C);if(!T)return;const D=l[E].char;let N=l[E].width+h;if(D===" "&&g==="justify"){const W=this.text().split(" ").length-1;N+=(this.pathLength-S)/W}const X=this._getPointAtLength(C+N);if(!X)return;const B=qe.getLineLength(T.x,T.y,X.x,X.y);let w=0;if(y)try{w=y(l[E-1].char,D)*this.fontSize()}catch{w=0}T.x+=w,X.x+=w,this.textWidth+=w;const V=qe.getPointOnLine(w+B/2,T.x,T.y,X.x,X.y),J=Math.atan2(X.y-T.y,X.x-T.x);this.glyphInfo.push({transposeX:V.x,transposeY:V.y,text:e[E],rotation:J,p0:T,p1:X,width:B}),C+=N}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(x){e.push(x.p0.x),e.push(x.p0.y),e.push(x.p1.x),e.push(x.p1.y)});let l=e[0]||0,u=e[0]||0,o=e[1]||0,h=e[1]||0,g,y;for(let x=0;x<e.length/2;x++)g=e[x*2],y=e[x*2+1],l=Math.min(l,g),u=Math.max(u,g),o=Math.min(o,y),h=Math.max(h,y);const S=this.fontSize();return{x:l-S/2,y:o-S/2,width:u-l+S,height:h-o+S}}destroy(){return q.releaseCanvas(this.dummyCanvas),super.destroy()}}La.prototype._fillFunc=Mp;La.prototype._strokeFunc=Np;La.prototype._fillFuncHit=Mp;La.prototype._strokeFuncHit=Np;La.prototype.className="TextPath";La.prototype._attrsAffectingSize=["text","fontSize","data"];fa(La);R.addGetterSetter(La,"data");R.addGetterSetter(La,"fontFamily","Arial");R.addGetterSetter(La,"fontSize",12,vt());R.addGetterSetter(La,"fontStyle",Ap);R.addGetterSetter(La,"align","left");R.addGetterSetter(La,"letterSpacing",0,vt());R.addGetterSetter(La,"textBaseline","middle");R.addGetterSetter(La,"fontVariant",Ap);R.addGetterSetter(La,"text",k5);R.addGetterSetter(La,"textDecoration","");R.addGetterSetter(La,"kerningFunc",void 0);const Op="tr-konva",J5=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(f=>f+`.${Op}`).join(" "),Ag="nodesRect",F5=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],P5={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},I5="ontouchstart"in bt._global;function W5(f,e,l){if(f==="rotater")return l;e+=q.degToRad(P5[f]||0);const u=(q.radToDeg(e)%360+360)%360;return q._inRange(u,315+22.5,360)||q._inRange(u,0,22.5)?"ns-resize":q._inRange(u,45-22.5,45+22.5)?"nesw-resize":q._inRange(u,90-22.5,90+22.5)?"ew-resize":q._inRange(u,135-22.5,135+22.5)?"nwse-resize":q._inRange(u,180-22.5,180+22.5)?"ns-resize":q._inRange(u,225-22.5,225+22.5)?"nesw-resize":q._inRange(u,270-22.5,270+22.5)?"ew-resize":q._inRange(u,315-22.5,315+22.5)?"nwse-resize":(q.error("Transformer has unknown angle for cursor detection: "+u),"pointer")}const q0=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function $5(f){return{x:f.x+f.width/2*Math.cos(f.rotation)+f.height/2*Math.sin(-f.rotation),y:f.y+f.height/2*Math.cos(f.rotation)+f.width/2*Math.sin(f.rotation)}}function Dp(f,e,l){const u=l.x+(f.x-l.x)*Math.cos(e)-(f.y-l.y)*Math.sin(e),o=l.y+(f.x-l.x)*Math.sin(e)+(f.y-l.y)*Math.cos(e);return{...f,rotation:f.rotation+e,x:u,y:o}}function ty(f,e){const l=$5(f);return Dp(f,e,l)}function ey(f,e,l){let u=e;for(let o=0;o<f.length;o++){const h=bt.getAngle(f[o]),g=Math.abs(h-e)%(Math.PI*2);Math.min(g,Math.PI*2-g)<l&&(u=h)}return u}let A2=0;class pe extends Co{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(J5,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return q.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return Op+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const l=e.filter(o=>o.isAncestorOf(this)?(q.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=l,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(o=>{const h=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(o._attrsAffectingSize.length){const g=o._attrsAffectingSize.map(y=>y+"Change."+this._getEventNamespace()).join(" ");o.on(g,h)}o.on(F5.map(g=>g+`.${this._getEventNamespace()}`).join(" "),h),o.on(`absoluteTransformChange.${this._getEventNamespace()}`,h),this._proxyDrag(o)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let l;e.on(`dragstart.${this._getEventNamespace()}`,u=>{l=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(u,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,u=>{if(!l)return;const o=e.getAbsolutePosition(),h=o.x-l.x,g=o.y-l.y;this.nodes().forEach(y=>{if(y===e||y.isDragging())return;const S=y.getAbsolutePosition();y.setAbsolutePosition({x:S.x+h,y:S.y+g}),y.startDrag(u)}),l=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(Ag),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(Ag,this.__getNodeRect)}__getNodeShape(e,l=this.rotation(),u){const o=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),h=e.getAbsoluteScale(u),g=e.getAbsolutePosition(u),y=o.x*h.x-e.offsetX()*h.x,S=o.y*h.y-e.offsetY()*h.y,x=(bt.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),C={x:g.x+y*Math.cos(x)+S*Math.sin(-x),y:g.y+S*Math.cos(x)+y*Math.sin(x),width:o.width*h.x,height:o.height*h.y,rotation:x};return Dp(C,-bt.getAngle(l),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const l=[];this.nodes().map(x=>{const C=x.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),E=[{x:C.x,y:C.y},{x:C.x+C.width,y:C.y},{x:C.x+C.width,y:C.y+C.height},{x:C.x,y:C.y+C.height}],T=x.getAbsoluteTransform();E.forEach(function(D){const N=T.point(D);l.push(N)})});const u=new hi;u.rotate(-bt.getAngle(this.rotation()));let o=1/0,h=1/0,g=-1/0,y=-1/0;l.forEach(function(x){const C=u.point(x);o===void 0&&(o=g=C.x,h=y=C.y),o=Math.min(o,C.x),h=Math.min(h,C.y),g=Math.max(g,C.x),y=Math.max(y,C.y)}),u.invert();const S=u.point({x:o,y:h});return{x:S.x,y:S.y,width:g-o,height:y-h,rotation:bt.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),q0.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const l=new Th({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:I5?10:"auto"}),u=this;l.on("mousedown touchstart",function(o){u._handleMouseDown(o)}),l.on("dragstart",o=>{l.stopDrag(),o.cancelBubble=!0}),l.on("dragend",o=>{o.cancelBubble=!0}),l.on("mouseenter",()=>{const o=bt.getAngle(this.rotation()),h=this.rotateAnchorCursor(),g=W5(e,o,h);l.getStage().content&&(l.getStage().content.style.cursor=g),this._cursorChange=!0}),l.on("mouseout",()=>{l.getStage().content&&(l.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(l)}_createBack(){const e=new ht({name:"back",width:0,height:0,sceneFunc(l,u){const o=u.getParent(),h=o.padding();l.beginPath(),l.rect(-h,-h,u.width()+h*2,u.height()+h*2),l.moveTo(u.width()/2,-h),o.rotateEnabled()&&o.rotateLineVisible()&&l.lineTo(u.width()/2,-o.rotateAnchorOffset()*q._sign(u.height())-h),l.fillStrokeShape(u)},hitFunc:(l,u)=>{if(!this.shouldOverdrawWholeArea())return;const o=this.padding();l.beginPath(),l.rect(-o,-o,u.width()+o*2,u.height()+o*2),l.fillStrokeShape(u)}});this.add(e),this._proxyDrag(e),e.on("dragstart",l=>{l.cancelBubble=!0}),e.on("dragmove",l=>{l.cancelBubble=!0}),e.on("dragend",l=>{l.cancelBubble=!0}),this.on("dragmove",l=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const l=this._getNodeRect(),u=l.width,o=l.height,h=Math.sqrt(Math.pow(u,2)+Math.pow(o,2));this.sin=Math.abs(o/h),this.cos=Math.abs(u/h),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const g=e.target.getAbsolutePosition(),y=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:y.x-g.x,y:y.y-g.y},A2++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(S=>{S._fire("transformstart",{evt:e.evt,target:S})})}_handleMouseMove(e){let l,u,o;const h=this.findOne("."+this._movingAnchorName),g=h.getStage();g.setPointersPositions(e);const y=g.getPointerPosition();let S={x:y.x-this._anchorDragOffset.x,y:y.y-this._anchorDragOffset.y};const x=h.getAbsolutePosition();this.anchorDragBoundFunc()&&(S=this.anchorDragBoundFunc()(x,S,e)),h.setAbsolutePosition(S);const C=h.getAbsolutePosition();if(x.x===C.x&&x.y===C.y)return;if(this._movingAnchorName==="rotater"){const V=this._getNodeRect();l=h.x()-V.width/2,u=-h.y()+V.height/2;let J=Math.atan2(-u,l)+Math.PI/2;V.height<0&&(J-=Math.PI);const dt=bt.getAngle(this.rotation())+J,rt=bt.getAngle(this.rotationSnapTolerance()),it=ey(this.rotationSnaps(),dt,rt)-V.rotation,xt=ty(V,it);this._fitNodesInto(xt,e);return}const E=this.shiftBehavior();let T;E==="inverted"?T=this.keepRatio()&&!e.shiftKey:E==="none"?T=this.keepRatio():T=this.keepRatio()||e.shiftKey;let D=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(T){const V=D?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};o=Math.sqrt(Math.pow(V.x-h.x(),2)+Math.pow(V.y-h.y(),2));const J=this.findOne(".top-left").x()>V.x?-1:1,W=this.findOne(".top-left").y()>V.y?-1:1;l=o*this.cos*J,u=o*this.sin*W,this.findOne(".top-left").x(V.x-l),this.findOne(".top-left").y(V.y-u)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(h.y());else if(this._movingAnchorName==="top-right"){if(T){const V=D?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};o=Math.sqrt(Math.pow(h.x()-V.x,2)+Math.pow(V.y-h.y(),2));const J=this.findOne(".top-right").x()<V.x?-1:1,W=this.findOne(".top-right").y()>V.y?-1:1;l=o*this.cos*J,u=o*this.sin*W,this.findOne(".top-right").x(V.x+l),this.findOne(".top-right").y(V.y-u)}var N=h.position();this.findOne(".top-left").y(N.y),this.findOne(".bottom-right").x(N.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(h.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(h.x());else if(this._movingAnchorName==="bottom-left"){if(T){const V=D?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};o=Math.sqrt(Math.pow(V.x-h.x(),2)+Math.pow(h.y()-V.y,2));const J=V.x<h.x()?-1:1,W=h.y()<V.y?-1:1;l=o*this.cos*J,u=o*this.sin*W,h.x(V.x-l),h.y(V.y+u)}N=h.position(),this.findOne(".top-left").x(N.x),this.findOne(".bottom-right").y(N.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(h.y());else if(this._movingAnchorName==="bottom-right"){if(T){const V=D?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};o=Math.sqrt(Math.pow(h.x()-V.x,2)+Math.pow(h.y()-V.y,2));const J=this.findOne(".bottom-right").x()<V.x?-1:1,W=this.findOne(".bottom-right").y()<V.y?-1:1;l=o*this.cos*J,u=o*this.sin*W,this.findOne(".bottom-right").x(V.x+l),this.findOne(".bottom-right").y(V.y+u)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(D=this.centeredScaling()||e.altKey,D){const V=this.findOne(".top-left"),J=this.findOne(".bottom-right"),W=V.x(),dt=V.y(),rt=this.getWidth()-J.x(),et=this.getHeight()-J.y();J.move({x:-W,y:-dt}),V.move({x:rt,y:et})}const X=this.findOne(".top-left").getAbsolutePosition();l=X.x,u=X.y;const B=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),w=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:l,y:u,width:B,height:w,rotation:bt.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var l;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const u=this.getNode();A2--,this._fire("transformend",{evt:e,target:u}),(l=this.getLayer())===null||l===void 0||l.batchDraw(),u&&this._nodes.forEach(o=>{var h;o._fire("transformend",{evt:e,target:o}),(h=o.getLayer())===null||h===void 0||h.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,l){const u=this._getNodeRect(),o=1;if(q._inRange(e.width,-this.padding()*2-o,o)){this.update();return}if(q._inRange(e.height,-this.padding()*2-o,o)){this.update();return}const h=new hi;if(h.rotate(bt.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const T=h.point({x:-this.padding()*2,y:0});e.x+=T.x,e.y+=T.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=T.x,this._anchorDragOffset.y-=T.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const T=h.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=T.x,this._anchorDragOffset.y-=T.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const T=h.point({x:0,y:-this.padding()*2});e.x+=T.x,e.y+=T.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=T.x,this._anchorDragOffset.y-=T.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const T=h.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=T.x,this._anchorDragOffset.y-=T.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const T=this.boundBoxFunc()(u,e);T?e=T:q.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const g=1e7,y=new hi;y.translate(u.x,u.y),y.rotate(u.rotation),y.scale(u.width/g,u.height/g);const S=new hi,x=e.width/g,C=e.height/g;this.flipEnabled()===!1?(S.translate(e.x,e.y),S.rotate(e.rotation),S.translate(e.width<0?e.width:0,e.height<0?e.height:0),S.scale(Math.abs(x),Math.abs(C))):(S.translate(e.x,e.y),S.rotate(e.rotation),S.scale(x,C));const E=S.multiply(y.invert());this._nodes.forEach(T=>{var D;if(!T.getStage())return;const N=T.getParent().getAbsoluteTransform(),X=T.getTransform().copy();X.translate(T.offsetX(),T.offsetY());const B=new hi;B.multiply(N.copy().invert()).multiply(E).multiply(N).multiply(X);const w=B.decompose();T.setAttrs(w),(D=T.getLayer())===null||D===void 0||D.batchDraw()}),this.rotation(q._getRotation(e.rotation)),this._nodes.forEach(T=>{this._fire("transform",{evt:l,target:T}),T._fire("transform",{evt:l,target:T})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,l){this.findOne(e).setAttrs(l)}update(){var e;const l=this._getNodeRect();this.rotation(q._getRotation(l.rotation));const u=l.width,o=l.height,h=this.enabledAnchors(),g=this.resizeEnabled(),y=this.padding(),S=this.anchorSize(),x=this.find("._anchor");x.forEach(E=>{E.setAttrs({width:S,height:S,offsetX:S/2,offsetY:S/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:S/2+y,offsetY:S/2+y,visible:g&&h.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:u/2,y:0,offsetY:S/2+y,visible:g&&h.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:u,y:0,offsetX:S/2-y,offsetY:S/2+y,visible:g&&h.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:o/2,offsetX:S/2+y,visible:g&&h.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:u,y:o/2,offsetX:S/2-y,visible:g&&h.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:o,offsetX:S/2+y,offsetY:S/2-y,visible:g&&h.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:u/2,y:o,offsetY:S/2-y,visible:g&&h.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:u,y:o,offsetX:S/2-y,offsetY:S/2-y,visible:g&&h.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:u/2,y:-this.rotateAnchorOffset()*q._sign(o)-y,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:u,height:o,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(E=>E.draggable()),x:0,y:0});const C=this.anchorStyleFunc();C&&x.forEach(E=>{C(E)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Co.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return yt.prototype.toObject.call(this)}clone(e){return yt.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}pe.isTransforming=()=>A2>0;function ay(f){return f instanceof Array||q.warn("enabledAnchors value should be an array"),f instanceof Array&&f.forEach(function(e){q0.indexOf(e)===-1&&q.warn("Unknown anchor name: "+e+". Available names are: "+q0.join(", "))}),f||[]}pe.prototype.className="Transformer";fa(pe);R.addGetterSetter(pe,"enabledAnchors",q0,ay);R.addGetterSetter(pe,"flipEnabled",!0,pl());R.addGetterSetter(pe,"resizeEnabled",!0);R.addGetterSetter(pe,"anchorSize",10,vt());R.addGetterSetter(pe,"rotateEnabled",!0);R.addGetterSetter(pe,"rotateLineVisible",!0);R.addGetterSetter(pe,"rotationSnaps",[]);R.addGetterSetter(pe,"rotateAnchorOffset",50,vt());R.addGetterSetter(pe,"rotateAnchorCursor","crosshair");R.addGetterSetter(pe,"rotationSnapTolerance",5,vt());R.addGetterSetter(pe,"borderEnabled",!0);R.addGetterSetter(pe,"anchorStroke","rgb(0, 161, 255)");R.addGetterSetter(pe,"anchorStrokeWidth",1,vt());R.addGetterSetter(pe,"anchorFill","white");R.addGetterSetter(pe,"anchorCornerRadius",0,vt());R.addGetterSetter(pe,"borderStroke","rgb(0, 161, 255)");R.addGetterSetter(pe,"borderStrokeWidth",1,vt());R.addGetterSetter(pe,"borderDash");R.addGetterSetter(pe,"keepRatio",!0);R.addGetterSetter(pe,"shiftBehavior","default");R.addGetterSetter(pe,"centeredScaling",!1);R.addGetterSetter(pe,"ignoreStroke",!1);R.addGetterSetter(pe,"padding",0,vt());R.addGetterSetter(pe,"nodes");R.addGetterSetter(pe,"node");R.addGetterSetter(pe,"boundBoxFunc");R.addGetterSetter(pe,"anchorDragBoundFunc");R.addGetterSetter(pe,"anchorStyleFunc");R.addGetterSetter(pe,"shouldOverdrawWholeArea",!1);R.addGetterSetter(pe,"useSingleNodeRotation",!0);R.backCompat(pe,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class Ks extends ht{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,bt.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Ks.prototype.className="Wedge";Ks.prototype._centroid=!0;Ks.prototype._attrsAffectingSize=["radius"];fa(Ks);R.addGetterSetter(Ks,"radius",0,vt());R.addGetterSetter(Ks,"angle",0,vt());R.addGetterSetter(Ks,"clockwise",!1);R.backCompat(Ks,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function Mg(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const ny=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],iy=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function ly(f,e){const l=f.data,u=f.width,o=f.height;let h,g,y,S,x,C,E,T,D,N,X,B,w,V,J,W,dt,rt,et,it;const xt=e+e+1,At=u-1,zt=o-1,_t=e+1,jt=_t*(_t+1)/2,Ut=new Mg,gt=ny[e],H=iy[e];let ct=null,ft=Ut,Et=null,Ot=null;for(let z=1;z<xt;z++)ft=ft.next=new Mg,z===_t&&(ct=ft);ft.next=Ut,y=g=0;for(let z=0;z<o;z++){B=w=V=J=S=x=C=E=0,T=_t*(W=l[g]),D=_t*(dt=l[g+1]),N=_t*(rt=l[g+2]),X=_t*(et=l[g+3]),S+=jt*W,x+=jt*dt,C+=jt*rt,E+=jt*et,ft=Ut;for(let $=0;$<_t;$++)ft.r=W,ft.g=dt,ft.b=rt,ft.a=et,ft=ft.next;for(let $=1;$<_t;$++)h=g+((At<$?At:$)<<2),S+=(ft.r=W=l[h])*(it=_t-$),x+=(ft.g=dt=l[h+1])*it,C+=(ft.b=rt=l[h+2])*it,E+=(ft.a=et=l[h+3])*it,B+=W,w+=dt,V+=rt,J+=et,ft=ft.next;Et=Ut,Ot=ct;for(let $=0;$<u;$++)l[g+3]=et=E*gt>>H,et!==0?(et=255/et,l[g]=(S*gt>>H)*et,l[g+1]=(x*gt>>H)*et,l[g+2]=(C*gt>>H)*et):l[g]=l[g+1]=l[g+2]=0,S-=T,x-=D,C-=N,E-=X,T-=Et.r,D-=Et.g,N-=Et.b,X-=Et.a,h=y+((h=$+e+1)<At?h:At)<<2,B+=Et.r=l[h],w+=Et.g=l[h+1],V+=Et.b=l[h+2],J+=Et.a=l[h+3],S+=B,x+=w,C+=V,E+=J,Et=Et.next,T+=W=Ot.r,D+=dt=Ot.g,N+=rt=Ot.b,X+=et=Ot.a,B-=W,w-=dt,V-=rt,J-=et,Ot=Ot.next,g+=4;y+=u}for(let z=0;z<u;z++){w=V=J=B=x=C=E=S=0,g=z<<2,T=_t*(W=l[g]),D=_t*(dt=l[g+1]),N=_t*(rt=l[g+2]),X=_t*(et=l[g+3]),S+=jt*W,x+=jt*dt,C+=jt*rt,E+=jt*et,ft=Ut;for(let lt=0;lt<_t;lt++)ft.r=W,ft.g=dt,ft.b=rt,ft.a=et,ft=ft.next;let $=u;for(let lt=1;lt<=e;lt++)g=$+z<<2,S+=(ft.r=W=l[g])*(it=_t-lt),x+=(ft.g=dt=l[g+1])*it,C+=(ft.b=rt=l[g+2])*it,E+=(ft.a=et=l[g+3])*it,B+=W,w+=dt,V+=rt,J+=et,ft=ft.next,lt<zt&&($+=u);g=z,Et=Ut,Ot=ct;for(let lt=0;lt<o;lt++)h=g<<2,l[h+3]=et=E*gt>>H,et>0?(et=255/et,l[h]=(S*gt>>H)*et,l[h+1]=(x*gt>>H)*et,l[h+2]=(C*gt>>H)*et):l[h]=l[h+1]=l[h+2]=0,S-=T,x-=D,C-=N,E-=X,T-=Et.r,D-=Et.g,N-=Et.b,X-=Et.a,h=z+((h=lt+_t)<zt?h:zt)*u<<2,S+=B+=Et.r=l[h],x+=w+=Et.g=l[h+1],C+=V+=Et.b=l[h+2],E+=J+=Et.a=l[h+3],Et=Et.next,T+=W=Ot.r,D+=dt=Ot.g,N+=rt=Ot.b,X+=et=Ot.a,B-=W,w-=dt,V-=rt,J-=et,Ot=Ot.next,g+=u}}const sy=function(e){const l=Math.round(this.blurRadius());l>0&&ly(e,l)};R.addGetterSetter(yt,"blurRadius",0,vt(),R.afterSetFilter);const uy=function(f){const e=this.brightness()*255,l=f.data,u=l.length;for(let o=0;o<u;o+=4)l[o]+=e,l[o+1]+=e,l[o+2]+=e};R.addGetterSetter(yt,"brightness",0,vt(),R.afterSetFilter);const ry=function(f){const e=this.brightness(),l=f.data,u=l.length;for(let o=0;o<u;o+=4)l[o]=Math.min(255,l[o]*e),l[o+1]=Math.min(255,l[o+1]*e),l[o+2]=Math.min(255,l[o+2]*e)},cy=function(f){const e=Math.pow((this.contrast()+100)/100,2),l=f.data,u=l.length;let o=150,h=150,g=150;for(let y=0;y<u;y+=4)o=l[y],h=l[y+1],g=l[y+2],o/=255,o-=.5,o*=e,o+=.5,o*=255,h/=255,h-=.5,h*=e,h+=.5,h*=255,g/=255,g-=.5,g*=e,g+=.5,g*=255,o=o<0?0:o>255?255:o,h=h<0?0:h>255?255:h,g=g<0?0:g>255?255:g,l[y]=o,l[y+1]=h,l[y+2]=g};R.addGetterSetter(yt,"contrast",0,vt(),R.afterSetFilter);const oy=function(f){var e,l,u,o,h,g,y,S,x;const C=f.data,E=f.width,T=f.height,D=Math.min(1,Math.max(0,(l=(e=this.embossStrength)===null||e===void 0?void 0:e.call(this))!==null&&l!==void 0?l:.5)),N=Math.min(1,Math.max(0,(o=(u=this.embossWhiteLevel)===null||u===void 0?void 0:u.call(this))!==null&&o!==void 0?o:.5)),B=(y={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(g=(h=this.embossDirection)===null||h===void 0?void 0:h.call(this))!==null&&g!==void 0?g:"top-left"])!==null&&y!==void 0?y:315,w=!!((x=(S=this.embossBlend)===null||S===void 0?void 0:S.call(this))!==null&&x!==void 0&&x),V=D*10,J=N*255,W=B*Math.PI/180,dt=Math.cos(W),rt=Math.sin(W),et=128/1020*V,it=new Uint8ClampedArray(C),xt=new Float32Array(E*T);for(let Ut=0,gt=0;gt<C.length;gt+=4,Ut++)xt[Ut]=.2126*it[gt]+.7152*it[gt+1]+.0722*it[gt+2];const At=[-1,0,1,-2,0,2,-1,0,1],zt=[-1,-2,-1,0,0,0,1,2,1],_t=[-E-1,-E,-E+1,-1,0,1,E-1,E,E+1],jt=Ut=>Ut<0?0:Ut>255?255:Ut;for(let Ut=1;Ut<T-1;Ut++)for(let gt=1;gt<E-1;gt++){const H=Ut*E+gt;let ct=0,ft=0;ct+=xt[H+_t[0]]*At[0],ft+=xt[H+_t[0]]*zt[0],ct+=xt[H+_t[1]]*At[1],ft+=xt[H+_t[1]]*zt[1],ct+=xt[H+_t[2]]*At[2],ft+=xt[H+_t[2]]*zt[2],ct+=xt[H+_t[3]]*At[3],ft+=xt[H+_t[3]]*zt[3],ct+=xt[H+_t[5]]*At[5],ft+=xt[H+_t[5]]*zt[5],ct+=xt[H+_t[6]]*At[6],ft+=xt[H+_t[6]]*zt[6],ct+=xt[H+_t[7]]*At[7],ft+=xt[H+_t[7]]*zt[7],ct+=xt[H+_t[8]]*At[8],ft+=xt[H+_t[8]]*zt[8];const Et=dt*ct+rt*ft,Ot=jt(J+Et*et),z=H*4;if(w){const $=Ot-J;C[z]=jt(it[z]+$),C[z+1]=jt(it[z+1]+$),C[z+2]=jt(it[z+2]+$),C[z+3]=it[z+3]}else C[z]=C[z+1]=C[z+2]=Ot,C[z+3]=it[z+3]}for(let Ut=0;Ut<E;Ut++){let gt=Ut*4,H=((T-1)*E+Ut)*4;C[gt]=it[gt],C[gt+1]=it[gt+1],C[gt+2]=it[gt+2],C[gt+3]=it[gt+3],C[H]=it[H],C[H+1]=it[H+1],C[H+2]=it[H+2],C[H+3]=it[H+3]}for(let Ut=1;Ut<T-1;Ut++){let gt=Ut*E*4,H=(Ut*E+(E-1))*4;C[gt]=it[gt],C[gt+1]=it[gt+1],C[gt+2]=it[gt+2],C[gt+3]=it[gt+3],C[H]=it[H],C[H+1]=it[H+1],C[H+2]=it[H+2],C[H+3]=it[H+3]}return f};R.addGetterSetter(yt,"embossStrength",.5,vt(),R.afterSetFilter);R.addGetterSetter(yt,"embossWhiteLevel",.5,vt(),R.afterSetFilter);R.addGetterSetter(yt,"embossDirection","top-left",void 0,R.afterSetFilter);R.addGetterSetter(yt,"embossBlend",!1,void 0,R.afterSetFilter);function e2(f,e,l,u,o){const h=l-e,g=o-u;if(h===0)return u+g/2;if(g===0)return u;let y=(f-e)/h;return y=g*y+u,y}const fy=function(f){const e=f.data,l=e.length;let u=e[0],o=u,h,g=e[1],y=g,S,x=e[2],C=x,E;const T=this.enhance();if(T===0)return;for(let J=0;J<l;J+=4)h=e[J+0],h<u?u=h:h>o&&(o=h),S=e[J+1],S<g?g=S:S>y&&(y=S),E=e[J+2],E<x?x=E:E>C&&(C=E);o===u&&(o=255,u=0),y===g&&(y=255,g=0),C===x&&(C=255,x=0);let D,N,X,B,w,V;if(T>0)D=o+T*(255-o),N=u-T*(u-0),X=y+T*(255-y),B=g-T*(g-0),w=C+T*(255-C),V=x-T*(x-0);else{const J=(o+u)*.5;D=o+T*(o-J),N=u+T*(u-J);const W=(y+g)*.5;X=y+T*(y-W),B=g+T*(g-W);const dt=(C+x)*.5;w=C+T*(C-dt),V=x+T*(x-dt)}for(let J=0;J<l;J+=4)e[J+0]=e2(e[J+0],u,o,N,D),e[J+1]=e2(e[J+1],g,y,B,X),e[J+2]=e2(e[J+2],x,C,V,w)};R.addGetterSetter(yt,"enhance",0,vt(),R.afterSetFilter);const hy=function(f){const e=f.data,l=e.length;for(let u=0;u<l;u+=4){const o=.34*e[u]+.5*e[u+1]+.16*e[u+2];e[u]=o,e[u+1]=o,e[u+2]=o}};R.addGetterSetter(yt,"hue",0,vt(),R.afterSetFilter);R.addGetterSetter(yt,"saturation",0,vt(),R.afterSetFilter);R.addGetterSetter(yt,"luminance",0,vt(),R.afterSetFilter);const dy=function(f){const e=f.data,l=e.length,u=1,o=Math.pow(2,this.saturation()),h=Math.abs(this.hue()+360)%360,g=this.luminance()*127,y=u*o*Math.cos(h*Math.PI/180),S=u*o*Math.sin(h*Math.PI/180),x=.299*u+.701*y+.167*S,C=.587*u-.587*y+.33*S,E=.114*u-.114*y-.497*S,T=.299*u-.299*y-.328*S,D=.587*u+.413*y+.035*S,N=.114*u-.114*y+.293*S,X=.299*u-.3*y+1.25*S,B=.587*u-.586*y-1.05*S,w=.114*u+.886*y-.2*S;let V,J,W,dt;for(let rt=0;rt<l;rt+=4)V=e[rt+0],J=e[rt+1],W=e[rt+2],dt=e[rt+3],e[rt+0]=x*V+C*J+E*W+g,e[rt+1]=T*V+D*J+N*W+g,e[rt+2]=X*V+B*J+w*W+g,e[rt+3]=dt},my=function(f){const e=f.data,l=e.length,u=Math.pow(2,this.value()),o=Math.pow(2,this.saturation()),h=Math.abs(this.hue()+360)%360,g=u*o*Math.cos(h*Math.PI/180),y=u*o*Math.sin(h*Math.PI/180),S=.299*u+.701*g+.167*y,x=.587*u-.587*g+.33*y,C=.114*u-.114*g-.497*y,E=.299*u-.299*g-.328*y,T=.587*u+.413*g+.035*y,D=.114*u-.114*g+.293*y,N=.299*u-.3*g+1.25*y,X=.587*u-.586*g-1.05*y,B=.114*u+.886*g-.2*y;for(let w=0;w<l;w+=4){const V=e[w+0],J=e[w+1],W=e[w+2],dt=e[w+3];e[w+0]=S*V+x*J+C*W,e[w+1]=E*V+T*J+D*W,e[w+2]=N*V+X*J+B*W,e[w+3]=dt}};R.addGetterSetter(yt,"hue",0,vt(),R.afterSetFilter);R.addGetterSetter(yt,"saturation",0,vt(),R.afterSetFilter);R.addGetterSetter(yt,"value",0,vt(),R.afterSetFilter);const gy=function(f){const e=f.data,l=e.length;for(let u=0;u<l;u+=4)e[u]=255-e[u],e[u+1]=255-e[u+1],e[u+2]=255-e[u+2]},py=function(f,e,l){const u=f.data,o=e.data,h=f.width,g=f.height,y=l.polarCenterX||h/2,S=l.polarCenterY||g/2;let x=Math.sqrt(y*y+S*S),C=h-y,E=g-S;const T=Math.sqrt(C*C+E*E);x=T>x?T:x;const D=g,N=h,X=360/N*Math.PI/180;for(let B=0;B<N;B+=1){const w=Math.sin(B*X),V=Math.cos(B*X);for(let J=0;J<D;J+=1){C=Math.floor(y+x*J/D*V),E=Math.floor(S+x*J/D*w);let W=(E*h+C)*4;const dt=u[W+0],rt=u[W+1],et=u[W+2],it=u[W+3];W=(B+J*h)*4,o[W+0]=dt,o[W+1]=rt,o[W+2]=et,o[W+3]=it}}},yy=function(f,e,l){const u=f.data,o=e.data,h=f.width,g=f.height,y=l.polarCenterX||h/2,S=l.polarCenterY||g/2;let x=Math.sqrt(y*y+S*S),C=h-y,E=g-S;const T=Math.sqrt(C*C+E*E);x=T>x?T:x;const D=g,N=h,X=0;let B,w;for(C=0;C<h;C+=1)for(E=0;E<g;E+=1){const V=C-y,J=E-S,W=Math.sqrt(V*V+J*J)*D/x;let dt=(Math.atan2(J,V)*180/Math.PI+360+X)%360;dt=dt*N/360,B=Math.floor(dt),w=Math.floor(W);let rt=(w*h+B)*4;const et=u[rt+0],it=u[rt+1],xt=u[rt+2],At=u[rt+3];rt=(E*h+C)*4,o[rt+0]=et,o[rt+1]=it,o[rt+2]=xt,o[rt+3]=At}},vy=function(f){const e=f.width,l=f.height;let u,o,h,g,y,S,x,C,E,T,D=Math.round(this.kaleidoscopePower());const N=Math.round(this.kaleidoscopeAngle()),X=Math.floor(e*(N%360)/360);if(D<1)return;const B=q.createCanvasElement();B.width=e,B.height=l;const w=B.getContext("2d").getImageData(0,0,e,l);q.releaseCanvas(B),py(f,w,{polarCenterX:e/2,polarCenterY:l/2});let V=e/Math.pow(2,D);for(;V<=8;)V=V*2,D-=1;V=Math.ceil(V);let J=V,W=0,dt=J,rt=1;for(X+V>e&&(W=J,dt=0,rt=-1),o=0;o<l;o+=1)for(u=W;u!==dt;u+=rt)h=Math.round(u+X)%e,E=(e*o+h)*4,y=w.data[E+0],S=w.data[E+1],x=w.data[E+2],C=w.data[E+3],T=(e*o+u)*4,w.data[T+0]=y,w.data[T+1]=S,w.data[T+2]=x,w.data[T+3]=C;for(o=0;o<l;o+=1)for(J=Math.floor(V),g=0;g<D;g+=1){for(u=0;u<J+1;u+=1)E=(e*o+u)*4,y=w.data[E+0],S=w.data[E+1],x=w.data[E+2],C=w.data[E+3],T=(e*o+J*2-u-1)*4,w.data[T+0]=y,w.data[T+1]=S,w.data[T+2]=x,w.data[T+3]=C;J*=2}yy(w,f,{})};R.addGetterSetter(yt,"kaleidoscopePower",2,vt(),R.afterSetFilter);R.addGetterSetter(yt,"kaleidoscopeAngle",0,vt(),R.afterSetFilter);function D0(f,e,l){let u=(l*f.width+e)*4;const o=[];return o.push(f.data[u++],f.data[u++],f.data[u++],f.data[u++]),o}function oh(f,e){return Math.sqrt(Math.pow(f[0]-e[0],2)+Math.pow(f[1]-e[1],2)+Math.pow(f[2]-e[2],2))}function Sy(f){const e=[0,0,0];for(let l=0;l<f.length;l++)e[0]+=f[l][0],e[1]+=f[l][1],e[2]+=f[l][2];return e[0]/=f.length,e[1]/=f.length,e[2]/=f.length,e}function by(f,e){const l=D0(f,0,0),u=D0(f,f.width-1,0),o=D0(f,0,f.height-1),h=D0(f,f.width-1,f.height-1),g=e||10;if(oh(l,u)<g&&oh(u,h)<g&&oh(h,o)<g&&oh(o,l)<g){const y=Sy([u,l,h,o]),S=[];for(let x=0;x<f.width*f.height;x++){const C=oh(y,[f.data[x*4],f.data[x*4+1],f.data[x*4+2]]);S[x]=C<g?0:255}return S}}function xy(f,e){for(let l=0;l<f.width*f.height;l++)f.data[4*l+3]=e[l]}function _y(f,e,l){const u=[1,1,1,1,0,1,1,1,1],o=Math.round(Math.sqrt(u.length)),h=Math.floor(o/2),g=[];for(let y=0;y<l;y++)for(let S=0;S<e;S++){const x=y*e+S;let C=0;for(let E=0;E<o;E++)for(let T=0;T<o;T++){const D=y+E-h,N=S+T-h;if(D>=0&&D<l&&N>=0&&N<e){const X=D*e+N,B=u[E*o+T];C+=f[X]*B}}g[x]=C===2040?255:0}return g}function Cy(f,e,l){const u=[1,1,1,1,1,1,1,1,1],o=Math.round(Math.sqrt(u.length)),h=Math.floor(o/2),g=[];for(let y=0;y<l;y++)for(let S=0;S<e;S++){const x=y*e+S;let C=0;for(let E=0;E<o;E++)for(let T=0;T<o;T++){const D=y+E-h,N=S+T-h;if(D>=0&&D<l&&N>=0&&N<e){const X=D*e+N,B=u[E*o+T];C+=f[X]*B}}g[x]=C>=1020?255:0}return g}function Ey(f,e,l){const u=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],o=Math.round(Math.sqrt(u.length)),h=Math.floor(o/2),g=[];for(let y=0;y<l;y++)for(let S=0;S<e;S++){const x=y*e+S;let C=0;for(let E=0;E<o;E++)for(let T=0;T<o;T++){const D=y+E-h,N=S+T-h;if(D>=0&&D<l&&N>=0&&N<e){const X=D*e+N,B=u[E*o+T];C+=f[X]*B}}g[x]=C}return g}const Ty=function(f){const e=this.threshold();let l=by(f,e);return l&&(l=_y(l,f.width,f.height),l=Cy(l,f.width,f.height),l=Ey(l,f.width,f.height),xy(f,l)),f};R.addGetterSetter(yt,"threshold",0,vt(),R.afterSetFilter);const Ay=function(f){const e=this.noise()*255,l=f.data,u=l.length,o=e/2;for(let h=0;h<u;h+=4)l[h+0]+=o-2*o*Math.random(),l[h+1]+=o-2*o*Math.random(),l[h+2]+=o-2*o*Math.random()};R.addGetterSetter(yt,"noise",.2,vt(),R.afterSetFilter);const My=function(f){let e=Math.ceil(this.pixelSize()),l=f.width,u=f.height,o=Math.ceil(l/e),h=Math.ceil(u/e),g=f.data;if(e<=0){q.error("pixelSize value can not be <= 0");return}for(let y=0;y<o;y+=1)for(let S=0;S<h;S+=1){let x=0,C=0,E=0,T=0;const D=y*e,N=D+e,X=S*e,B=X+e;let w=0;for(let V=D;V<N;V+=1)if(!(V>=l))for(let J=X;J<B;J+=1){if(J>=u)continue;const W=(l*J+V)*4;x+=g[W+0],C+=g[W+1],E+=g[W+2],T+=g[W+3],w+=1}x=x/w,C=C/w,E=E/w,T=T/w;for(let V=D;V<N;V+=1)if(!(V>=l))for(let J=X;J<B;J+=1){if(J>=u)continue;const W=(l*J+V)*4;g[W+0]=x,g[W+1]=C,g[W+2]=E,g[W+3]=T}}};R.addGetterSetter(yt,"pixelSize",8,vt(),R.afterSetFilter);const Ny=function(f){const e=Math.round(this.levels()*254)+1,l=f.data,u=l.length,o=255/e;for(let h=0;h<u;h+=1)l[h]=Math.floor(l[h]/o)*o};R.addGetterSetter(yt,"levels",.5,vt(),R.afterSetFilter);const Oy=function(f){const e=f.data,l=e.length,u=this.red(),o=this.green(),h=this.blue();for(let g=0;g<l;g+=4){const y=(.34*e[g]+.5*e[g+1]+.16*e[g+2])/255;e[g]=y*u,e[g+1]=y*o,e[g+2]=y*h,e[g+3]=e[g+3]}};R.addGetterSetter(yt,"red",0,function(f){return this._filterUpToDate=!1,f>255?255:f<0?0:Math.round(f)});R.addGetterSetter(yt,"green",0,function(f){return this._filterUpToDate=!1,f>255?255:f<0?0:Math.round(f)});R.addGetterSetter(yt,"blue",0,$g,R.afterSetFilter);const Dy=function(f){const e=f.data,l=e.length,u=this.red(),o=this.green(),h=this.blue(),g=this.alpha();for(let y=0;y<l;y+=4){const S=1-g;e[y]=u*g+e[y]*S,e[y+1]=o*g+e[y+1]*S,e[y+2]=h*g+e[y+2]*S}};R.addGetterSetter(yt,"red",0,function(f){return this._filterUpToDate=!1,f>255?255:f<0?0:Math.round(f)});R.addGetterSetter(yt,"green",0,function(f){return this._filterUpToDate=!1,f>255?255:f<0?0:Math.round(f)});R.addGetterSetter(yt,"blue",0,$g,R.afterSetFilter);R.addGetterSetter(yt,"alpha",1,function(f){return this._filterUpToDate=!1,f>1?1:f<0?0:f});const Ry=function(f){const e=f.data,l=e.length;for(let u=0;u<l;u+=4){const o=e[u+0],h=e[u+1],g=e[u+2];e[u+0]=Math.min(255,o*.393+h*.769+g*.189),e[u+1]=Math.min(255,o*.349+h*.686+g*.168),e[u+2]=Math.min(255,o*.272+h*.534+g*.131)}},zy=function(f){const l=f.data;for(let u=0;u<l.length;u+=4){const o=l[u],h=l[u+1],g=l[u+2];.2126*o+.7152*h+.0722*g>=128&&(l[u]=255-o,l[u+1]=255-h,l[u+2]=255-g)}return f},Uy=function(f){const e=this.threshold()*255,l=f.data,u=l.length;for(let o=0;o<u;o+=1)l[o]=l[o]<e?0:255};R.addGetterSetter(yt,"threshold",.5,vt(),R.afterSetFilter);Eo.Util._assign(Eo,{Arc:Vs,Arrow:Fr,Circle:Ao,Ellipse:Fu,Image:yl,Label:L2,Tag:Pr,Line:Qs,Path:qe,Rect:Th,RegularPolygon:Pu,Ring:Ir,Sprite:es,Star:Iu,Text:Pe,TextPath:La,Transformer:pe,Wedge:Ks,Filters:{Blur:sy,Brightness:ry,Brighten:uy,Contrast:cy,Emboss:oy,Enhance:fy,Grayscale:hy,HSL:dy,HSV:my,Invert:gy,Kaleidoscope:vy,Mask:Ty,Noise:Ay,Pixelate:My,Posterize:Ny,RGB:Oy,RGBA:Dy,Sepia:Ry,Solarize:zy,Threshold:Uy}});var a2={exports:{}},n2={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng;function Gy(){return Ng||(Ng=1,(function(f){f.exports=function(e){function l(n,i,c,d){return new nf(n,i,c,d)}function u(){}function o(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(n){var i=n,c=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(c=i.return),n=i.return;while(n)}return i.tag===3?c:null}function g(n){if(h(n)!==n)throw Error(o(188))}function y(n){var i=n.alternate;if(!i){if(i=h(n),i===null)throw Error(o(188));return i!==n?null:n}for(var c=n,d=i;;){var v=c.return;if(v===null)break;var b=v.alternate;if(b===null){if(d=v.return,d!==null){c=d;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===c)return g(v),n;if(b===d)return g(v),i;b=b.sibling}throw Error(o(188))}if(c.return!==d.return)c=v,d=b;else{for(var A=!1,G=v.child;G;){if(G===c){A=!0,c=v,d=b;break}if(G===d){A=!0,d=v,c=b;break}G=G.sibling}if(!A){for(G=b.child;G;){if(G===c){A=!0,c=b,d=v;break}if(G===d){A=!0,d=b,c=v;break}G=G.sibling}if(!A)throw Error(o(189))}}if(c.alternate!==d)throw Error(o(190))}if(c.tag!==3)throw Error(o(188));return c.stateNode.current===c?n:i}function S(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=S(n),i!==null)return i;n=n.sibling}return null}function x(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(n.tag!==4&&(i=x(n),i!==null))return i;n=n.sibling}return null}function C(n){return n===null||typeof n!="object"?null:(n=il&&n[il]||n["@@iterator"],typeof n=="function"?n:null)}function E(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Ll?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case xs:return"Fragment";case Cs:return"Profiler";case _s:return"StrictMode";case wc:return"Suspense";case nl:return"SuspenseList";case Er:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case bs:return"Portal";case Kn:return n.displayName||"Context";case Cr:return(n._context.displayName||"Context")+".Consumer";case xu:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Lc:return i=n.displayName||null,i!==null?i:E(n.type)||"Memo";case Wa:i=n._payload,n=n._init;try{return E(n(i))}catch{}}return null}function T(n){return{current:n}}function D(n){0>Ns||(n.current=Wc[Ns],Wc[Ns]=null,Ns--)}function N(n,i){Ns++,Wc[Ns]=n.current,n.current=i}function X(n){return n>>>=0,n===0?32:31-($c(n)/Kd|0)|0}function B(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function w(n,i,c){var d=n.pendingLanes;if(d===0)return 0;var v=0,b=n.suspendedLanes,A=n.pingedLanes;n=n.warmLanes;var G=d&134217727;return G!==0?(d=G&~b,d!==0?v=B(d):(A&=G,A!==0?v=B(A):c||(c=G&~n,c!==0&&(v=B(c))))):(G=d&~b,G!==0?v=B(G):A!==0?v=B(A):c||(c=d&~n,c!==0&&(v=B(c)))),v===0?0:i!==0&&i!==v&&(i&b)===0&&(b=v&-v,c=i&-i,b>=c||b===32&&(c&4194048)!==0)?i:v}function V(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function J(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function W(){var n=Nu;return Nu<<=1,(Nu&62914560)===0&&(Nu=4194304),n}function dt(n){for(var i=[],c=0;31>c;c++)i.push(n);return i}function rt(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function et(n,i,c,d,v,b){var A=n.pendingLanes;n.pendingLanes=c,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=c,n.entangledLanes&=c,n.errorRecoveryDisabledLanes&=c,n.shellSuspendCounter=0;var G=n.entanglements,P=n.expirationTimes,ut=n.hiddenUpdates;for(c=A&~c;0<c;){var pt=31-dn(c),ot=1<<pt;G[pt]=0,P[pt]=-1;var Ct=ut[pt];if(Ct!==null)for(ut[pt]=null,pt=0;pt<Ct.length;pt++){var Zt=Ct[pt];Zt!==null&&(Zt.lane&=-536870913)}c&=~ot}d!==0&&it(n,d,0),b!==0&&v===0&&n.tag!==0&&(n.suspendedLanes|=b&~(A&~i))}function it(n,i,c){n.pendingLanes|=i,n.suspendedLanes&=~i;var d=31-dn(i);n.entangledLanes|=i,n.entanglements[d]=n.entanglements[d]|1073741824|c&261930}function xt(n,i){var c=n.entangledLanes|=i;for(n=n.entanglements;c;){var d=31-dn(c),v=1<<d;v&i|n[d]&i&&(n[d]|=i),c&=~v}}function At(n,i){var c=i&-i;return c=(c&42)!==0?1:zt(c),(c&(n.suspendedLanes|i))!==0?0:c}function zt(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function _t(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function jt(n){if(typeof Vf=="function"&&Jd(n),mn&&typeof mn.setStrictMode=="function")try{mn.setStrictMode(Ds,n)}catch{}}function Ut(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}function gt(n){if(lo===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);lo=i&&i[1]||"",zi=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lo+n+zi}function H(n,i){if(!n||Ur)return"";Ur=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(i){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(Zt){var Ct=Zt}Reflect.construct(n,[],ot)}else{try{ot.call()}catch(Zt){Ct=Zt}n.call(ot.prototype)}}else{try{throw Error()}catch(Zt){Ct=Zt}(ot=n())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(Zt){if(Zt&&Ct&&typeof Zt.stack=="string")return[Zt.stack,Ct.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),A=b[0],G=b[1];if(A&&G){var P=A.split(`
`),ut=G.split(`
`);for(v=d=0;d<P.length&&!P[d].includes("DetermineComponentFrameRoot");)d++;for(;v<ut.length&&!ut[v].includes("DetermineComponentFrameRoot");)v++;if(d===P.length||v===ut.length)for(d=P.length-1,v=ut.length-1;1<=d&&0<=v&&P[d]!==ut[v];)v--;for(;1<=d&&0<=v;d--,v--)if(P[d]!==ut[v]){if(d!==1||v!==1)do if(d--,v--,0>v||P[d]!==ut[v]){var pt=`
`+P[d].replace(" at new "," at ");return n.displayName&&pt.includes("<anonymous>")&&(pt=pt.replace("<anonymous>",n.displayName)),pt}while(1<=d&&0<=v);break}}}finally{Ur=!1,Error.prepareStackTrace=c}return(c=n?n.displayName||n.name:"")?gt(c):""}function ct(n,i){switch(n.tag){case 26:case 27:case 5:return gt(n.type);case 16:return gt("Lazy");case 13:return n.child!==i&&i!==null?gt("Suspense Fallback"):gt("Suspense");case 19:return gt("SuspenseList");case 0:case 15:return H(n.type,!1);case 11:return H(n.type.render,!1);case 1:return H(n.type,!0);case 31:return gt("Activity");default:return""}}function ft(n){try{var i="",c=null;do i+=ct(n,c),c=n,n=n.return;while(n);return i}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Et(n,i){if(typeof n=="object"&&n!==null){var c=Qf.get(n);return c!==void 0?c:(i={value:n,source:i,stack:ft(i)},Qf.set(n,i),i)}return{value:n,source:i,stack:ft(i)}}function Ot(n,i){ul[Ui++]=Gr,ul[Ui++]=Te,Te=n,Gr=i}function z(n,i,c){Jn[On++]=Ba,Jn[On++]=ri,Jn[On++]=Fn,Fn=n;var d=Ba;n=ri;var v=32-dn(d)-1;d&=~(1<<v),c+=1;var b=32-dn(i)+v;if(30<b){var A=v-v%5;b=(d&(1<<A)-1).toString(32),d>>=A,v-=A,Ba=1<<32-dn(i)+v|c<<v|d,ri=b+n}else Ba=1<<b|c<<v|d,ri=n}function $(n){n.return!==null&&(Ot(n,1),z(n,1,0))}function lt(n){for(;n===Te;)Te=ul[--Ui],ul[Ui]=null,Gr=ul[--Ui],ul[Ui]=null;for(;n===Fn;)Fn=Jn[--On],Jn[On]=null,ri=Jn[--On],Jn[On]=null,Ba=Jn[--On],Jn[On]=null}function Tt(n,i){Jn[On++]=Ba,Jn[On++]=ri,Jn[On++]=Fn,Ba=i.id,ri=i.overflow,Fn=n}function wt(n,i){N(Ha,i),N(rl,n),N(Oa,null),n=ud(i),D(Oa),N(Oa,n)}function Xt(){D(Oa),D(rl),D(Ha)}function fe(n){n.memoizedState!==null&&N(Br,n);var i=Oa.current,c=Eu(i,n.type);i!==c&&(N(rl,n),N(Oa,c))}function Ie(n){rl.current===n&&(D(Oa),D(rl)),Br.current===n&&(D(Br),sa?As._currentValue=Ts:As._currentValue2=Ts)}function he(n){var i=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sn(Et(i,n)),so}function vl(n,i){if(!je)throw Error(o(175));Ud(n.stateNode,n.type,n.memoizedProps,i,n)||he(n,!0)}function Vi(n){for(Ca=n.return;Ca;)switch(Ca.tag){case 5:case 31:case 13:tn=!1;return;case 27:case 3:tn=!0;return;default:Ca=Ca.return}}function Ya(n){if(!je||n!==Ca)return!1;if(!le)return Vi(n),le=!0,!1;var i=n.tag;if(_a?i!==3&&i!==27&&(i!==5||Mu(n.type)&&!$a(n.type,n.memoizedProps))&&we&&he(n):i!==3&&(i!==5||Mu(n.type)&&!$a(n.type,n.memoizedProps))&&we&&he(n),Vi(n),i===13){if(!je)throw Error(o(316));if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));we=zf(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));we=Bd(n)}else we=_a&&i===27?Td(n.type,we):Ca?Ed(n.stateNode):null;return!0}function mi(){je&&(we=Ca=null,le=!1)}function li(){var n=Gi;return n!==null&&(pn===null?pn=n:pn.push.apply(pn,n),Gi=null),n}function Sn(n){Gi===null?Gi=[n]:Gi.push(n)}function bn(n,i,c){sa?(N(Pn,i._currentValue),i._currentValue=c):(N(Pn,i._currentValue2),i._currentValue2=c)}function jn(n){var i=Pn.current;sa?n._currentValue=i:n._currentValue2=i,D(Pn)}function Qi(n,i,c){for(;n!==null;){var d=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),n===c)break;n=n.return}}function as(n,i,c,d){var v=n.child;for(v!==null&&(v.return=n);v!==null;){var b=v.dependencies;if(b!==null){var A=v.child;b=b.firstContext;t:for(;b!==null;){var G=b;b=v;for(var P=0;P<i.length;P++)if(G.context===i[P]){b.lanes|=c,G=b.alternate,G!==null&&(G.lanes|=c),Qi(b.return,c,n),d||(A=null);break t}b=G.next}}else if(v.tag===18){if(A=v.return,A===null)throw Error(o(341));A.lanes|=c,b=A.alternate,b!==null&&(b.lanes|=c),Qi(A,c,n),A=null}else A=v.child;if(A!==null)A.return=v;else for(A=v;A!==null;){if(A===n){A=null;break}if(v=A.sibling,v!==null){v.return=A.return,A=v;break}A=A.return}v=A}}function gi(n,i,c,d){n=null;for(var v=i,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var A=v.alternate;if(A===null)throw Error(o(387));if(A=A.memoizedProps,A!==null){var G=v.type;ra(v.pendingProps.value,A.value)||(n!==null?n.push(G):n=[G])}}else if(v===Br.current){if(A=v.alternate,A===null)throw Error(o(387));A.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(n!==null?n.push(As):n=[As])}v=v.return}n!==null&&as(i,n,c,d),i.flags|=262144}function Sl(n){for(n=n.firstContext;n!==null;){var i=n.context;if(!ra(sa?i._currentValue:i._currentValue2,n.memoizedValue))return!0;n=n.next}return!1}function Ki(n){Ne=n,ci=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Sa(n){return st(Ne,n)}function ba(n,i){return Ne===null&&Ki(n),st(n,i)}function st(n,i){var c=sa?i._currentValue:i._currentValue2;if(i={context:i,memoizedValue:c,next:null},ci===null){if(n===null)throw Error(o(308));ci=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else ci=ci.next=i;return c}function Dt(){return{controller:new Fd,data:new Map,refCount:0}}function Kt(n){n.refCount--,n.refCount===0&&Da(f1,function(){n.controller.abort()})}function We(){}function ha(n){n!==be&&n.next===null&&(be===null?Hr=be=n:be=be.next=n),In=!0,Za||(Za=!0,xn())}function Re(n,i){if(!uo&&In){uo=!0;do for(var c=!1,d=Hr;d!==null;){if(n!==0){var v=d.pendingLanes;if(v===0)var b=0;else{var A=d.suspendedLanes,G=d.pingedLanes;b=(1<<31-dn(42|n)+1)-1,b&=v&~(A&~G),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,la(d,b))}else b=se,b=w(d,d===$t?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==hn),(b&3)===0||V(d,b)||(c=!0,la(d,b));d=d.next}while(c);uo=!1}}function ns(){$e()}function $e(){In=Za=!1;var n=0;Ql!==0&&Es()&&(n=Ql);for(var i=Ka(),c=null,d=Hr;d!==null;){var v=d.next,b=Ge(d,i);b===0?(d.next=null,c===null?Hr=v:c.next=v,v===null&&(be=c)):(c=d,(n!==0||(b&3)!==0)&&(In=!0)),d=v}va!==0&&va!==5||Re(n),Ql!==0&&(Ql=0)}function Ge(n,i){for(var c=n.suspendedLanes,d=n.pingedLanes,v=n.expirationTimes,b=n.pendingLanes&-62914561;0<b;){var A=31-dn(b),G=1<<A,P=v[A];P===-1?((G&c)===0||(G&d)!==0)&&(v[A]=J(G,i)):P<=i&&(n.expiredLanes|=G),b&=~G}if(i=$t,c=se,c=w(n,n===i?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==hn),d=n.callbackNode,c===0||n===i&&(_e===2||_e===9)||n.cancelPendingCommit!==null)return d!==null&&d!==null&&eo(d),n.callbackNode=null,n.callbackPriority=0;if((c&3)===0||V(n,c)){if(i=c&-c,i===n.callbackPriority)return i;switch(d!==null&&eo(d),_t(c)){case 2:case 8:c=kd;break;case 32:c=zr;break;case 268435456:c=no;break;default:c=zr}return d=ee.bind(null,n),c=Rr(c,d),n.callbackPriority=i,n.callbackNode=c,i}return d!==null&&d!==null&&eo(d),n.callbackPriority=2,n.callbackNode=null,2}function ee(n,i){if(va!==0&&va!==5)return n.callbackNode=null,n.callbackPriority=0,null;var c=n.callbackNode;if(Oi()&&n.callbackNode!==c)return null;var d=se;return d=w(n,n===$t?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==hn),d===0?null:(ui(n,d,i),Ge(n,Ka()),n.callbackNode!=null&&n.callbackNode===c?ee.bind(null,n):null)}function la(n,i){if(Oi())return null;ui(n,i,!0)}function xn(){pf?yf(function(){(ae&6)!==0?Rr(ao,ns):$e()}):Rr(ao,ns)}function Mo(){if(Ql===0){var n=cl;n===0&&(n=to,to<<=1,(to&261888)===0&&(to=256)),Ql=n}return Ql}function $0(n,i){if(Ou===null){var c=Ou=[];Kf=0,cl=Mo(),Ea={status:"pending",value:void 0,then:function(d){c.push(d)}}}return Kf++,i.then(Ah,Ah),i}function Ah(){if(--Kf===0&&Ou!==null){Ea!==null&&(Ea.status="fulfilled");var n=Ou;Ou=null,cl=0,Ea=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function Wr(n,i){var c=[],d={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return n.then(function(){d.status="fulfilled",d.value=i;for(var v=0;v<c.length;v++)(0,c[v])(i)},function(v){for(d.status="rejected",d.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),d}function Zs(){var n=Kl.current;return n!==null?n:$t.pooledCache}function is(n,i){i===null?N(Kl,Kl.current):N(Kl,i.pool)}function bl(){var n=Zs();return n===null?null:{parent:sa?Le._currentValue:Le._currentValue2,pool:n}}function ls(n,i){if(ra(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var c=Object.keys(n),d=Object.keys(i);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var v=c[d];if(!o1.call(i,v)||!ra(n[v],i[v]))return!1}return!0}function ks(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Mh(n,i,c){switch(c=n[c],c===void 0?n.push(i):c!==i&&(i.then(We,We),i=c),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Js(n),n;default:if(typeof i.status=="string")i.then(We,We);else{if(n=$t,n!==null&&100<n.shellSuspendCounter)throw Error(o(482));n=i,n.status="pending",n.then(function(d){if(i.status==="pending"){var v=i;v.status="fulfilled",v.value=d}},function(d){if(i.status==="pending"){var v=i;v.status="rejected",v.reason=d}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Js(n),n}throw en=i,Ta}}function xl(n){try{var i=n._init;return i(n._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(en=c,Ta):c}}function $r(){if(en===null)throw Error(o(459));var n=en;return en=null,n}function Js(n){if(n===Ta||n===$n)throw Error(o(483))}function tc(n){var i=Rs;return Rs+=1,Zl===null&&(Zl=[]),Mh(Zl,n,i)}function Fs(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function $u(n,i){throw i.$$typeof===Ss?Error(o(525)):(n=Object.prototype.toString.call(i),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function No(n){function i(Z,Y){if(n){var F=Z.deletions;F===null?(Z.deletions=[Y],Z.flags|=16):F.push(Y)}}function c(Z,Y){if(!n)return null;for(;Y!==null;)i(Z,Y),Y=Y.sibling;return null}function d(Z){for(var Y=new Map;Z!==null;)Z.key!==null?Y.set(Z.key,Z):Y.set(Z.index,Z),Z=Z.sibling;return Y}function v(Z,Y){return Z=Mn(Z,Y),Z.index=0,Z.sibling=null,Z}function b(Z,Y,F){return Z.index=F,n?(F=Z.alternate,F!==null?(F=F.index,F<Y?(Z.flags|=67108866,Y):F):(Z.flags|=67108866,Y)):(Z.flags|=1048576,Y)}function A(Z){return n&&Z.alternate===null&&(Z.flags|=67108866),Z}function G(Z,Y,F,mt){return Y===null||Y.tag!==6?(Y=lf(F,Z.mode,mt),Y.return=Z,Y):(Y=v(Y,F),Y.return=Z,Y)}function P(Z,Y,F,mt){var Ht=F.type;return Ht===xs?pt(Z,Y,F.props.children,mt,F.key):Y!==null&&(Y.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===Wa&&xl(Ht)===Y.type)?(Y=v(Y,F.props),Fs(Y,F),Y.return=Z,Y):(Y=al(F.type,F.key,F.props,null,Z.mode,mt),Fs(Y,F),Y.return=Z,Y)}function ut(Z,Y,F,mt){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==F.containerInfo||Y.stateNode.implementation!==F.implementation?(Y=uf(F,Z.mode,mt),Y.return=Z,Y):(Y=v(Y,F.children||[]),Y.return=Z,Y)}function pt(Z,Y,F,mt,Ht){return Y===null||Y.tag!==7?(Y=Qn(F,Z.mode,mt,Ht),Y.return=Z,Y):(Y=v(Y,F),Y.return=Z,Y)}function ot(Z,Y,F){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=lf(""+Y,Z.mode,F),Y.return=Z,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Di:return F=al(Y.type,Y.key,Y.props,null,Z.mode,F),Fs(F,Y),F.return=Z,F;case bs:return Y=uf(Y,Z.mode,F),Y.return=Z,Y;case Wa:return Y=xl(Y),ot(Z,Y,F)}if(Yl(Y)||C(Y))return Y=Qn(Y,Z.mode,F,null),Y.return=Z,Y;if(typeof Y.then=="function")return ot(Z,tc(Y),F);if(Y.$$typeof===Kn)return ot(Z,ba(Z,Y),F);$u(Z,Y)}return null}function Ct(Z,Y,F,mt){var Ht=Y!==null?Y.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Ht!==null?null:G(Z,Y,""+F,mt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Di:return F.key===Ht?P(Z,Y,F,mt):null;case bs:return F.key===Ht?ut(Z,Y,F,mt):null;case Wa:return F=xl(F),Ct(Z,Y,F,mt)}if(Yl(F)||C(F))return Ht!==null?null:pt(Z,Y,F,mt,null);if(typeof F.then=="function")return Ct(Z,Y,tc(F),mt);if(F.$$typeof===Kn)return Ct(Z,Y,ba(Z,F),mt);$u(Z,F)}return null}function Zt(Z,Y,F,mt,Ht){if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return Z=Z.get(F)||null,G(Y,Z,""+mt,Ht);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case Di:return Z=Z.get(mt.key===null?F:mt.key)||null,P(Y,Z,mt,Ht);case bs:return Z=Z.get(mt.key===null?F:mt.key)||null,ut(Y,Z,mt,Ht);case Wa:return mt=xl(mt),Zt(Z,Y,F,mt,Ht)}if(Yl(mt)||C(mt))return Z=Z.get(F)||null,pt(Y,Z,mt,Ht,null);if(typeof mt.then=="function")return Zt(Z,Y,F,tc(mt),Ht);if(mt.$$typeof===Kn)return Zt(Z,Y,F,ba(Y,mt),Ht);$u(Y,mt)}return null}function Ra(Z,Y,F,mt){for(var Ht=null,Fe=null,Lt=Y,de=Y=0,za=null;Lt!==null&&de<F.length;de++){Lt.index>de?(za=Lt,Lt=null):za=Lt.sibling;var ye=Ct(Z,Lt,F[de],mt);if(ye===null){Lt===null&&(Lt=za);break}n&&Lt&&ye.alternate===null&&i(Z,Lt),Y=b(ye,Y,de),Fe===null?Ht=ye:Fe.sibling=ye,Fe=ye,Lt=za}if(de===F.length)return c(Z,Lt),le&&Ot(Z,de),Ht;if(Lt===null){for(;de<F.length;de++)Lt=ot(Z,F[de],mt),Lt!==null&&(Y=b(Lt,Y,de),Fe===null?Ht=Lt:Fe.sibling=Lt,Fe=Lt);return le&&Ot(Z,de),Ht}for(Lt=d(Lt);de<F.length;de++)za=Zt(Lt,Z,de,F[de],mt),za!==null&&(n&&za.alternate!==null&&Lt.delete(za.key===null?de:za.key),Y=b(za,Y,de),Fe===null?Ht=za:Fe.sibling=za,Fe=za);return n&&Lt.forEach(function(ai){return i(Z,ai)}),le&&Ot(Z,de),Ht}function ju(Z,Y,F,mt){if(F==null)throw Error(o(151));for(var Ht=null,Fe=null,Lt=Y,de=Y=0,za=null,ye=F.next();Lt!==null&&!ye.done;de++,ye=F.next()){Lt.index>de?(za=Lt,Lt=null):za=Lt.sibling;var ai=Ct(Z,Lt,ye.value,mt);if(ai===null){Lt===null&&(Lt=za);break}n&&Lt&&ai.alternate===null&&i(Z,Lt),Y=b(ai,Y,de),Fe===null?Ht=ai:Fe.sibling=ai,Fe=ai,Lt=za}if(ye.done)return c(Z,Lt),le&&Ot(Z,de),Ht;if(Lt===null){for(;!ye.done;de++,ye=F.next())ye=ot(Z,ye.value,mt),ye!==null&&(Y=b(ye,Y,de),Fe===null?Ht=ye:Fe.sibling=ye,Fe=ye);return le&&Ot(Z,de),Ht}for(Lt=d(Lt);!ye.done;de++,ye=F.next())ye=Zt(Lt,Z,de,ye.value,mt),ye!==null&&(n&&ye.alternate!==null&&Lt.delete(ye.key===null?de:ye.key),Y=b(ye,Y,de),Fe===null?Ht=ye:Fe.sibling=ye,Fe=ye);return n&&Lt.forEach(function(h1){return i(Z,h1)}),le&&Ot(Z,de),Ht}function ts(Z,Y,F,mt){if(typeof F=="object"&&F!==null&&F.type===xs&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Di:t:{for(var Ht=F.key;Y!==null;){if(Y.key===Ht){if(Ht=F.type,Ht===xs){if(Y.tag===7){c(Z,Y.sibling),mt=v(Y,F.props.children),mt.return=Z,Z=mt;break t}}else if(Y.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===Wa&&xl(Ht)===Y.type){c(Z,Y.sibling),mt=v(Y,F.props),Fs(mt,F),mt.return=Z,Z=mt;break t}c(Z,Y);break}else i(Z,Y);Y=Y.sibling}F.type===xs?(mt=Qn(F.props.children,Z.mode,mt,F.key),mt.return=Z,Z=mt):(mt=al(F.type,F.key,F.props,null,Z.mode,mt),Fs(mt,F),mt.return=Z,Z=mt)}return A(Z);case bs:t:{for(Ht=F.key;Y!==null;){if(Y.key===Ht)if(Y.tag===4&&Y.stateNode.containerInfo===F.containerInfo&&Y.stateNode.implementation===F.implementation){c(Z,Y.sibling),mt=v(Y,F.children||[]),mt.return=Z,Z=mt;break t}else{c(Z,Y);break}else i(Z,Y);Y=Y.sibling}mt=uf(F,Z.mode,mt),mt.return=Z,Z=mt}return A(Z);case Wa:return F=xl(F),ts(Z,Y,F,mt)}if(Yl(F))return Ra(Z,Y,F,mt);if(C(F)){if(Ht=C(F),typeof Ht!="function")throw Error(o(150));return F=Ht.call(F),ju(Z,Y,F,mt)}if(typeof F.then=="function")return ts(Z,Y,tc(F),mt);if(F.$$typeof===Kn)return ts(Z,Y,ba(Z,F),mt);$u(Z,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,Y!==null&&Y.tag===6?(c(Z,Y.sibling),mt=v(Y,F),mt.return=Z,Z=mt):(c(Z,Y),mt=lf(F,Z.mode,mt),mt.return=Z,Z=mt),A(Z)):c(Z,Y)}return function(Z,Y,F,mt){try{Rs=0;var Ht=ts(Z,Y,F,mt);return Zl=null,Ht}catch(Lt){if(Lt===Ta||Lt===$n)throw Lt;var Fe=l(29,Lt,null,Z.mode);return Fe.lanes=mt,Fe.return=Z,Fe}finally{}}}function Ps(){for(var n=Hi,i=zs=Hi=0;i<n;){var c=wa[i];wa[i++]=null;var d=wa[i];wa[i++]=null;var v=wa[i];wa[i++]=null;var b=wa[i];if(wa[i++]=null,d!==null&&v!==null){var A=d.pending;A===null?v.next=v:(v.next=A.next,A.next=v),d.pending=v}b!==0&&Zi(c,v,b)}}function Is(n,i,c,d){wa[Hi++]=n,wa[Hi++]=i,wa[Hi++]=c,wa[Hi++]=d,zs|=d,n.lanes|=d,n=n.alternate,n!==null&&(n.lanes|=d)}function ec(n,i,c,d){return Is(n,i,c,d),da(n)}function _l(n,i){return Is(n,null,null,i),da(n)}function Zi(n,i,c){n.lanes|=c;var d=n.alternate;d!==null&&(d.lanes|=c);for(var v=!1,b=n.return;b!==null;)b.childLanes|=c,d=b.alternate,d!==null&&(d.childLanes|=c),b.tag===22&&(n=b.stateNode,n===null||n._visibility&1||(v=!0)),n=b,b=b.return;return n.tag===3?(b=n.stateNode,v&&i!==null&&(v=31-dn(c),n=b.hiddenUpdates,d=n[v],d===null?n[v]=[i]:d.push(i),i.lane=c|536870912),b):null}function da(n){if(50<ge)throw ge=0,Xr=null,Error(o(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}function qa(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cl(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function pi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function El(n,i,c){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(ae&2)!==0){var v=d.pending;return v===null?i.next=i:(i.next=v.next,v.next=i),d.pending=i,i=da(n),Zi(n,null,c),i}return Is(n,d,i,c),da(n)}function tr(n,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194048)!==0)){var d=i.lanes;d&=n.pendingLanes,c|=d,i.lanes=c,xt(n,c)}}function ac(n,i){var c=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var v=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var A={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?v=b=A:b=b.next=A,c=c.next}while(c!==null);b===null?v=b=i:b=b.next=i}else v=b=i;c={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},n.updateQueue=c;return}n=c.lastBaseUpdate,n===null?c.firstBaseUpdate=i:n.next=i,c.lastBaseUpdate=i}function ki(){if(co){var n=Ea;if(n!==null)throw n}}function ss(n,i,c,d){co=!1;var v=n.updateQueue;Dn=!1;var b=v.firstBaseUpdate,A=v.lastBaseUpdate,G=v.shared.pending;if(G!==null){v.shared.pending=null;var P=G,ut=P.next;P.next=null,A===null?b=ut:A.next=ut,A=P;var pt=n.alternate;pt!==null&&(pt=pt.updateQueue,G=pt.lastBaseUpdate,G!==A&&(G===null?pt.firstBaseUpdate=ut:G.next=ut,pt.lastBaseUpdate=P))}if(b!==null){var ot=v.baseState;A=0,pt=ut=P=null,G=b;do{var Ct=G.lane&-536870913,Zt=Ct!==G.lane;if(Zt?(se&Ct)===Ct:(d&Ct)===Ct){Ct!==0&&Ct===cl&&(co=!0),pt!==null&&(pt=pt.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});t:{var Ra=n,ju=G;Ct=i;var ts=c;switch(ju.tag){case 1:if(Ra=ju.payload,typeof Ra=="function"){ot=Ra.call(ts,ot,Ct);break t}ot=Ra;break t;case 3:Ra.flags=Ra.flags&-65537|128;case 0:if(Ra=ju.payload,Ct=typeof Ra=="function"?Ra.call(ts,ot,Ct):Ra,Ct==null)break t;ot=jc({},ot,Ct);break t;case 2:Dn=!0}}Ct=G.callback,Ct!==null&&(n.flags|=64,Zt&&(n.flags|=8192),Zt=v.callbacks,Zt===null?v.callbacks=[Ct]:Zt.push(Ct))}else Zt={lane:Ct,tag:G.tag,payload:G.payload,callback:G.callback,next:null},pt===null?(ut=pt=Zt,P=ot):pt=pt.next=Zt,A|=Ct;if(G=G.next,G===null){if(G=v.shared.pending,G===null)break;Zt=G,G=Zt.next,Zt.next=null,v.lastBaseUpdate=Zt,v.shared.pending=null}}while(!0);pt===null&&(P=ot),v.baseState=P,v.firstBaseUpdate=ut,v.lastBaseUpdate=pt,b===null&&(v.shared.lanes=0),fl|=A,n.lanes=A,n.memoizedState=ot}}function us(n,i){if(typeof n!="function")throw Error(o(191,n));n.call(i)}function rs(n,i){var c=n.callbacks;if(c!==null)for(n.callbacks=null,n=0;n<c.length;n++)us(c[n],i)}function Ws(n,i){n=wi,N(kl,n),N(Us,i),wi=n|i.baseLanes}function Tl(){N(kl,wi),N(Us,Us.current)}function ma(){wi=kl.current,D(Us),D(kl)}function Ji(n){var i=n.alternate;N(ea,ea.current&1),N(gn,n),an===null&&(i===null||Us.current!==null||i.memoizedState!==null)&&(an=n)}function nc(n){N(ea,ea.current),N(gn,n),an===null&&(an=n)}function Al(n){n.tag===22?(N(ea,ea.current),N(gn,n),an===null&&(an=n)):_n()}function _n(){N(ea,ea.current),N(gn,gn.current)}function Cn(n){D(gn),an===n&&(an=null),D(ea)}function er(n){for(var i=n;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Xl(c)||Kc(c)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Xe(){throw Error(o(321))}function Oo(n,i){if(i===null)return!1;for(var c=0;c<i.length&&c<n.length;c++)if(!ra(n[c],i[c]))return!1;return!0}function $s(n,i,c,d,v,b){return ol=b,Jt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Gt.H=n===null||n.memoizedState===null?Ze:ji,ce=!1,b=c(d,v),ce=!1,Pt&&(b=yi(i,c,d,v)),ar(n),b}function ar(n){Gt.H=Rn;var i=Rt!==null&&Rt.next!==null;if(ol=0,Vt=Rt=Jt=null,Wt=!1,ti=0,oi=null,i)throw Error(o(300));n===null||ze||(n=n.dependencies,n!==null&&Sl(n)&&(ze=!0))}function yi(n,i,c,d){Jt=n;var v=0;do{if(Pt&&(oi=null),ti=0,Pt=!1,25<=v)throw Error(o(301));if(v+=1,Vt=Rt=null,n.updateQueue!=null){var b=n.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}Gt.H=Jl,b=i(c,d)}while(Pt);return b}function wn(){var n=Gt.H,i=n.useState()[0];return i=typeof i.then=="function"?Va(i):i,n=n.useState()[0],(Rt!==null?Rt.memoizedState:null)!==n&&(Jt.flags|=1024),i}function ic(){var n=ka!==0;return ka=0,n}function Do(n,i,c){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~c}function nr(n){if(Wt){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Wt=!1}ol=0,Vt=Rt=Jt=null,Pt=!1,ti=ka=0,oi=null}function Xa(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Jt.memoizedState=Vt=n:Vt=Vt.next=n,Vt}function Be(){if(Rt===null){var n=Jt.alternate;n=n!==null?n.memoizedState:null}else n=Rt.next;var i=Vt===null?Jt.memoizedState:Vt.next;if(i!==null)Vt=i,Rt=n;else{if(n===null)throw Jt.alternate===null?Error(o(467)):Error(o(310));Rt=n,n={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Vt===null?Jt.memoizedState=Vt=n:Vt=Vt.next=n}return Vt}function lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Va(n){var i=ti;return ti+=1,oi===null&&(oi=[]),n=Mh(oi,n,i),i=Jt,(Vt===null?i.memoizedState:Vt.next)===null&&(i=i.alternate,Gt.H=i===null||i.memoizedState===null?Ze:ji),n}function tu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Va(n);if(n.$$typeof===Kn)return Sa(n)}throw Error(o(438,String(n)))}function sc(n){var i=null,c=Jt.updateQueue;if(c!==null&&(i=c.memoCache),i==null){var d=Jt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(i={data:d.data.map(function(v){return v.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),c===null&&(c=lc(),Jt.updateQueue=c),c.memoCache=i,c=i.data[i.index],c===void 0)for(c=i.data[i.index]=Array(n),d=0;d<n;d++)c[d]=cf;return i.index++,c}function si(n,i){return typeof i=="function"?i(n):i}function Fi(n){var i=Be();return uc(i,Rt,n)}function uc(n,i,c){var d=n.queue;if(d===null)throw Error(o(311));d.lastRenderedReducer=c;var v=n.baseQueue,b=d.pending;if(b!==null){if(v!==null){var A=v.next;v.next=b.next,b.next=A}i.baseQueue=v=b,d.pending=null}if(b=n.baseState,v===null)n.memoizedState=b;else{i=v.next;var G=A=null,P=null,ut=i,pt=!1;do{var ot=ut.lane&-536870913;if(ot!==ut.lane?(se&ot)===ot:(ol&ot)===ot){var Ct=ut.revertLane;if(Ct===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null}),ot===cl&&(pt=!0);else if((ol&Ct)===Ct){ut=ut.next,Ct===cl&&(pt=!0);continue}else ot={lane:0,revertLane:ut.revertLane,gesture:null,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null},P===null?(G=P=ot,A=b):P=P.next=ot,Jt.lanes|=Ct,fl|=Ct;ot=ut.action,ce&&c(b,ot),b=ut.hasEagerState?ut.eagerState:c(b,ot)}else Ct={lane:ot,revertLane:ut.revertLane,gesture:ut.gesture,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null},P===null?(G=P=Ct,A=b):P=P.next=Ct,Jt.lanes|=ot,fl|=ot;ut=ut.next}while(ut!==null&&ut!==i);if(P===null?A=b:P.next=G,!ra(b,n.memoizedState)&&(ze=!0,pt&&(c=Ea,c!==null)))throw c;n.memoizedState=b,n.baseState=A,n.baseQueue=P,d.lastRenderedState=b}return v===null&&(d.lanes=0),[n.memoizedState,d.dispatch]}function rc(n){var i=Be(),c=i.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=n;var d=c.dispatch,v=c.pending,b=i.memoizedState;if(v!==null){c.pending=null;var A=v=v.next;do b=n(b,A.action),A=A.next;while(A!==v);ra(b,i.memoizedState)||(ze=!0),i.memoizedState=b,i.baseQueue===null&&(i.baseState=b),c.lastRenderedState=b}return[b,d]}function cs(n,i,c){var d=Jt,v=Be(),b=le;if(b){if(c===void 0)throw Error(o(407));c=c()}else c=i();var A=!ra((Rt||v).memoizedState,c);if(A&&(v.memoizedState=c,ze=!0),v=v.queue,nu(zo.bind(null,d,v,n),[n]),v.getSnapshot!==i||A||Vt!==null&&Vt.memoizedState.tag&1){if(d.flags|=2048,En(9,{destroy:void 0},Ro.bind(null,d,v,c,i),null),$t===null)throw Error(o(349));b||(ol&127)!==0||Nh(d,i,c)}return c}function Nh(n,i,c){n.flags|=16384,n={getSnapshot:i,value:c},i=Jt.updateQueue,i===null?(i=lc(),Jt.updateQueue=i,i.stores=[n]):(c=i.stores,c===null?i.stores=[n]:c.push(n))}function Ro(n,i,c,d){i.value=c,i.getSnapshot=d,cc(i)&&Oh(n)}function zo(n,i,c){return c(function(){cc(i)&&Oh(n)})}function cc(n){var i=n.getSnapshot;n=n.value;try{var c=i();return!ra(n,c)}catch{return!0}}function Oh(n){var i=_l(n,2);i!==null&&Qe(i,n,2)}function Uo(n){var i=Xa();if(typeof n=="function"){var c=n;if(n=c(),ce){jt(!0);try{c()}finally{jt(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:n},i}function ir(n,i,c,d){return n.baseState=c,uc(n,Rt,typeof d=="function"?d:si)}function Pi(n,i,c,d,v){if(yc(n))throw Error(o(485));if(n=i.action,n!==null){var b={payload:v,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){b.listeners.push(A)}};Gt.T!==null?c(!0):b.isTransition=!1,d(b),c=i.pending,c===null?(b.next=i.pending=b,oc(i,b)):(b.next=c.next,i.pending=c.next=b)}}function oc(n,i){var c=i.action,d=i.payload,v=n.state;if(i.isTransition){var b=Gt.T,A={};Gt.T=A;try{var G=c(v,d),P=Gt.S;P!==null&&P(A,G),fc(n,i,G)}catch(ut){Ml(n,i,ut)}finally{b!==null&&A.types!==null&&(b.types=A.types),Gt.T=b}}else try{b=c(v,d),fc(n,i,b)}catch(ut){Ml(n,i,ut)}}function fc(n,i,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){os(n,i,d)},function(d){return Ml(n,i,d)}):os(n,i,c)}function os(n,i,c){i.status="fulfilled",i.value=c,Go(i),n.state=c,i=n.pending,i!==null&&(c=i.next,c===i?n.pending=null:(c=c.next,i.next=c,oc(n,c)))}function Ml(n,i,c){var d=n.pending;if(n.pending=null,d!==null){d=d.next;do i.status="rejected",i.reason=c,Go(i),i=i.next;while(i!==d)}n.action=null}function Go(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function hc(n,i){return i}function Bo(n,i){if(le){var c=$t.formState;if(c!==null){t:{var d=Jt;if(le){if(we){var v=Cd(we,tn);if(v){we=Ed(v),d=Nf(v);break t}}he(d)}d=!1}d&&(i=c[0])}}c=Xa(),c.memoizedState=c.baseState=i,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:i},c.queue=d,c=Bh.bind(null,Jt,d),d.dispatch=c,d=Uo(!1);var b=pc.bind(null,Jt,!1,d.queue);return d=Xa(),v={state:i,dispatch:null,action:n,pending:null},d.queue=v,c=Pi.bind(null,Jt,v,b,c),v.dispatch=c,d.memoizedState=n,[i,c,!1]}function eu(n){var i=Be();return vi(i,Rt,n)}function vi(n,i,c){if(i=uc(n,i,hc)[0],n=Fi(si)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var d=Va(i)}catch(A){throw A===Ta?$n:A}else d=i;i=Be();var v=i.queue,b=v.dispatch;return c!==i.memoizedState&&(Jt.flags|=2048,En(9,{destroy:void 0},Ho.bind(null,v,c),null)),[d,b,n]}function Ho(n,i){n.action=i}function au(n){var i=Be(),c=Rt;if(c!==null)return vi(i,c,n);Be(),i=i.memoizedState,c=Be();var d=c.queue.dispatch;return c.memoizedState=n,[i,d,!1]}function En(n,i,c,d){return n={tag:n,create:c,deps:d,inst:i,next:null},i=Jt.updateQueue,i===null&&(i=lc(),Jt.updateQueue=i),c=i.lastEffect,c===null?i.lastEffect=n.next=n:(d=c.next,c.next=n,n.next=d,i.lastEffect=n),n}function dc(){return Be().memoizedState}function fs(n,i,c,d){var v=Xa();Jt.flags|=n,v.memoizedState=En(1|i,{destroy:void 0},c,d===void 0?null:d)}function lr(n,i,c,d){var v=Be();d=d===void 0?null:d;var b=v.memoizedState.inst;Rt!==null&&d!==null&&Oo(d,Rt.memoizedState.deps)?v.memoizedState=En(i,b,c,d):(Jt.flags|=n,v.memoizedState=En(1|i,b,c,d))}function sr(n,i){fs(8390656,8,n,i)}function nu(n,i){lr(2048,8,n,i)}function Dh(n){Jt.flags|=4;var i=Jt.updateQueue;if(i===null)i=lc(),Jt.updateQueue=i,i.events=[n];else{var c=i.events;c===null?i.events=[n]:c.push(n)}}function Fa(n){var i=Be().memoizedState;return Dh({ref:i,nextImpl:n}),function(){if((ae&2)!==0)throw Error(o(440));return i.impl.apply(void 0,arguments)}}function Nl(n,i){return lr(4,2,n,i)}function ur(n,i){return lr(4,4,n,i)}function iu(n,i){if(typeof i=="function"){n=n();var c=i(n);return function(){typeof c=="function"?c():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Rh(n,i,c){c=c!=null?c.concat([n]):null,lr(4,4,iu.bind(null,i,n),c)}function rr(){}function mc(n,i){var c=Be();i=i===void 0?null:i;var d=c.memoizedState;return i!==null&&Oo(i,d[1])?d[0]:(c.memoizedState=[n,i],n)}function lu(n,i){var c=Be();i=i===void 0?null:i;var d=c.memoizedState;if(i!==null&&Oo(i,d[1]))return d[0];if(d=n(),ce){jt(!0);try{n()}finally{jt(!1)}}return c.memoizedState=[d,i],d}function su(n,i,c){return c===void 0||(ol&1073741824)!==0&&(se&261930)===0?n.memoizedState=i:(n.memoizedState=c,n=$i(),Jt.lanes|=n,fl|=n,c)}function jo(n,i,c,d){return ra(c,i)?c:Us.current!==null?(n=su(n,c,d),ra(n,i)||(ze=!0),n):(ol&42)===0||(ol&1073741824)!==0&&(se&261930)===0?(ze=!0,n.memoizedState=c):(n=$i(),Jt.lanes|=n,fl|=n,i)}function zh(n,i,c,d,v){var b=Zn();ie(b!==0&&8>b?b:8);var A=Gt.T,G={};Gt.T=G,pc(n,!1,i,c);try{var P=v(),ut=Gt.S;if(ut!==null&&ut(G,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var pt=Wr(P,d);cr(n,i,pt,He(n))}else cr(n,i,d,He(n))}catch(ot){cr(n,i,{then:function(){},status:"rejected",reason:ot},He())}finally{ie(b),A!==null&&G.types!==null&&(A.types=G.types),Gt.T=A}}function Uh(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Ts,baseState:Ts,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:Ts},next:null};var c={};return i.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:c},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function wo(){return Sa(As)}function gc(){return Be().memoizedState}function Gh(){return Be().memoizedState}function t1(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var c=He();n=pi(c);var d=El(i,n,c);d!==null&&(Qe(d,i,c),tr(d,i,c)),i={cache:Dt()},n.payload=i;return}i=i.return}}function e1(n,i,c){var d=He();c={lane:d,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},yc(n)?Hh(i,c):(c=ec(n,i,c,d),c!==null&&(Qe(c,n,d),jh(c,i,d)))}function Bh(n,i,c){var d=He();cr(n,i,c,d)}function cr(n,i,c,d){var v={lane:d,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(yc(n))Hh(i,v);else{var b=n.alternate;if(n.lanes===0&&(b===null||b.lanes===0)&&(b=i.lastRenderedReducer,b!==null))try{var A=i.lastRenderedState,G=b(A,c);if(v.hasEagerState=!0,v.eagerState=G,ra(G,A))return Is(n,i,v,0),$t===null&&Ps(),!1}catch{}finally{}if(c=ec(n,i,v,d),c!==null)return Qe(c,n,d),jh(c,i,d),!0}return!1}function pc(n,i,c,d){if(d={lane:2,revertLane:Mo(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},yc(n)){if(i)throw Error(o(479))}else i=ec(n,c,d,2),i!==null&&Qe(i,n,2)}function yc(n){var i=n.alternate;return n===Jt||i!==null&&i===Jt}function Hh(n,i){Pt=Wt=!0;var c=n.pending;c===null?i.next=i:(i.next=c.next,c.next=i),n.pending=i}function jh(n,i,c){if((c&4194048)!==0){var d=i.lanes;d&=n.pendingLanes,c|=d,i.lanes=c,xt(n,c)}}function Lo(n,i,c,d){i=n.memoizedState,c=c(d,i),c=c==null?i:jc({},i,c),n.memoizedState=c,n.lanes===0&&(n.updateQueue.baseState=c)}function vc(n,i,c,d,v,b,A){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,b,A):i.prototype&&i.prototype.isPureReactComponent?!ls(c,d)||!ls(v,b):!0}function wh(n,i,c,d){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,d),i.state!==n&&jr.enqueueReplaceState(i,i.state,null)}function hs(n,i){var c=i;if("ref"in i){c={};for(var d in i)d!=="ref"&&(c[d]=i[d])}if(n=n.defaultProps){c===i&&(c=jc({},c));for(var v in n)c[v]===void 0&&(c[v]=n[v])}return c}function Sc(n,i){try{var c=n.onUncaughtError;c(i.value,{componentStack:i.stack})}catch(d){setTimeout(function(){throw d})}}function Yo(n,i,c){try{var d=n.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function qo(n,i,c){return c=pi(c),c.tag=3,c.payload={element:null},c.callback=function(){Sc(n,i)},c}function Lh(n){return n=pi(n),n.tag=3,n}function Yh(n,i,c,d){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var b=d.value;n.payload=function(){return v(b)},n.callback=function(){Yo(i,c,d)}}var A=c.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(n.callback=function(){Yo(i,c,d),typeof v!="function"&&(hl===null?hl=new Set([this]):hl.add(this));var G=d.stack;this.componentDidCatch(d.value,{componentStack:G!==null?G:""})})}function a1(n,i,c,d,v){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(i=c.alternate,i!==null&&gi(i,c,v,!0),c=gn.current,c!==null){switch(c.tag){case 31:case 13:return an===null?yu():c.alternate===null&&Je===0&&(Je=3),c.flags&=-257,c.flags|=65536,c.lanes=v,d===Bi?c.flags|=16384:(i=c.updateQueue,i===null?c.updateQueue=new Set([d]):i.add(d),bu(n,d,v)),!1;case 22:return c.flags|=65536,d===Bi?c.flags|=16384:(i=c.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=i):(c=i.retryQueue,c===null?i.retryQueue=new Set([d]):c.add(d)),bu(n,d,v)),!1}throw Error(o(435,c.tag))}return bu(n,d,v),yu(),!1}if(le)return i=gn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=v,d!==so&&(n=Error(o(422),{cause:d}),Sn(Et(n,c)))):(d!==so&&(i=Error(o(423),{cause:d}),Sn(Et(i,c))),n=n.current.alternate,n.flags|=65536,v&=-v,n.lanes|=v,d=Et(d,c),v=qo(n.stateNode,d,v),ac(n,v),Je!==4&&(Je=2)),!1;var b=Error(o(520),{cause:d});if(b=Et(b,c),Lr===null?Lr=[b]:Lr.push(b),Je!==4&&(Je=2),i===null)return!0;d=Et(d,c),c=i;do{switch(c.tag){case 3:return c.flags|=65536,n=v&-v,c.lanes|=n,n=qo(c.stateNode,d,n),ac(c,n),!1;case 1:if(i=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(hl===null||!hl.has(b))))return c.flags|=65536,v&=-v,c.lanes|=v,v=Lh(v),Yh(v,n,c,d),ac(c,v),!1}c=c.return}while(c!==null);return!1}function Ga(n,i,c,d){i.child=n===null?Zf(i,null,c,d):ja(i,n.child,c,d)}function qh(n,i,c,d,v){c=c.render;var b=i.ref;if("ref"in d){var A={};for(var G in d)G!=="ref"&&(A[G]=d[G])}else A=d;return Ki(i),d=$s(n,i,c,A,b,v),G=ic(),n!==null&&!ze?(Do(n,i,v),Si(n,i,v)):(le&&G&&$(i),i.flags|=1,Ga(n,i,d,v),i.child)}function Xh(n,i,c,d,v){if(n===null){var b=c.type;return typeof b=="function"&&!ys(b)&&b.defaultProps===void 0&&c.compare===null?(i.tag=15,i.type=b,Vh(n,i,b,d,v)):(n=al(c.type,null,d,i,i.mode,v),n.ref=i.ref,n.return=i,i.child=n)}if(b=n.child,!fr(n,v)){var A=b.memoizedProps;if(c=c.compare,c=c!==null?c:ls,c(A,d)&&n.ref===i.ref)return Si(n,i,v)}return i.flags|=1,n=Mn(b,d),n.ref=i.ref,n.return=i,i.child=n}function Vh(n,i,c,d,v){if(n!==null){var b=n.memoizedProps;if(ls(b,d)&&n.ref===i.ref)if(ze=!1,i.pendingProps=d=b,fr(n,v))(n.flags&131072)!==0&&(ze=!0);else return i.lanes=n.lanes,Si(n,i,v)}return xc(n,i,c,d,v)}function Qh(n,i,c,d){var v=d.children,b=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((i.flags&128)!==0){if(b=b!==null?b.baseLanes|c:c,n!==null){for(d=i.child=n.child,v=0;d!==null;)v=v|d.lanes|d.childLanes,d=d.sibling;d=v&~b}else d=0,i.child=null;return uu(n,i,b,c,d)}if((c&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&is(i,b!==null?b.cachePool:null),b!==null?Ws(i,b):Tl(),Al(i);else return d=i.lanes=536870912,uu(n,i,b!==null?b.baseLanes|c:c,c,d)}else b!==null?(is(i,b.cachePool),Ws(i,b),_n(),i.memoizedState=null):(n!==null&&is(i,null),Tl(),_n());return Ga(n,i,v,c),i.child}function ds(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function uu(n,i,c,d,v){var b=Zs();return b=b===null?null:{parent:sa?Le._currentValue:Le._currentValue2,pool:b},i.memoizedState={baseLanes:c,cachePool:b},n!==null&&is(i,null),Tl(),Al(i),n!==null&&gi(n,i,d,!0),i.childLanes=v,null}function bc(n,i){return i=Ol({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function Xo(n,i,c){return ja(i,n.child,null,c),n=bc(i,i.pendingProps),n.flags|=2,Cn(i),i.memoizedState=null,n}function Kh(n,i,c){var d=i.pendingProps,v=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(le){if(d.mode==="hidden")return n=bc(i,d),i.lanes=536870912,ds(null,n);if(nc(i),(n=we)?(n=Df(n,tn),n!==null&&(i.memoizedState={dehydrated:n,treeContext:Fn!==null?{id:Ba,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},c=sf(n),c.return=i,i.child=c,Ca=i,we=null)):n=null,n===null)throw he(i);return i.lanes=536870912,null}return bc(i,d)}var b=n.memoizedState;if(b!==null){var A=b.dehydrated;if(nc(i),v)if(i.flags&256)i.flags&=-257,i=Xo(n,i,c);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(o(558));else if(ze||gi(n,i,c,!1),v=(c&n.childLanes)!==0,ze||v){if(d=$t,d!==null&&(A=At(d,c),A!==0&&A!==b.retryLane))throw b.retryLane=A,_l(n,A),Qe(d,n,A),nn;yu(),i=Xo(n,i,c)}else n=b.treeContext,je&&(we=Nd(A),Ca=i,le=!0,Gi=null,tn=!1,n!==null&&Tt(i,n)),i=bc(i,d),i.flags|=4096;return i}return n=Mn(n.child,{mode:d.mode,children:d.children}),n.ref=i.ref,i.child=n,n.return=i,n}function or(n,i){var c=i.ref;if(c===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(o(284));(n===null||n.ref!==c)&&(i.flags|=4194816)}}function xc(n,i,c,d,v){return Ki(i),c=$s(n,i,c,d,void 0,v),d=ic(),n!==null&&!ze?(Do(n,i,v),Si(n,i,v)):(le&&d&&$(i),i.flags|=1,Ga(n,i,c,v),i.child)}function Vo(n,i,c,d,v,b){return Ki(i),i.updateQueue=null,c=yi(i,d,c,v),ar(n),d=ic(),n!==null&&!ze?(Do(n,i,b),Si(n,i,b)):(le&&d&&$(i),i.flags|=1,Ga(n,i,c,b),i.child)}function ms(n,i,c,d,v){if(Ki(i),i.stateNode===null){var b=Ri,A=c.contextType;typeof A=="object"&&A!==null&&(b=Sa(A)),b=new c(d,b),i.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=jr,i.stateNode=b,b._reactInternals=i,b=i.stateNode,b.props=d,b.state=i.memoizedState,b.refs={},qa(i),A=c.contextType,b.context=typeof A=="object"&&A!==null?Sa(A):Ri,b.state=i.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(Lo(i,c,A,d),b.state=i.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(A=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),A!==b.state&&jr.enqueueReplaceState(b,b.state,null),ss(i,d,b,v),ki(),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308),d=!0}else if(n===null){b=i.stateNode;var G=i.memoizedProps,P=hs(c,G);b.props=P;var ut=b.context,pt=c.contextType;A=Ri,typeof pt=="object"&&pt!==null&&(A=Sa(pt));var ot=c.getDerivedStateFromProps;pt=typeof ot=="function"||typeof b.getSnapshotBeforeUpdate=="function",G=i.pendingProps!==G,pt||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(G||ut!==A)&&wh(i,b,d,A),Dn=!1;var Ct=i.memoizedState;b.state=Ct,ss(i,d,b,v),ki(),ut=i.memoizedState,G||Ct!==ut||Dn?(typeof ot=="function"&&(Lo(i,c,ot,d),ut=i.memoizedState),(P=Dn||vc(i,c,P,d,Ct,ut,A))?(pt||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=ut),b.props=d,b.state=ut,b.context=A,d=P):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{b=i.stateNode,Cl(n,i),A=i.memoizedProps,pt=hs(c,A),b.props=pt,ot=i.pendingProps,Ct=b.context,ut=c.contextType,P=Ri,typeof ut=="object"&&ut!==null&&(P=Sa(ut)),G=c.getDerivedStateFromProps,(ut=typeof G=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==ot||Ct!==P)&&wh(i,b,d,P),Dn=!1,Ct=i.memoizedState,b.state=Ct,ss(i,d,b,v),ki();var Zt=i.memoizedState;A!==ot||Ct!==Zt||Dn||n!==null&&n.dependencies!==null&&Sl(n.dependencies)?(typeof G=="function"&&(Lo(i,c,G,d),Zt=i.memoizedState),(pt=Dn||vc(i,c,pt,d,Ct,Zt,P)||n!==null&&n.dependencies!==null&&Sl(n.dependencies))?(ut||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,Zt,P),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,Zt,P)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||A===n.memoizedProps&&Ct===n.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&Ct===n.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=Zt),b.props=d,b.state=Zt,b.context=P,d=pt):(typeof b.componentDidUpdate!="function"||A===n.memoizedProps&&Ct===n.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&Ct===n.memoizedState||(i.flags|=1024),d=!1)}return b=d,or(n,i),d=(i.flags&128)!==0,b||d?(b=i.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:b.render(),i.flags|=1,n!==null&&d?(i.child=ja(i,n.child,null,v),i.child=ja(i,null,c,v)):Ga(n,i,c,v),i.memoizedState=b.state,n=i.child):n=Si(n,i,v),n}function Zh(n,i,c,d){return mi(),i.flags|=256,Ga(n,i,c,d),i.child}function Qo(n){return{baseLanes:n,cachePool:bl()}}function Ko(n,i,c){return n=n!==null?n.childLanes&~c:0,i&&(n|=ln),n}function Zo(n,i,c){var d=i.pendingProps,v=!1,b=(i.flags&128)!==0,A;if((A=b)||(A=n!==null&&n.memoizedState===null?!1:(ea.current&2)!==0),A&&(v=!0,i.flags&=-129),A=(i.flags&32)!==0,i.flags&=-33,n===null){if(le){if(v?Ji(i):_n(),(n=we)?(n=zd(n,tn),n!==null&&(i.memoizedState={dehydrated:n,treeContext:Fn!==null?{id:Ba,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},c=sf(n),c.return=i,i.child=c,Ca=i,we=null)):n=null,n===null)throw he(i);return Kc(n)?i.lanes=32:i.lanes=536870912,null}var G=d.children;return d=d.fallback,v?(_n(),v=i.mode,G=Ol({mode:"hidden",children:G},v),d=Qn(d,v,c,null),G.return=i,d.return=i,G.sibling=d,i.child=G,d=i.child,d.memoizedState=Qo(c),d.childLanes=Ko(n,A,c),i.memoizedState=Gs,ds(null,d)):(Ji(i),_c(i,G))}var P=n.memoizedState;if(P!==null&&(G=P.dehydrated,G!==null)){if(b)i.flags&256?(Ji(i),i.flags&=-257,i=gs(n,i,c)):i.memoizedState!==null?(_n(),i.child=n.child,i.flags|=128,i=null):(_n(),G=d.fallback,v=i.mode,d=Ol({mode:"visible",children:d.children},v),G=Qn(G,v,c,null),G.flags|=2,d.return=i,G.return=i,d.sibling=G,i.child=d,ja(i,n.child,null,c),d=i.child,d.memoizedState=Qo(c),d.childLanes=Ko(n,A,c),i.memoizedState=Gs,i=ds(null,d));else if(Ji(i),Kc(G))A=Zc(G).digest,d=Error(o(419)),d.stack="",d.digest=A,Sn({value:d,source:null,stack:null}),i=gs(n,i,c);else if(ze||gi(n,i,c,!1),A=(c&n.childLanes)!==0,ze||A){if(A=$t,A!==null&&(d=At(A,c),d!==0&&d!==P.retryLane))throw P.retryLane=d,_l(n,d),Qe(A,n,d),nn;Xl(G)||yu(),i=gs(n,i,c)}else Xl(G)?(i.flags|=192,i.child=n.child,i=null):(n=P.treeContext,je&&(we=Od(G),Ca=i,le=!0,Gi=null,tn=!1,n!==null&&Tt(i,n)),i=_c(i,d.children),i.flags|=4096);return i}return v?(_n(),G=d.fallback,v=i.mode,P=n.child,b=P.sibling,d=Mn(P,{mode:"hidden",children:d.children}),d.subtreeFlags=P.subtreeFlags&65011712,b!==null?G=Mn(b,G):(G=Qn(G,v,c,null),G.flags|=2),G.return=i,d.return=i,d.sibling=G,i.child=d,ds(null,d),d=i.child,G=n.child.memoizedState,G===null?G=Qo(c):(v=G.cachePool,v!==null?(P=sa?Le._currentValue:Le._currentValue2,v=v.parent!==P?{parent:P,pool:P}:v):v=bl(),G={baseLanes:G.baseLanes|c,cachePool:v}),d.memoizedState=G,d.childLanes=Ko(n,A,c),i.memoizedState=Gs,ds(n.child,d)):(Ji(i),c=n.child,n=c.sibling,c=Mn(c,{mode:"visible",children:d.children}),c.return=i,c.sibling=null,n!==null&&(A=i.deletions,A===null?(i.deletions=[n],i.flags|=16):A.push(n)),i.child=c,i.memoizedState=null,c)}function _c(n,i){return i=Ol({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Ol(n,i){return n=l(22,n,null,i),n.lanes=0,n}function gs(n,i,c){return ja(i,n.child,null,c),n=_c(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function kh(n,i,c){n.lanes|=i;var d=n.alternate;d!==null&&(d.lanes|=i),Qi(n.return,i,c)}function ru(n,i,c,d,v,b){var A=n.memoizedState;A===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:v,treeForkCount:b}:(A.isBackwards=i,A.rendering=null,A.renderingStartTime=0,A.last=d,A.tail=c,A.tailMode=v,A.treeForkCount=b)}function ko(n,i,c){var d=i.pendingProps,v=d.revealOrder,b=d.tail;d=d.children;var A=ea.current,G=(A&2)!==0;if(G?(A=A&1|2,i.flags|=128):A&=1,N(ea,A),Ga(n,i,d,c),d=le?Gr:0,!G&&n!==null&&(n.flags&128)!==0)t:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&kh(n,c,i);else if(n.tag===19)kh(n,c,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(v){case"forwards":for(c=i.child,v=null;c!==null;)n=c.alternate,n!==null&&er(n)===null&&(v=c),c=c.sibling;c=v,c===null?(v=i.child,i.child=null):(v=c.sibling,c.sibling=null),ru(i,!1,v,c,b,d);break;case"backwards":case"unstable_legacy-backwards":for(c=null,v=i.child,i.child=null;v!==null;){if(n=v.alternate,n!==null&&er(n)===null){i.child=v;break}n=v.sibling,v.sibling=c,c=v,v=n}ru(i,!0,c,null,b,d);break;case"together":ru(i,!1,null,null,void 0,d);break;default:i.memoizedState=null}return i.child}function Si(n,i,c){if(n!==null&&(i.dependencies=n.dependencies),fl|=i.lanes,(c&i.childLanes)===0)if(n!==null){if(gi(n,i,c,!1),(c&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(o(153));if(i.child!==null){for(n=i.child,c=Mn(n,n.pendingProps),i.child=c,c.return=i;n.sibling!==null;)n=n.sibling,c=c.sibling=Mn(n,n.pendingProps),c.return=i;c.sibling=null}return i.child}function fr(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Sl(n)))}function Jo(n,i,c){switch(i.tag){case 3:wt(i,i.stateNode.containerInfo),bn(i,Le,n.memoizedState.cache),mi();break;case 27:case 5:fe(i);break;case 4:wt(i,i.stateNode.containerInfo);break;case 10:bn(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,nc(i),null;break;case 13:var d=i.memoizedState;if(d!==null)return d.dehydrated!==null?(Ji(i),i.flags|=128,null):(c&i.child.childLanes)!==0?Zo(n,i,c):(Ji(i),n=Si(n,i,c),n!==null?n.sibling:null);Ji(i);break;case 19:var v=(n.flags&128)!==0;if(d=(c&i.childLanes)!==0,d||(gi(n,i,c,!1),d=(c&i.childLanes)!==0),v){if(d)return ko(n,i,c);i.flags|=128}if(v=i.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),N(ea,ea.current),d)break;return null;case 22:return i.lanes=0,Qh(n,i,c,i.pendingProps);case 24:bn(i,Le,n.memoizedState.cache)}return Si(n,i,c)}function Fo(n,i,c){if(n!==null)if(n.memoizedProps!==i.pendingProps)ze=!0;else{if(!fr(n,c)&&(i.flags&128)===0)return ze=!1,Jo(n,i,c);ze=(n.flags&131072)!==0}else ze=!1,le&&(i.flags&1048576)!==0&&z(i,Gr,i.index);switch(i.lanes=0,i.tag){case 16:t:{var d=i.pendingProps;if(n=xl(i.elementType),i.type=n,typeof n=="function")ys(n)?(d=hs(n,d),i.tag=1,i=ms(null,i,n,d,c)):(i.tag=0,i=xc(null,i,n,d,c));else{if(n!=null){var v=n.$$typeof;if(v===xu){i.tag=11,i=qh(null,i,n,d,c);break t}else if(v===Lc){i.tag=14,i=Xh(null,i,n,d,c);break t}}throw i=E(n)||n,Error(o(306,i,""))}}return i;case 0:return xc(n,i,i.type,i.pendingProps,c);case 1:return d=i.type,v=hs(d,i.pendingProps),ms(n,i,d,v,c);case 3:t:{if(wt(i,i.stateNode.containerInfo),n===null)throw Error(o(387));var b=i.pendingProps;v=i.memoizedState,d=v.element,Cl(n,i),ss(i,b,null,c);var A=i.memoizedState;if(b=A.cache,bn(i,Le,b),b!==v.cache&&as(i,[Le],c,!0),ki(),b=A.element,je&&v.isDehydrated)if(v={element:b,isDehydrated:!1,cache:A.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=Zh(n,i,b,c);break t}else if(b!==d){d=Et(Error(o(424)),i),Sn(d),i=Zh(n,i,b,c);break t}else for(je&&(we=Md(i.stateNode.containerInfo),Ca=i,le=!0,Gi=null,tn=!0),c=Zf(i,null,b,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(mi(),b===d){i=Si(n,i,c);break t}Ga(n,i,b,c)}i=i.child}return i;case 26:if(kn)return or(n,i),n===null?(c=Bf(i.type,null,i.pendingProps,null))?i.memoizedState=c:le||(i.stateNode=Pc(i.type,i.pendingProps,Ha.current,i)):i.memoizedState=Bf(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:if(_a)return fe(i),n===null&&_a&&le&&(d=i.stateNode=Ic(i.type,i.pendingProps,Ha.current,Oa.current,!1),Ca=i,tn=!0,we=Of(i.type,d,we)),Ga(n,i,i.pendingProps.children,c),or(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&le&&(qd(i.type,i.pendingProps,Oa.current),(v=d=we)&&(d=Dd(d,i.type,i.pendingProps,tn),d!==null?(i.stateNode=d,Ca=i,we=Ad(d),tn=!1,v=!0):v=!1),v||he(i)),fe(i),v=i.type,b=i.pendingProps,A=n!==null?n.memoizedProps:null,d=b.children,$a(v,b)?d=null:A!==null&&$a(v,A)&&(i.flags|=32),i.memoizedState!==null&&(v=$s(n,i,wn,null,null,c),sa?As._currentValue=v:As._currentValue2=v),or(n,i),Ga(n,i,d,c),i.child;case 6:return n===null&&le&&(Gf(i.pendingProps,Oa.current),(n=c=we)&&(c=Rd(c,i.pendingProps,tn),c!==null?(i.stateNode=c,Ca=i,we=null,n=!0):n=!1),n||he(i)),null;case 13:return Zo(n,i,c);case 4:return wt(i,i.stateNode.containerInfo),d=i.pendingProps,n===null?i.child=ja(i,null,d,c):Ga(n,i,d,c),i.child;case 11:return qh(n,i,i.type,i.pendingProps,c);case 7:return Ga(n,i,i.pendingProps,c),i.child;case 8:return Ga(n,i,i.pendingProps.children,c),i.child;case 12:return Ga(n,i,i.pendingProps.children,c),i.child;case 10:return d=i.pendingProps,bn(i,i.type,d.value),Ga(n,i,d.children,c),i.child;case 9:return v=i.type._context,d=i.pendingProps.children,Ki(i),v=Sa(v),d=d(v),i.flags|=1,Ga(n,i,d,c),i.child;case 14:return Xh(n,i,i.type,i.pendingProps,c);case 15:return Vh(n,i,i.type,i.pendingProps,c);case 19:return ko(n,i,c);case 31:return Kh(n,i,c);case 22:return Qh(n,i,c,i.pendingProps);case 24:return Ki(i),d=Sa(Le),n===null?(v=Zs(),v===null&&(v=$t,b=Dt(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=c),v=b),i.memoizedState={parent:d,cache:v},qa(i),bn(i,Le,v)):((n.lanes&c)!==0&&(Cl(n,i),ss(i,null,null,c),ki()),v=n.memoizedState,b=i.memoizedState,v.parent!==d?(v={parent:d,cache:d},i.memoizedState=v,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=v),bn(i,Le,d)):(d=b.cache,bn(i,Le,d),d!==v.cache&&as(i,[Le],c,!0))),Ga(n,i,i.pendingProps.children,c),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function Ln(n){n.flags|=4}function hr(n){Nn&&(n.flags|=8)}function Jh(n,i){if(n!==null&&n.child===i.child)return!1;if((i.flags&16)!==0)return!0;for(n=i.child;n!==null;){if((n.flags&8218)!==0||(n.subtreeFlags&8218)!==0)return!0;n=n.sibling}return!1}function Po(n,i,c,d){if(re)for(c=i.child;c!==null;){if(c.tag===5||c.tag===6)Ar(n,c.stateNode);else if(!(c.tag===4||_a&&c.tag===27)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}else if(Nn)for(var v=i.child;v!==null;){if(v.tag===5){var b=v.stateNode;c&&d&&(b=_d(b,v.type,v.memoizedProps)),Ar(n,b)}else if(v.tag===6)b=v.stateNode,c&&d&&(b=Mf(b,v.memoizedProps)),Ar(n,b);else if(v.tag!==4){if(v.tag===22&&v.memoizedState!==null)b=v.child,b!==null&&(b.return=v),Po(n,v,!0,!0);else if(v.child!==null){v.child.return=v,v=v.child;continue}}if(v===i)break;for(;v.sibling===null;){if(v.return===null||v.return===i)return;v=v.return}v.sibling.return=v.return,v=v.sibling}}function Fh(n,i,c,d){var v=!1;if(Nn)for(var b=i.child;b!==null;){if(b.tag===5){var A=b.stateNode;c&&d&&(A=_d(A,b.type,b.memoizedProps)),Tf(n,A)}else if(b.tag===6)A=b.stateNode,c&&d&&(A=Mf(A,b.memoizedProps)),Tf(n,A);else if(b.tag!==4){if(b.tag===22&&b.memoizedState!==null)v=b.child,v!==null&&(v.return=b),Fh(n,b,!0,!0),v=!0;else if(b.child!==null){b.child.return=b,b=b.child;continue}}if(b===i)break;for(;b.sibling===null;){if(b.return===null||b.return===i)return v;b=b.return}b.sibling.return=b.return,b=b.sibling}return v}function Ph(n,i){if(Nn&&Jh(n,i)){n=i.stateNode;var c=n.containerInfo,d=Ef();Fh(d,i,!1,!1),n.pendingChildren=d,Ln(i),xd(c,d)}}function Io(n,i,c,d){if(re)n.memoizedProps!==d&&Ln(i);else if(Nn){var v=n.stateNode,b=n.memoizedProps;if((n=Jh(n,i))||b!==d){var A=Oa.current;b=bd(v,c,b,d,!n,null),b===v?i.stateNode=v:(hr(i),fn(b,c,d,A)&&Ln(i),i.stateNode=b,n&&Po(b,i,!1,!1))}else i.stateNode=v}}function Pa(n,i,c,d,v){if((n.mode&32)!==0&&(c===null?Mr(i,d):Au(i,c,d))){if(n.flags|=16777216,(v&335544128)===v||df(i,d))if(Ke(n.stateNode,i,d))n.flags|=8192;else if(ue())n.flags|=8192;else throw en=Bi,ro}else n.flags&=-16777217}function cu(n,i){if(Lf(i)){if(n.flags|=16777216,!Yf(i))if(ue())n.flags|=8192;else throw en=Bi,ro}else n.flags&=-16777217}function dr(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?W():536870912,n.lanes|=i,Bu|=i)}function ou(n,i){if(!le)switch(n.tailMode){case"hidden":i=n.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n.tail=null:c.sibling=null;break;case"collapsed":c=n.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function Ae(n){var i=n.alternate!==null&&n.alternate.child===n.child,c=0,d=0;if(i)for(var v=n.child;v!==null;)c|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=n,v=v.sibling;else for(v=n.child;v!==null;)c|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=n,v=v.sibling;return n.subtreeFlags|=d,n.childLanes=c,i}function Ih(n,i,c){var d=i.pendingProps;switch(lt(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(i),null;case 1:return Ae(i),null;case 3:return c=i.stateNode,d=null,n!==null&&(d=n.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),jn(Le),Xt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Ya(i)?Ln(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,li())),Ph(n,i),Ae(i),null;case 26:if(kn){var v=i.type,b=i.memoizedState;return n===null?(Ln(i),b!==null?(Ae(i),cu(i,b)):(Ae(i),Pa(i,v,null,d,c))):b?b!==n.memoizedState?(Ln(i),Ae(i),cu(i,b)):(Ae(i),i.flags&=-16777217):(b=n.memoizedProps,re?b!==d&&Ln(i):Io(n,i,v,d),Ae(i),Pa(i,v,b,d,c)),null}case 27:if(_a){if(Ie(i),c=Ha.current,v=i.type,n!==null&&i.stateNode!=null)re?n.memoizedProps!==d&&Ln(i):Io(n,i,v,d);else{if(!d){if(i.stateNode===null)throw Error(o(166));return Ae(i),null}n=Oa.current,Ya(i)?vl(i,n):(n=Ic(v,d,c,n,!0),i.stateNode=n,Ln(i))}return Ae(i),null}case 5:if(Ie(i),v=i.type,n!==null&&i.stateNode!=null)Io(n,i,v,d);else{if(!d){if(i.stateNode===null)throw Error(o(166));return Ae(i),null}if(b=Oa.current,Ya(i))vl(i,b),wd(i.stateNode,v,d,b)&&(i.flags|=64);else{var A=ff(v,d,Ha.current,b,i);hr(i),Po(A,i,!1,!1),i.stateNode=A,fn(A,v,d,b)&&Ln(i)}}return Ae(i),Pa(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,c),null;case 6:if(n&&i.stateNode!=null)c=n.memoizedProps,re?c!==d&&Ln(i):Nn&&(c!==d?(n=Ha.current,c=Oa.current,hr(i),i.stateNode=ll(d,n,c,i)):i.stateNode=n.stateNode);else{if(typeof d!="string"&&i.stateNode===null)throw Error(o(166));if(n=Ha.current,c=Oa.current,Ya(i)){if(!je)throw Error(o(176));if(n=i.stateNode,c=i.memoizedProps,d=null,v=Ca,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}u1(n,c,i,d)||he(i,!0)}else hr(i),i.stateNode=ll(d,n,c,i)}return Ae(i),null;case 31:if(c=i.memoizedState,n===null||n.memoizedState!==null){if(d=Ya(i),c!==null){if(n===null){if(!d)throw Error(o(318));if(!je)throw Error(o(556));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(557));Rf(n,i)}else mi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ae(i),n=!1}else c=li(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=c),n=!0;if(!n)return i.flags&256?(Cn(i),i):(Cn(i),null);if((i.flags&128)!==0)throw Error(o(558))}return Ae(i),null;case 13:if(d=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(v=Ya(i),d!==null&&d.dehydrated!==null){if(n===null){if(!v)throw Error(o(318));if(!je)throw Error(o(344));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(o(317));Gd(v,i)}else mi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ae(i),v=!1}else v=li(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=v),v=!0;if(!v)return i.flags&256?(Cn(i),i):(Cn(i),null)}return Cn(i),(i.flags&128)!==0?(i.lanes=c,i):(c=d!==null,n=n!==null&&n.memoizedState!==null,c&&(d=i.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==v&&(d.flags|=2048)),c!==n&&c&&(i.child.flags|=8192),dr(i,i.updateQueue),Ae(i),null);case 4:return Xt(),Ph(n,i),n===null&&Ee(i.stateNode.containerInfo),Ae(i),null;case 10:return jn(i.type),Ae(i),null;case 19:if(D(ea),d=i.memoizedState,d===null)return Ae(i),null;if(v=(i.flags&128)!==0,b=d.rendering,b===null)if(v)ou(d,!1);else{if(Je!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(b=er(n),b!==null){for(i.flags|=128,ou(d,!1),n=b.updateQueue,i.updateQueue=n,dr(i,n),i.subtreeFlags=0,n=c,c=i.child;c!==null;)Gc(c,n),c=c.sibling;return N(ea,ea.current&1|2),le&&Ot(i,d.treeForkCount),i.child}n=n.sibling}d.tail!==null&&Ka()>$l&&(i.flags|=128,v=!0,ou(d,!1),i.lanes=4194304)}else{if(!v)if(n=er(b),n!==null){if(i.flags|=128,v=!0,n=n.updateQueue,i.updateQueue=n,dr(i,n),ou(d,!0),d.tail===null&&d.tailMode==="hidden"&&!b.alternate&&!le)return Ae(i),null}else 2*Ka()-d.renderingStartTime>$l&&c!==536870912&&(i.flags|=128,v=!0,ou(d,!1),i.lanes=4194304);d.isBackwards?(b.sibling=i.child,i.child=b):(n=d.last,n!==null?n.sibling=b:i.child=b,d.last=b)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=Ka(),n.sibling=null,c=ea.current,N(ea,v?c&1|2:c&1),le&&Ot(i,d.treeForkCount),n):(Ae(i),null);case 22:case 23:return Cn(i),ma(),d=i.memoizedState!==null,n!==null?n.memoizedState!==null!==d&&(i.flags|=8192):d&&(i.flags|=8192),d?(c&536870912)!==0&&(i.flags&128)===0&&(Ae(i),i.subtreeFlags&6&&(i.flags|=8192)):Ae(i),c=i.updateQueue,c!==null&&dr(i,c.retryQueue),c=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==c&&(i.flags|=2048),n!==null&&D(Kl),null;case 24:return c=null,n!==null&&(c=n.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),jn(Le),Ae(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function Wo(n,i){switch(lt(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return jn(Le),Xt(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Ie(i),null;case 31:if(i.memoizedState!==null){if(Cn(i),i.alternate===null)throw Error(o(340));mi()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(Cn(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(o(340));mi()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return D(ea),null;case 4:return Xt(),null;case 10:return jn(i.type),null;case 22:case 23:return Cn(i),ma(),n!==null&&D(Kl),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return jn(Le),null;case 25:return null;default:return null}}function Wh(n,i){switch(lt(i),i.tag){case 3:jn(Le),Xt();break;case 26:case 27:case 5:Ie(i);break;case 4:Xt();break;case 31:i.memoizedState!==null&&Cn(i);break;case 13:Cn(i);break;case 19:D(ea);break;case 10:jn(i.type);break;case 22:case 23:Cn(i),ma(),n!==null&&D(Kl);break;case 24:jn(Le)}}function bi(n,i){try{var c=i.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var v=d.next;c=v;do{if((c.tag&n)===n){d=void 0;var b=c.create,A=c.inst;d=b(),A.destroy=d}c=c.next}while(c!==v)}}catch(G){qt(i,i.return,G)}}function xi(n,i,c){try{var d=i.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var b=v.next;d=b;do{if((d.tag&n)===n){var A=d.inst,G=A.destroy;if(G!==void 0){A.destroy=void 0,v=i;var P=c,ut=G;try{ut()}catch(pt){qt(v,P,pt)}}}d=d.next}while(d!==b)}}catch(pt){qt(i,i.return,pt)}}function fu(n){var i=n.updateQueue;if(i!==null){var c=n.stateNode;try{rs(i,c)}catch(d){qt(n,n.return,d)}}}function Cc(n,i,c){c.props=hs(n.type,n.memoizedProps),c.state=n.memoizedState;try{c.componentWillUnmount()}catch(d){qt(n,i,d)}}function hu(n,i){try{var c=n.ref;if(c!==null){switch(n.tag){case 26:case 27:case 5:var d=Cu(n.stateNode);break;case 30:d=n.stateNode;break;default:d=n.stateNode}typeof c=="function"?n.refCleanup=c(d):c.current=d}}catch(v){qt(n,i,v)}}function Qa(n,i){var c=n.ref,d=n.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(v){qt(n,i,v)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){qt(n,i,v)}else c.current=null}function ps(n){var i=n.type,c=n.memoizedProps,d=n.stateNode;try{hd(d,i,c,n)}catch(v){qt(n,n.return,v)}}function mr(n,i,c){try{dd(n.stateNode,n.type,c,i,n)}catch(d){qt(n,n.return,d)}}function $o(n){return n.tag===5||n.tag===3||(kn?n.tag===26:!1)||(_a?n.tag===27&&Ms(n.type):!1)||n.tag===4}function Ii(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||$o(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(_a&&n.tag===27&&Ms(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ec(n,i,c){var d=n.tag;if(d===5||d===6)n=n.stateNode,i?gd(c,n,i):bf(c,n);else if(d!==4&&(_a&&d===27&&Ms(n.type)&&(c=n.stateNode,i=null),n=n.child,n!==null))for(Ec(n,i,c),n=n.sibling;n!==null;)Ec(n,i,c),n=n.sibling}function gr(n,i,c){var d=n.tag;if(d===5||d===6)n=n.stateNode,i?md(c,n,i):Sf(c,n);else if(d!==4&&(_a&&d===27&&Ms(n.type)&&(c=n.stateNode),n=n.child,n!==null))for(gr(n,i,c),n=n.sibling;n!==null;)gr(n,i,c),n=n.sibling}function tf(n,i,c){n=n.containerInfo;try{Af(n,c)}catch(d){qt(i,i.return,d)}}function $h(n){var i=n.stateNode,c=n.memoizedProps;try{pa(n.type,c,i,n)}catch(d){qt(n,n.return,d)}}function n1(n,i){for(Yc(n.containerInfo),ca=i;ca!==null;)if(n=ca,i=n.child,(n.subtreeFlags&1028)!==0&&i!==null)i.return=n,ca=i;else for(;ca!==null;){n=ca;var c=n.alternate;switch(i=n.flags,n.tag){case 0:if((i&4)!==0&&(i=n.updateQueue,i=i!==null?i.events:null,i!==null))for(var d=0;d<i.length;d++){var v=i[d];v.ref.impl=v.nextImpl}break;case 11:case 15:break;case 1:if((i&1024)!==0&&c!==null){i=void 0,d=n,v=c.memoizedProps,c=c.memoizedState;var b=d.stateNode;try{var A=hs(d.type,v);i=b.getSnapshotBeforeUpdate(A,c),b.__reactInternalSnapshotBeforeUpdate=i}catch(G){qt(d,d.return,G)}}break;case 3:(i&1024)!==0&&re&&Cf(n.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(o(163))}if(i=n.sibling,i!==null){i.return=n.return,ca=i;break}ca=n.return}}function td(n,i,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:Ia(n,c),d&4&&bi(5,c);break;case 1:if(Ia(n,c),d&4)if(n=c.stateNode,i===null)try{n.componentDidMount()}catch(A){qt(c,c.return,A)}else{var v=hs(c.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(v,i,n.__reactInternalSnapshotBeforeUpdate)}catch(A){qt(c,c.return,A)}}d&64&&fu(c),d&512&&hu(c,c.return);break;case 3:if(Ia(n,c),d&64&&(d=c.updateQueue,d!==null)){if(n=null,c.child!==null)switch(c.child.tag){case 27:case 5:n=Cu(c.child.stateNode);break;case 1:n=c.child.stateNode}try{rs(d,n)}catch(A){qt(c,c.return,A)}}break;case 27:_a&&i===null&&d&4&&$h(c);case 26:case 5:if(Ia(n,c),i===null){if(d&4)ps(c);else if(d&64){n=c.type,i=c.memoizedProps,v=c.stateNode;try{Hd(v,n,i,c)}catch(A){qt(c,c.return,A)}}}d&512&&hu(c,c.return);break;case 12:Ia(n,c);break;case 31:Ia(n,c),d&4&&qn(n,c);break;case 13:Ia(n,c),d&4&&yr(n,c),d&64&&(d=c.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&(c=i1.bind(null,c),kc(d,c))));break;case 22:if(d=c.memoizedState!==null||aa,!d){i=i!==null&&i.memoizedState!==null||na,v=aa;var b=na;aa=d,(na=i)&&!b?Vn(n,c,(c.subtreeFlags&8772)!==0):Ia(n,c),aa=v,na=b}break;case 30:break;default:Ia(n,c)}}function ef(n){var i=n.alternate;i!==null&&(n.alternate=null,ef(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&qc(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Yn(n,i,c){for(c=c.child;c!==null;)pr(n,i,c),c=c.sibling}function pr(n,i,c){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(Ds,c)}catch{}switch(c.tag){case 26:if(kn){na||Qa(c,i),Yn(n,i,c),c.memoizedState?Vl(c.memoizedState):c.stateNode&&wf(c.stateNode);break}case 27:if(_a){na||Qa(c,i);var d=ke,v=oa;Ms(c.type)&&(ke=c.stateNode,oa=!1),Yn(n,i,c),Na(c.stateNode),ke=d,oa=v;break}case 5:na||Qa(c,i);case 6:if(re){if(d=ke,v=oa,ke=null,Yn(n,i,c),ke=d,oa=v,ke!==null)if(oa)try{xf(ke,c.stateNode)}catch(b){qt(c,i,b)}else try{pd(ke,c.stateNode)}catch(b){qt(c,i,b)}}else Yn(n,i,c);break;case 18:re&&ke!==null&&(oa?Jc(ke,c.stateNode):Uf(ke,c.stateNode));break;case 4:re?(d=ke,v=oa,ke=c.stateNode.containerInfo,oa=!0,Yn(n,i,c),ke=d,oa=v):(Nn&&tf(c.stateNode,c,Ef()),Yn(n,i,c));break;case 0:case 11:case 14:case 15:xi(2,c,i),na||xi(4,c,i),Yn(n,i,c);break;case 1:na||(Qa(c,i),d=c.stateNode,typeof d.componentWillUnmount=="function"&&Cc(c,i,d)),Yn(n,i,c);break;case 21:Yn(n,i,c);break;case 22:na=(d=na)||c.memoizedState!==null,Yn(n,i,c),na=d;break;default:Yn(n,i,c)}}function qn(n,i){if(je&&i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{r1(n)}catch(c){qt(i,i.return,c)}}}function yr(n,i){if(je&&i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{c1(n)}catch(c){qt(i,i.return,c)}}function Xn(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Jf),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Jf),i;default:throw Error(o(435,n.tag))}}function Wi(n,i){var c=Xn(n);i.forEach(function(d){if(!c.has(d)){c.add(d);var v=l1.bind(null,n,d);d.then(v,v)}})}function Aa(n,i){var c=i.deletions;if(c!==null)for(var d=0;d<c.length;d++){var v=c[d],b=n,A=i;if(re){var G=A;t:for(;G!==null;){switch(G.tag){case 27:if(_a){if(Ms(G.type)){ke=G.stateNode,oa=!1;break t}break}case 5:ke=G.stateNode,oa=!1;break t;case 3:case 4:ke=G.stateNode.containerInfo,oa=!0;break t}G=G.return}if(ke===null)throw Error(o(160));pr(b,A,v),ke=null,oa=!1}else pr(b,A,v);b=v.alternate,b!==null&&(b.return=null),v.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)vr(i,n),i=i.sibling}function vr(n,i){var c=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Aa(i,n),Ma(n),d&4&&(xi(3,n,n.return),bi(3,n),xi(5,n,n.return));break;case 1:Aa(i,n),Ma(n),d&512&&(na||c===null||Qa(c,c.return)),d&64&&aa&&(n=n.updateQueue,n!==null&&(d=n.callbacks,d!==null&&(c=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:if(kn){var v=xe;if(Aa(i,n),Ma(n),d&512&&(na||c===null||Qa(c,c.return)),d&4){d=c!==null?c.memoizedState:null;var b=n.memoizedState;c===null?b===null?n.stateNode===null?n.stateNode=Xd(v,n.type,n.memoizedProps,n):jf(v,n.type,n.stateNode):n.stateNode=Hf(v,b,n.memoizedProps):d!==b?(d===null?c.stateNode!==null&&wf(c.stateNode):Vl(d),b===null?jf(v,n.type,n.stateNode):Hf(v,b,n.memoizedProps)):b===null&&n.stateNode!==null&&mr(n,n.memoizedProps,c.memoizedProps)}break}case 27:if(_a){Aa(i,n),Ma(n),d&512&&(na||c===null||Qa(c,c.return)),c!==null&&d&4&&mr(n,n.memoizedProps,c.memoizedProps);break}case 5:if(Aa(i,n),Ma(n),d&512&&(na||c===null||Qa(c,c.return)),re){if(n.flags&32){v=n.stateNode;try{_f(v)}catch(ot){qt(n,n.return,ot)}}d&4&&n.stateNode!=null&&(v=n.memoizedProps,mr(n,v,c!==null?c.memoizedProps:v)),d&1024&&(Du=!0)}else Nn&&n.alternate!==null&&(n.alternate.stateNode=n.stateNode);break;case 6:if(Aa(i,n),Ma(n),d&4&&re){if(n.stateNode===null)throw Error(o(162));d=n.memoizedProps,c=c!==null?c.memoizedProps:d,v=n.stateNode;try{fd(v,c,d)}catch(ot){qt(n,n.return,ot)}}break;case 3:if(kn?(Vd(),v=xe,xe=Dr(i.containerInfo),Aa(i,n),xe=v):Aa(i,n),Ma(n),d&4){if(re&&je&&c!==null&&c.memoizedState.isDehydrated)try{jd(i.containerInfo)}catch(ot){qt(n,n.return,ot)}if(Nn){d=i.containerInfo,c=i.pendingChildren;try{Af(d,c)}catch(ot){qt(n,n.return,ot)}}}Du&&(Du=!1,Tc(n));break;case 4:kn?(c=xe,xe=Dr(n.stateNode.containerInfo),Aa(i,n),Ma(n),xe=c):(Aa(i,n),Ma(n)),d&4&&Nn&&tf(n.stateNode,n,n.stateNode.pendingChildren);break;case 12:Aa(i,n),Ma(n);break;case 31:Aa(i,n),Ma(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Wi(n,d)));break;case 13:Aa(i,n),Ma(n),n.child.flags&8192&&n.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Yr=Ka()),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Wi(n,d)));break;case 22:v=n.memoizedState!==null;var A=c!==null&&c.memoizedState!==null,G=aa,P=na;if(aa=G||v,na=P||A,Aa(i,n),na=P,aa=G,Ma(n),d&8192&&(i=n.stateNode,i._visibility=v?i._visibility&-2:i._visibility|1,v&&(c===null||A||aa||na||Dl(n)),re)){t:if(c=null,re)for(i=n;;){if(i.tag===5||kn&&i.tag===26){if(c===null){A=c=i;try{b=A.stateNode,v?s1(b):vd(A.stateNode,A.memoizedProps)}catch(ot){qt(A,A.return,ot)}}}else if(i.tag===6){if(c===null){A=i;try{var ut=A.stateNode;v?yd(ut):Sd(ut,A.memoizedProps)}catch(ot){qt(A,A.return,ot)}}}else if(i.tag===18){if(c===null){A=i;try{var pt=A.stateNode;v?Ld(pt):Yd(A.stateNode)}catch(ot){qt(A,A.return,ot)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;c===i&&(c=null),i=i.return}c===i&&(c=null),i.sibling.return=i.return,i=i.sibling}}d&4&&(d=n.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Wi(n,c))));break;case 19:Aa(i,n),Ma(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,Wi(n,d)));break;case 30:break;case 21:break;default:Aa(i,n),Ma(n)}}function Ma(n){var i=n.flags;if(i&2){try{for(var c,d=n.return;d!==null;){if($o(d)){c=d;break}d=d.return}if(re){if(c==null)throw Error(o(160));switch(c.tag){case 27:if(_a){var v=c.stateNode,b=Ii(n);gr(n,b,v);break}case 5:var A=c.stateNode;c.flags&32&&(_f(A),c.flags&=-33);var G=Ii(n);gr(n,G,A);break;case 3:case 4:var P=c.stateNode.containerInfo,ut=Ii(n);Ec(n,ut,P);break;default:throw Error(o(161))}}}catch(pt){qt(n,n.return,pt)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Tc(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Tc(i),i.tag===5&&i.flags&1024&&gf(i.stateNode),n=n.sibling}}function Ia(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)td(n,i.alternate,i),i=i.sibling}function Dl(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:xi(4,i,i.return),Dl(i);break;case 1:Qa(i,i.return);var c=i.stateNode;typeof c.componentWillUnmount=="function"&&Cc(i,i.return,c),Dl(i);break;case 27:_a&&Na(i.stateNode);case 26:case 5:Qa(i,i.return),Dl(i);break;case 22:i.memoizedState===null&&Dl(i);break;case 30:Dl(i);break;default:Dl(i)}n=n.sibling}}function Vn(n,i,c){for(c=c&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var d=i.alternate,v=n,b=i,A=b.flags;switch(b.tag){case 0:case 11:case 15:Vn(v,b,c),bi(4,b);break;case 1:if(Vn(v,b,c),d=b,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ut){qt(d,d.return,ut)}if(d=b,v=d.updateQueue,v!==null){var G=d.stateNode;try{var P=v.shared.hiddenCallbacks;if(P!==null)for(v.shared.hiddenCallbacks=null,v=0;v<P.length;v++)us(P[v],G)}catch(ut){qt(d,d.return,ut)}}c&&A&64&&fu(b),hu(b,b.return);break;case 27:_a&&$h(b);case 26:case 5:Vn(v,b,c),c&&d===null&&A&4&&ps(b),hu(b,b.return);break;case 12:Vn(v,b,c);break;case 31:Vn(v,b,c),c&&A&4&&qn(v,b);break;case 13:Vn(v,b,c),c&&A&4&&yr(v,b);break;case 22:b.memoizedState===null&&Vn(v,b,c),hu(b,b.return);break;case 30:break;default:Vn(v,b,c)}i=i.sibling}}function Rl(n,i){var c=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==c&&(n!=null&&n.refCount++,c!=null&&Kt(c))}function af(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Kt(n))}function Ve(n,i,c,d){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ac(n,i,c,d),i=i.sibling}function Ac(n,i,c,d){var v=i.flags;switch(i.tag){case 0:case 11:case 15:Ve(n,i,c,d),v&2048&&bi(9,i);break;case 1:Ve(n,i,c,d);break;case 3:Ve(n,i,c,d),v&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Kt(n)));break;case 12:if(v&2048){Ve(n,i,c,d),n=i.stateNode;try{var b=i.memoizedProps,A=b.id,G=b.onPostCommit;typeof G=="function"&&G(A,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(P){qt(i,i.return,P)}}else Ve(n,i,c,d);break;case 31:Ve(n,i,c,d);break;case 13:Ve(n,i,c,d);break;case 23:break;case 22:b=i.stateNode,A=i.alternate,i.memoizedState!==null?b._visibility&2?Ve(n,i,c,d):du(n,i):b._visibility&2?Ve(n,i,c,d):(b._visibility|=2,rn(n,i,c,d,(i.subtreeFlags&10256)!==0||!1)),v&2048&&Rl(A,i);break;case 24:Ve(n,i,c,d),v&2048&&af(i.alternate,i);break;default:Ve(n,i,c,d)}}function rn(n,i,c,d,v){for(v=v&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var b=n,A=i,G=c,P=d,ut=A.flags;switch(A.tag){case 0:case 11:case 15:rn(b,A,G,P,v),bi(8,A);break;case 23:break;case 22:var pt=A.stateNode;A.memoizedState!==null?pt._visibility&2?rn(b,A,G,P,v):du(b,A):(pt._visibility|=2,rn(b,A,G,P,v)),v&&ut&2048&&Rl(A.alternate,A);break;case 24:rn(b,A,G,P,v),v&&ut&2048&&af(A.alternate,A);break;default:rn(b,A,G,P,v)}i=i.sibling}}function du(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var c=n,d=i,v=d.flags;switch(d.tag){case 22:du(c,d),v&2048&&Rl(d.alternate,d);break;case 24:du(c,d),v&2048&&af(d.alternate,d);break;default:du(c,d)}i=i.sibling}}function _i(n,i,c){if(n.subtreeFlags&zn)for(n=n.child;n!==null;)zl(n,i,c),n=n.sibling}function zl(n,i,c){switch(n.tag){case 26:if(_i(n,i,c),n.flags&zn)if(n.memoizedState!==null)Qd(c,xe,n.memoizedState,n.memoizedProps);else{var d=n.stateNode,v=n.type;n=n.memoizedProps,((i&335544128)===i||df(v,n))&&Xc(c,d,v,n)}break;case 5:_i(n,i,c),n.flags&zn&&(d=n.stateNode,v=n.type,n=n.memoizedProps,((i&335544128)===i||df(v,n))&&Xc(c,d,v,n));break;case 3:case 4:kn?(d=xe,xe=Dr(n.stateNode.containerInfo),_i(n,i,c),xe=d):_i(n,i,c);break;case 22:n.memoizedState===null&&(d=n.alternate,d!==null&&d.memoizedState!==null?(d=zn,zn=16777216,_i(n,i,c),zn=d):_i(n,i,c));break;default:_i(n,i,c)}}function Mc(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function mu(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var d=i[c];ca=d,Tn(d,n)}Mc(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Nc(n),n=n.sibling}function Nc(n){switch(n.tag){case 0:case 11:case 15:mu(n),n.flags&2048&&xi(9,n,n.return);break;case 3:mu(n);break;case 12:mu(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Sr(n)):mu(n);break;default:mu(n)}}function Sr(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var d=i[c];ca=d,Tn(d,n)}Mc(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:xi(8,i,i.return),Sr(i);break;case 22:c=i.stateNode,c._visibility&2&&(c._visibility&=-3,Sr(i));break;default:Sr(i)}n=n.sibling}}function Tn(n,i){for(;ca!==null;){var c=ca;switch(c.tag){case 0:case 11:case 15:xi(8,c,i);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Kt(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,ca=d;else t:for(c=n;ca!==null;){d=ca;var v=d.sibling,b=d.return;if(ef(d),d===c){ca=null;break t}if(v!==null){v.return=b,ca=v;break t}ca=b}}}function Ul(n){var i=kt(n);if(i!=null){if(typeof i.memoizedProps["data-testname"]!="string")throw Error(o(364));return i}if(n=ua(n),n===null)throw Error(o(362));return n.stateNode.current}function Gl(n,i){var c=n.tag;switch(i.$$typeof){case ei:if(n.type===i.value)return!0;break;case zu:t:{for(i=i.value,n=[n,0],c=0;c<n.length;){var d=n[c++],v=d.tag,b=n[c++],A=i[b];if(v!==5&&v!==26&&v!==27||!ql(d)){for(;A!=null&&Gl(d,A);)b++,A=i[b];if(b===i.length){i=!0;break t}else for(d=d.child;d!==null;)n.push(d,b),d=d.sibling}}i=!1}return i;case Uu:if((c===5||c===26||c===27)&&vf(n.stateNode,i.value))return!0;break;case Fl:if((c===5||c===6||c===26||c===27)&&(n=Nr(n),n!==null&&0<=n.indexOf(i.value)))return!0;break;case wr:if((c===5||c===26||c===27)&&(n=n.memoizedProps["data-testname"],typeof n=="string"&&n.toLowerCase()===i.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function gu(n){switch(n.$$typeof){case ei:return"<"+(E(n.value)||"Unknown")+">";case zu:return":has("+(gu(n)||"")+")";case Uu:return'[role="'+n.value+'"]';case Fl:return'"'+n.value+'"';case wr:return'[data-testname="'+n.value+'"]';default:throw Error(o(365))}}function pu(n,i){var c=[];n=[n,0];for(var d=0;d<n.length;){var v=n[d++],b=v.tag,A=n[d++],G=i[A];if(b!==5&&b!==26&&b!==27||!ql(v)){for(;G!=null&&Gl(v,G);)A++,G=i[A];if(A===i.length)c.push(v);else for(v=v.child;v!==null;)n.push(v,A),v=v.sibling}}return c}function cn(n,i){if(!xa)throw Error(o(363));n=Ul(n),n=pu(n,i),i=[],n=Array.from(n);for(var c=0;c<n.length;){var d=n[c++],v=d.tag;if(v===5||v===26||v===27)ql(d)||i.push(d.stateNode);else for(d=d.child;d!==null;)n.push(d),d=d.sibling}return i}function He(){return(ae&2)!==0&&se!==0?se&-se:Gt.T!==null?Mo():Tu()}function $i(){if(ln===0)if((se&536870912)===0||le){var n=Os;Os<<=1,(Os&3932160)===0&&(Os=262144),ln=n}else ln=536870912;return n=gn.current,n!==null&&(n.flags|=32),ln}function Qe(n,i,c){(n===$t&&(_e===2||_e===9)||n.cancelPendingCommit!==null)&&(ta(n,0),Ei(n,se,ln,!1)),rt(n,c),((ae&2)===0||n!==$t)&&(n===$t&&((ae&2)===0&&(Wl|=c),Je===4&&Ei(n,se,ln,!1)),ha(n))}function ui(n,i,c){if((ae&6)!==0)throw Error(o(327));var d=!c&&(i&127)===0&&(i&n.expiredLanes)===0||V(n,i),v=d?nd(n,i):Ti(n,i,!0),b=d;do{if(v===0){Pl&&!d&&Ei(n,i,0,!1);break}else{if(c=n.current.alternate,b&&!ed(c)){v=Ti(n,i,!1),b=!1;continue}if(v===2){if(b=i,n.errorRecoveryDisabledLanes&b)var A=0;else A=n.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){i=A;t:{var G=n;v=Lr;var P=je&&G.current.memoizedState.isDehydrated;if(P&&(ta(G,A).flags|=256),A=Ti(G,A,!1),A!==2){if(Il&&!P){G.errorRecoveryDisabledLanes|=b,Wl|=b,v=4;break t}b=pn,pn=v,b!==null&&(pn===null?pn=b:pn.push.apply(pn,b))}v=A}if(b=!1,v!==2)continue}}if(v===1){ta(n,0),Ei(n,i,0,!0);break}t:{switch(d=n,b=v,b){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:Ei(d,i,ln,!fi);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(v=Yr+300-Ka(),10<v)){if(Ei(d,i,ln,!fi),w(d,0,!0)!==0)break t;Li=i,d.timeoutHandle=hf(Ci.bind(null,d,c,pn,qr,oo,i,ln,Wl,Bu,fi,b,"Throttled",-0,0),v);break t}Ci(d,c,pn,qr,oo,i,ln,Wl,Bu,fi,b,null,-0,0)}}break}while(!0);ha(n)}function Ci(n,i,c,d,v,b,A,G,P,ut,pt,ot,Ct,Zt){if(n.timeoutHandle=hn,ot=i.subtreeFlags,ot&8192||(ot&16785408)===16785408){ot=mf(),zl(i,b,ot);var Ra=(b&62914560)===b?Yr-Ka():(b&4194048)===b?Hs-Ka():0;if(Ra=od(ot,Ra),Ra!==null){Li=b,n.cancelPendingCommit=Ra(Mi.bind(null,n,i,b,c,d,v,A,G,P,pt,ot,null,Ct,Zt)),Ei(n,b,A,!ut);return}}Mi(n,i,b,c,d,v,A,G,P)}function ed(n){for(var i=n;;){var c=i.tag;if((c===0||c===11||c===15)&&i.flags&16384&&(c=i.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var v=c[d],b=v.getSnapshot;v=v.value;try{if(!ra(b(),v))return!1}catch{return!1}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ei(n,i,c,d){i&=~Gu,i&=~Wl,n.suspendedLanes|=i,n.pingedLanes&=~i,d&&(n.warmLanes|=i),d=n.expirationTimes;for(var v=i;0<v;){var b=31-dn(v),A=1<<b;d[b]=-1,v&=~A}c!==0&&it(n,c,i)}function Oc(){return(ae&6)===0?(Re(0),!1):!0}function Dc(){if(ne!==null){if(_e===0)var n=ne.return;else n=ne,ci=Ne=null,nr(n),Zl=null,Rs=0,n=ne;for(;n!==null;)Wh(n.alternate,n),n=n.return;ne=null}}function ta(n,i){var c=n.timeoutHandle;c!==hn&&(n.timeoutHandle=hn,cd(c)),c=n.cancelPendingCommit,c!==null&&(n.cancelPendingCommit=null,c()),Li=0,Dc(),$t=n,ne=c=Mn(n.current,null),se=i,_e=0,ya=null,fi=!1,Pl=V(n,i),Il=!1,Bu=ln=Gu=Wl=fl=Je=0,pn=Lr=null,oo=!1,(i&8)!==0&&(i|=i&32);var d=n.entangledLanes;if(d!==0)for(n=n.entanglements,d&=i;0<d;){var v=31-dn(d),b=1<<v;i|=n[v],d&=~b}return wi=i,Ps(),c}function Me(n,i){Jt=null,Gt.H=Rn,i===Ta||i===$n?(i=$r(),_e=3):i===ro?(i=$r(),_e=4):_e=i===nn?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ya=i,ne===null&&(Je=1,Sc(n,Et(i,n.current)))}function ue(){var n=gn.current;return n===null?!0:(se&4194048)===se?an===null:(se&62914560)===se||(se&536870912)!==0?n===an:!1}function tl(){var n=Gt.H;return Gt.H=Rn,n===null?Rn:n}function An(){var n=Gt.A;return Gt.A=Ru,n}function yu(){Je=4,fi||(se&4194048)!==se&&gn.current!==null||(Pl=!0),(fl&134217727)===0&&(Wl&134217727)===0||$t===null||Ei($t,se,ln,!1)}function Ti(n,i,c){var d=ae;ae|=2;var v=tl(),b=An();($t!==n||se!==i)&&(qr=null,ta(n,i)),i=!1;var A=Je;t:do try{if(_e!==0&&ne!==null){var G=ne,P=ya;switch(_e){case 8:Dc(),A=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(i=!0);var ut=_e;if(_e=0,ya=null,Ai(n,G,P,ut),c&&Pl){A=0;break t}break;default:ut=_e,_e=0,ya=null,Ai(n,G,P,ut)}}ad(),A=Je;break}catch(pt){Me(n,pt)}while(!0);return i&&n.shellSuspendCounter++,ci=Ne=null,ae=d,Gt.H=v,Gt.A=b,ne===null&&($t=null,se=0,Ps()),A}function ad(){for(;ne!==null;)Bl(ne)}function nd(n,i){var c=ae;ae|=2;var d=tl(),v=An();$t!==n||se!==i?(qr=null,$l=Ka()+500,ta(n,i)):Pl=V(n,i);t:do try{if(_e!==0&&ne!==null){i=ne;var b=ya;e:switch(_e){case 1:_e=0,ya=null,Ai(n,i,b,1);break;case 2:case 9:if(ks(b)){_e=0,ya=null,Rc(i);break}i=function(){_e!==2&&_e!==9||$t!==n||(_e=7),ha(n)},b.then(i,i);break t;case 3:_e=7;break t;case 4:_e=5;break t;case 7:ks(b)?(_e=0,ya=null,Rc(i)):(_e=0,ya=null,Ai(n,i,b,7));break;case 5:var A=null;switch(ne.tag){case 26:A=ne.memoizedState;case 5:case 27:var G=ne,P=G.type,ut=G.pendingProps;if(A?Yf(A):Ke(G.stateNode,P,ut)){_e=0,ya=null;var pt=G.sibling;if(pt!==null)ne=pt;else{var ot=G.return;ot!==null?(ne=ot,Su(ot)):ne=null}break e}}_e=0,ya=null,Ai(n,i,b,5);break;case 6:_e=0,ya=null,Ai(n,i,b,6);break;case 8:Dc(),Je=6;break t;default:throw Error(o(462))}}vu();break}catch(Ct){Me(n,Ct)}while(!0);return ci=Ne=null,Gt.H=d,Gt.A=v,ae=c,ne!==null?0:($t=null,se=0,Ps(),Je)}function vu(){for(;ne!==null&&!Zd();)Bl(ne)}function Bl(n){var i=Fo(n.alternate,n,wi);n.memoizedProps=n.pendingProps,i===null?Su(n):ne=i}function Rc(n){var i=n,c=i.alternate;switch(i.tag){case 15:case 0:i=Vo(c,i,i.pendingProps,i.type,void 0,se);break;case 11:i=Vo(c,i,i.pendingProps,i.type.render,i.ref,se);break;case 5:nr(i);default:Wh(c,i),i=ne=Gc(i,wi),i=Fo(c,i,wi)}n.memoizedProps=n.pendingProps,i===null?Su(n):ne=i}function Ai(n,i,c,d){ci=Ne=null,nr(i),Zl=null,Rs=0;var v=i.return;try{if(a1(n,v,i,c,se)){Je=1,Sc(n,Et(c,n.current)),ne=null;return}}catch(b){if(v!==null)throw ne=v,b;Je=1,Sc(n,Et(c,n.current)),ne=null;return}i.flags&32768?(le||d===1?n=!0:Pl||(se&536870912)!==0?n=!1:(fi=n=!0,(d===2||d===9||d===3||d===6)&&(d=gn.current,d!==null&&d.tag===13&&(d.flags|=16384))),Hl(i,n)):Su(i)}function Su(n){var i=n;do{if((i.flags&32768)!==0){Hl(i,fi);return}n=i.return;var c=Ih(i.alternate,i,wi);if(c!==null){ne=c;return}if(i=i.sibling,i!==null){ne=i;return}ne=i=n}while(i!==null);Je===0&&(Je=5)}function Hl(n,i){do{var c=Wo(n.alternate,n);if(c!==null){c.flags&=32767,ne=c;return}if(c=n.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!i&&(n=n.sibling,n!==null)){ne=n;return}ne=n=c}while(n!==null);Je=6,ne=null}function Mi(n,i,c,d,v,b,A,G,P){n.cancelPendingCommit=null;do Oi();while(va!==0);if((ae&6)!==0)throw Error(o(327));if(i!==null){if(i===n.current)throw Error(o(177));if(b=i.lanes|i.childLanes,b|=zs,et(n,c,b,A,G,P),n===$t&&(ne=$t=null,se=0),js=i,dl=n,Li=c,Hu=b,fo=v,Ff=d,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,ga(zr,function(){return br(),null})):(n.callbackNode=null,n.callbackPriority=0),d=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||d){d=Gt.T,Gt.T=null,v=Zn(),ie(2),A=ae,ae|=4;try{n1(n,i,c)}finally{ae=A,ie(v),Gt.T=d}}va=1,el(),Ni(),zc()}}function el(){if(va===1){va=0;var n=dl,i=js,c=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||c){c=Gt.T,Gt.T=null;var d=Zn();ie(2);var v=ae;ae|=4;try{vr(i,n),rd(n.containerInfo)}finally{ae=v,ie(d),Gt.T=c}}n.current=i,va=2}}function Ni(){if(va===2){va=0;var n=dl,i=js,c=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||c){c=Gt.T,Gt.T=null;var d=Zn();ie(2);var v=ae;ae|=4;try{td(n,i.alternate,i)}finally{ae=v,ie(d),Gt.T=c}}va=3}}function zc(){if(va===4||va===3){va=0,Xf();var n=dl,i=js,c=Li,d=Ff;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?va=5:(va=0,js=dl=null,Uc(n,n.pendingLanes));var v=n.pendingLanes;if(v===0&&(hl=null),_t(c),i=i.stateNode,mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(Ds,i,void 0,(i.current.flags&128)===128)}catch{}if(d!==null){i=Gt.T,v=Zn(),ie(2),Gt.T=null;try{for(var b=n.onRecoverableError,A=0;A<d.length;A++){var G=d[A];b(G.value,{componentStack:G.stack})}}finally{Gt.T=i,ie(v)}}(Li&3)!==0&&Oi(),ha(n),v=n.pendingLanes,(c&261930)!==0&&(v&42)!==0?n===Xr?ge++:(ge=0,Xr=n):ge=0,je&&Or(),Re(0)}}function Uc(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Kt(i)))}function Oi(){return el(),Ni(),zc(),br()}function br(){if(va!==5)return!1;var n=dl,i=Hu;Hu=0;var c=_t(Li),d=32>c?32:c;c=Gt.T;var v=Zn();try{ie(d),Gt.T=null,d=fo,fo=null;var b=dl,A=Li;if(va=0,js=dl=null,Li=0,(ae&6)!==0)throw Error(o(331));var G=ae;if(ae|=4,Nc(b.current),Ac(b,b.current,A,d),ae=G,Re(0,!1),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(Ds,b)}catch{}return!0}finally{ie(v),Gt.T=c,Uc(n,i)}}function jl(n,i,c){i=Et(c,i),i=qo(n.stateNode,i,2),n=El(n,i,2),n!==null&&(rt(n,2),ha(n))}function qt(n,i,c){if(n.tag===3)jl(n,n,c);else for(;i!==null;){if(i.tag===3){jl(i,n,c);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(hl===null||!hl.has(d))){n=Et(c,n),c=Lh(2),d=El(i,c,2),d!==null&&(Yh(c,d,i,n),rt(d,2),ha(d));break}}i=i.return}}function bu(n,i,c){var d=n.pingCache;if(d===null){d=n.pingCache=new Un;var v=new Set;d.set(i,v)}else v=d.get(i),v===void 0&&(v=new Set,d.set(i,v));v.has(c)||(Il=!0,v.add(c),n=id.bind(null,n,i,c),i.then(n,n))}function id(n,i,c){var d=n.pingCache;d!==null&&d.delete(i),n.pingedLanes|=n.suspendedLanes&c,n.warmLanes&=~c,$t===n&&(se&c)===c&&(Je===4||Je===3&&(se&62914560)===se&&300>Ka()-Yr?(ae&2)===0&&ta(n,0):Gu|=c,Bu===se&&(Bu=0)),ha(n)}function ld(n,i){i===0&&(i=W()),n=_l(n,i),n!==null&&(rt(n,i),ha(n))}function i1(n){var i=n.memoizedState,c=0;i!==null&&(c=i.retryLane),ld(n,c)}function l1(n,i){var c=0;switch(n.tag){case 31:case 13:var d=n.stateNode,v=n.memoizedState;v!==null&&(c=v.retryLane);break;case 19:d=n.stateNode;break;case 22:d=n.stateNode._retryCache;break;default:throw Error(o(314))}d!==null&&d.delete(i),ld(n,c)}function ga(n,i){return Rr(n,i)}function nf(n,i,c,d){this.tag=n,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ys(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Mn(n,i){var c=n.alternate;return c===null?(c=l(n.tag,i,n.key,n.mode),c.elementType=n.elementType,c.type=n.type,c.stateNode=n.stateNode,c.alternate=n,n.alternate=c):(c.pendingProps=i,c.type=n.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=n.flags&65011712,c.childLanes=n.childLanes,c.lanes=n.lanes,c.child=n.child,c.memoizedProps=n.memoizedProps,c.memoizedState=n.memoizedState,c.updateQueue=n.updateQueue,i=n.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=n.sibling,c.index=n.index,c.ref=n.ref,c.refCleanup=n.refCleanup,c}function Gc(n,i){n.flags&=65011714;var c=n.alternate;return c===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=c.childLanes,n.lanes=c.lanes,n.child=c.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=c.memoizedProps,n.memoizedState=c.memoizedState,n.updateQueue=c.updateQueue,n.type=c.type,i=c.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function al(n,i,c,d,v,b){var A=0;if(d=n,typeof n=="function")ys(n)&&(A=1);else if(typeof n=="string")A=kn&&_a?Fc(n,c,Oa.current)?26:qf(n)?27:5:kn?Fc(n,c,Oa.current)?26:5:_a&&qf(n)?27:5;else t:switch(n){case Er:return n=l(31,c,i,v),n.elementType=Er,n.lanes=b,n;case xs:return Qn(c.children,v,b,i);case _s:A=8,v|=24;break;case Cs:return n=l(12,c,i,v|2),n.elementType=Cs,n.lanes=b,n;case wc:return n=l(13,c,i,v),n.elementType=wc,n.lanes=b,n;case nl:return n=l(19,c,i,v),n.elementType=nl,n.lanes=b,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Kn:A=10;break t;case Cr:A=9;break t;case xu:A=11;break t;case Lc:A=14;break t;case Wa:A=16,d=null;break t}A=29,c=Error(o(130,n===null?"null":typeof n,"")),d=null}return i=l(A,c,i,v),i.elementType=n,i.type=d,i.lanes=b,i}function Qn(n,i,c,d){return n=l(7,n,d,i),n.lanes=c,n}function lf(n,i,c){return n=l(6,n,null,i),n.lanes=c,n}function sf(n){var i=l(18,null,null,0);return i.stateNode=n,i}function uf(n,i,c){return i=l(4,n.children!==null?n.children:[],n.key,i),i.lanes=c,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function sd(n,i,c,d,v,b,A,G,P){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=hn,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dt(0),this.hiddenUpdates=dt(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function wl(n,i,c,d,v,b,A,G,P,ut,pt,ot){return n=new sd(n,i,c,A,P,ut,pt,ot,G),i=1,b===!0&&(i|=24),b=l(3,null,null,i),n.current=b,b.stateNode=n,i=Dt(),i.refCount++,n.pooledCache=i,i.refCount++,b.memoizedState={element:d,isDehydrated:c,cache:i},qa(b),n}function Bc(n){return n?(n=Ri,n):Ri}function xr(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=y(i),n=n!==null?S(n):null,n===null?null:Cu(n.stateNode)}function rf(n,i,c,d,v,b){v=Bc(v),d.context===null?d.context=v:d.pendingContext=v,d=pi(i),d.payload={element:c},b=b===void 0?null:b,b!==null&&(d.callback=b),c=El(n,d,i),c!==null&&(Qe(c,n,i),tr(c,n,i))}function vs(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var c=n.retryLane;n.retryLane=c!==0&&c<i?c:i}}function _r(n,i){vs(n,i),(n=n.alternate)&&vs(n,i)}var It={},Hc=V0(),on=M2(),jc=Object.assign,Ss=Symbol.for("react.element"),Di=Symbol.for("react.transitional.element"),bs=Symbol.for("react.portal"),xs=Symbol.for("react.fragment"),_s=Symbol.for("react.strict_mode"),Cs=Symbol.for("react.profiler"),Cr=Symbol.for("react.consumer"),Kn=Symbol.for("react.context"),xu=Symbol.for("react.forward_ref"),wc=Symbol.for("react.suspense"),nl=Symbol.for("react.suspense_list"),Lc=Symbol.for("react.memo"),Wa=Symbol.for("react.lazy"),Er=Symbol.for("react.activity"),cf=Symbol.for("react.memo_cache_sentinel"),il=Symbol.iterator,Ll=Symbol.for("react.client.reference"),Yl=Array.isArray,Gt=Hc.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,of=e.rendererVersion,Tr=e.rendererPackageName,_u=e.extraDevToolsConfig,Cu=e.getPublicInstance,ud=e.getRootHostContext,Eu=e.getChildHostContext,Yc=e.prepareForCommit,rd=e.resetAfterCommit,ff=e.createInstance;e.cloneMutableInstance;var Ar=e.appendInitialChild,fn=e.finalizeInitialChildren,$a=e.shouldSetTextContent,ll=e.createTextInstance;e.cloneMutableTextInstance;var hf=e.scheduleTimeout,cd=e.cancelTimeout,hn=e.noTimeout,sa=e.isPrimaryRenderer;e.warnsIfNotActing;var re=e.supportsMutation,Nn=e.supportsPersistence,je=e.supportsHydration,kt=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var Ee=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var ie=e.setCurrentUpdatePriority,Zn=e.getCurrentUpdatePriority,Tu=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var Es=e.shouldAttemptEagerTransition,qc=e.detachDeletedInstance;e.requestPostPaintCallback;var Mr=e.maySuspendCommit,Au=e.maySuspendCommitOnUpdate,df=e.maySuspendCommitInSyncRender,Ke=e.preloadInstance,mf=e.startSuspendingCommit,Xc=e.suspendInstance;e.suspendOnActiveViewTransition;var od=e.waitForCommitToBeReady;e.getSuspendedCommitReason;var Ts=e.NotPendingTransition,As=e.HostTransitionContext,gf=e.resetFormInstance;e.bindToConsole;var pf=e.supportsMicrotasks,yf=e.scheduleMicrotask,xa=e.supportsTestSelectors,ua=e.findFiberRoot,Vc=e.getBoundingRect,Nr=e.getTextContent,ql=e.isHiddenSubtree,vf=e.matchAccessibilityRole,sl=e.setFocusIfFocusable,Qc=e.setupIntersectionObserver,Sf=e.appendChild,bf=e.appendChildToContainer,fd=e.commitTextUpdate,hd=e.commitMount,dd=e.commitUpdate,md=e.insertBefore,gd=e.insertInContainerBefore,pd=e.removeChild,xf=e.removeChildFromContainer,_f=e.resetTextContent,s1=e.hideInstance,yd=e.hideTextInstance,vd=e.unhideInstance,Sd=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopViewTransition,e.getCurrentGestureOffset,e.createViewTransitionInstance;var Cf=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var bd=e.cloneInstance,Ef=e.createContainerChildSet,Tf=e.appendChildToContainerChildSet,xd=e.finalizeContainerChildren,Af=e.replaceContainerChildren,_d=e.cloneHiddenInstance,Mf=e.cloneHiddenTextInstance,Xl=e.isSuspenseInstancePending,Kc=e.isSuspenseInstanceFallback,Zc=e.getSuspenseInstanceFallbackErrorDetails,kc=e.registerSuspenseInstanceRetry,Cd=e.canHydrateFormStateMarker,Nf=e.isFormStateMarkerMatching,Ed=e.getNextHydratableSibling,Td=e.getNextHydratableSiblingAfterSingleton,Ad=e.getFirstHydratableChild,Md=e.getFirstHydratableChildWithinContainer,Nd=e.getFirstHydratableChildWithinActivityInstance,Od=e.getFirstHydratableChildWithinSuspenseInstance,Of=e.getFirstHydratableChildWithinSingleton,Dd=e.canHydrateInstance,Rd=e.canHydrateTextInstance,Df=e.canHydrateActivityInstance,zd=e.canHydrateSuspenseInstance,Ud=e.hydrateInstance,u1=e.hydrateTextInstance,Rf=e.hydrateActivityInstance,Gd=e.hydrateSuspenseInstance,Bd=e.getNextHydratableInstanceAfterActivityInstance,zf=e.getNextHydratableInstanceAfterSuspenseInstance,Hd=e.commitHydratedInstance,jd=e.commitHydratedContainer,r1=e.commitHydratedActivityInstance,c1=e.commitHydratedSuspenseInstance,wd=e.finalizeHydratedChildren,Or=e.flushHydrationEvents;e.clearActivityBoundary;var Uf=e.clearSuspenseBoundary;e.clearActivityBoundaryFromContainer;var Jc=e.clearSuspenseBoundaryFromContainer,Ld=e.hideDehydratedBoundary,Yd=e.unhideDehydratedBoundary,Mu=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var qd=e.validateHydratableInstance,Gf=e.validateHydratableTextInstance,kn=e.supportsResources,Fc=e.isHostHoistableType,Dr=e.getHoistableRoot,Bf=e.getResource,Hf=e.acquireResource,Vl=e.releaseResource,Xd=e.hydrateHoistable,jf=e.mountHoistable,wf=e.unmountHoistable,Pc=e.createHoistableInstance,Vd=e.prepareToCommitHoistables,Lf=e.mayResourceSuspendCommit,Yf=e.preloadResource,Qd=e.suspendResource,_a=e.supportsSingletons,Ic=e.resolveSingletonInstance,pa=e.acquireSingletonInstance,Na=e.releaseSingletonInstance,qf=e.isHostSingletonType,Ms=e.isSingletonScope,Wc=[],Ns=-1,Ri={},dn=Math.clz32?Math.clz32:X,$c=Math.log,Kd=Math.LN2,to=256,Os=262144,Nu=4194304,Rr=on.unstable_scheduleCallback,eo=on.unstable_cancelCallback,Zd=on.unstable_shouldYield,Xf=on.unstable_requestPaint,Ka=on.unstable_now,ao=on.unstable_ImmediatePriority,kd=on.unstable_UserBlockingPriority,zr=on.unstable_NormalPriority,no=on.unstable_IdlePriority,Vf=on.log,Jd=on.unstable_setDisableYieldValue,Ds=null,mn=null,ra=typeof Object.is=="function"?Object.is:Ut,io=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},o1=Object.prototype.hasOwnProperty,lo,zi,Ur=!1,Qf=new WeakMap,ul=[],Ui=0,Te=null,Gr=0,Jn=[],On=0,Fn=null,Ba=1,ri="",Oa=T(null),rl=T(null),Ha=T(null),Br=T(null),Ca=null,we=null,le=!1,Gi=null,tn=!1,so=Error(o(519)),Pn=T(null),Ne=null,ci=null,Fd=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(c,d){n.push(d)}};this.abort=function(){i.aborted=!0,n.forEach(function(c){return c()})}},Da=on.unstable_scheduleCallback,f1=on.unstable_NormalPriority,Le={$$typeof:Kn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Hr=null,be=null,Za=!1,In=!1,uo=!1,Ql=0,Ou=null,Kf=0,cl=0,Ea=null,Wn=Gt.S;Gt.S=function(n,i){Hs=Ka(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&$0(n,i),Wn!==null&&Wn(n,i)};var Kl=T(null),Ta=Error(o(460)),ro=Error(o(474)),$n=Error(o(542)),Bi={then:function(){}},en=null,Zl=null,Rs=0,ja=No(!0),Zf=No(!1),wa=[],Hi=0,zs=0,Dn=!1,co=!1,Us=T(null),kl=T(0),gn=T(null),an=null,ea=T(0),ol=0,Jt=null,Rt=null,Vt=null,Wt=!1,Pt=!1,ce=!1,ka=0,ti=0,oi=null,kf=0,Rn={readContext:Sa,use:tu,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe};Rn.useEffectEvent=Xe;var Ze={readContext:Sa,use:tu,useCallback:function(n,i){return Xa().memoizedState=[n,i===void 0?null:i],n},useContext:Sa,useEffect:sr,useImperativeHandle:function(n,i,c){c=c!=null?c.concat([n]):null,fs(4194308,4,iu.bind(null,i,n),c)},useLayoutEffect:function(n,i){return fs(4194308,4,n,i)},useInsertionEffect:function(n,i){fs(4,2,n,i)},useMemo:function(n,i){var c=Xa();i=i===void 0?null:i;var d=n();if(ce){jt(!0);try{n()}finally{jt(!1)}}return c.memoizedState=[d,i],d},useReducer:function(n,i,c){var d=Xa();if(c!==void 0){var v=c(i);if(ce){jt(!0);try{c(i)}finally{jt(!1)}}}else v=i;return d.memoizedState=d.baseState=v,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:v},d.queue=n,n=n.dispatch=e1.bind(null,Jt,n),[d.memoizedState,n]},useRef:function(n){var i=Xa();return n={current:n},i.memoizedState=n},useState:function(n){n=Uo(n);var i=n.queue,c=Bh.bind(null,Jt,i);return i.dispatch=c,[n.memoizedState,c]},useDebugValue:rr,useDeferredValue:function(n,i){var c=Xa();return su(c,n,i)},useTransition:function(){var n=Uo(!1);return n=zh.bind(null,Jt,n.queue,!0,!1),Xa().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,c){var d=Jt,v=Xa();if(le){if(c===void 0)throw Error(o(407));c=c()}else{if(c=i(),$t===null)throw Error(o(349));(se&127)!==0||Nh(d,i,c)}v.memoizedState=c;var b={value:c,getSnapshot:i};return v.queue=b,sr(zo.bind(null,d,b,n),[n]),d.flags|=2048,En(9,{destroy:void 0},Ro.bind(null,d,b,c,i),null),c},useId:function(){var n=Xa(),i=$t.identifierPrefix;if(le){var c=ri,d=Ba;c=(d&~(1<<32-dn(d)-1)).toString(32)+c,i="_"+i+"R_"+c,c=ka++,0<c&&(i+="H"+c.toString(32)),i+="_"}else c=kf++,i="_"+i+"r_"+c.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:wo,useFormState:Bo,useActionState:Bo,useOptimistic:function(n){var i=Xa();i.memoizedState=i.baseState=n;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=c,i=pc.bind(null,Jt,!0,c),c.dispatch=i,[n,i]},useMemoCache:sc,useCacheRefresh:function(){return Xa().memoizedState=t1.bind(null,Jt)},useEffectEvent:function(n){var i=Xa(),c={impl:n};return i.memoizedState=c,function(){if((ae&2)!==0)throw Error(o(440));return c.impl.apply(void 0,arguments)}}},ji={readContext:Sa,use:tu,useCallback:mc,useContext:Sa,useEffect:nu,useImperativeHandle:Rh,useInsertionEffect:Nl,useLayoutEffect:ur,useMemo:lu,useReducer:Fi,useRef:dc,useState:function(){return Fi(si)},useDebugValue:rr,useDeferredValue:function(n,i){var c=Be();return jo(c,Rt.memoizedState,n,i)},useTransition:function(){var n=Fi(si)[0],i=Be().memoizedState;return[typeof n=="boolean"?n:Va(n),i]},useSyncExternalStore:cs,useId:gc,useHostTransitionStatus:wo,useFormState:eu,useActionState:eu,useOptimistic:function(n,i){var c=Be();return ir(c,Rt,n,i)},useMemoCache:sc,useCacheRefresh:Gh};ji.useEffectEvent=Fa;var Jl={readContext:Sa,use:tu,useCallback:mc,useContext:Sa,useEffect:nu,useImperativeHandle:Rh,useInsertionEffect:Nl,useLayoutEffect:ur,useMemo:lu,useReducer:rc,useRef:dc,useState:function(){return rc(si)},useDebugValue:rr,useDeferredValue:function(n,i){var c=Be();return Rt===null?su(c,n,i):jo(c,Rt.memoizedState,n,i)},useTransition:function(){var n=rc(si)[0],i=Be().memoizedState;return[typeof n=="boolean"?n:Va(n),i]},useSyncExternalStore:cs,useId:gc,useHostTransitionStatus:wo,useFormState:au,useActionState:au,useOptimistic:function(n,i){var c=Be();return Rt!==null?ir(c,Rt,n,i):(c.baseState=n,[n,c.queue.dispatch])},useMemoCache:sc,useCacheRefresh:Gh};Jl.useEffectEvent=Fa;var jr={enqueueSetState:function(n,i,c){n=n._reactInternals;var d=He(),v=pi(d);v.payload=i,c!=null&&(v.callback=c),i=El(n,v,d),i!==null&&(Qe(i,n,d),tr(i,n,d))},enqueueReplaceState:function(n,i,c){n=n._reactInternals;var d=He(),v=pi(d);v.tag=1,v.payload=i,c!=null&&(v.callback=c),i=El(n,v,d),i!==null&&(Qe(i,n,d),tr(i,n,d))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var c=He(),d=pi(c);d.tag=2,i!=null&&(d.callback=i),i=El(n,d,c),i!==null&&(Qe(i,n,c),tr(i,n,c))}},nn=Error(o(461)),ze=!1,Gs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},aa=!1,na=!1,Du=!1,Jf=typeof WeakSet=="function"?WeakSet:Set,ca=null,ke=null,oa=!1,xe=null,zn=8192,Ru={getCacheForType:function(n){var i=Sa(Le),c=i.data.get(n);return c===void 0&&(c=n(),i.data.set(n,c)),c},cacheSignal:function(){return Sa(Le).controller.signal}},ei=0,zu=1,Uu=2,wr=3,Fl=4;if(typeof Symbol=="function"&&Symbol.for){var Bs=Symbol.for;ei=Bs("selector.component"),zu=Bs("selector.has_pseudo_class"),Uu=Bs("selector.role"),wr=Bs("selector.test_id"),Fl=Bs("selector.text")}var Un=typeof WeakMap=="function"?WeakMap:Map,ae=0,$t=null,ne=null,se=0,_e=0,ya=null,fi=!1,Pl=!1,Il=!1,wi=0,Je=0,fl=0,Wl=0,Gu=0,ln=0,Bu=0,Lr=null,pn=null,oo=!1,Yr=0,Hs=0,$l=1/0,qr=null,hl=null,va=0,dl=null,js=null,Li=0,Hu=0,fo=null,Ff=null,ge=0,Xr=null;return It.attemptContinuousHydration=function(n){if(n.tag===13||n.tag===31){var i=_l(n,67108864);i!==null&&Qe(i,n,67108864),_r(n,67108864)}},It.attemptHydrationAtCurrentPriority=function(n){if(n.tag===13||n.tag===31){var i=He();i=zt(i);var c=_l(n,i);c!==null&&Qe(c,n,i),_r(n,i)}},It.attemptSynchronousHydration=function(n){switch(n.tag){case 3:if(n=n.stateNode,n.current.memoizedState.isDehydrated){var i=B(n.pendingLanes);if(i!==0){for(n.pendingLanes|=2,n.entangledLanes|=2;i;){var c=1<<31-dn(i);n.entanglements[1]|=c,i&=~c}ha(n),(ae&6)===0&&($l=Ka()+500,Re(0))}}break;case 31:case 13:i=_l(n,2),i!==null&&Qe(i,n,2),Oc(),_r(n,2)}},It.batchedUpdates=function(n,i){return n(i)},It.createComponentSelector=function(n){return{$$typeof:ei,value:n}},It.createContainer=function(n,i,c,d,v,b,A,G,P,ut){return wl(n,i,!1,null,c,d,b,null,A,G,P,ut)},It.createHasPseudoClassSelector=function(n){return{$$typeof:zu,value:n}},It.createHydrationContainer=function(n,i,c,d,v,b,A,G,P,ut,pt,ot,Ct,Zt){return n=wl(c,d,!0,n,v,b,G,Zt,P,ut,pt,ot),n.context=Bc(null),c=n.current,d=He(),d=zt(d),v=pi(d),v.callback=i??null,El(c,v,d),i=d,n.current.lanes=i,rt(n,i),ha(n),n},It.createPortal=function(n,i,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bs,key:d==null?null:""+d,children:n,containerInfo:i,implementation:c}},It.createRoleSelector=function(n){return{$$typeof:Uu,value:n}},It.createTestNameSelector=function(n){return{$$typeof:wr,value:n}},It.createTextSelector=function(n){return{$$typeof:Fl,value:n}},It.defaultOnCaughtError=function(n){console.error(n)},It.defaultOnRecoverableError=function(n){io(n)},It.defaultOnUncaughtError=function(n){io(n)},It.deferredUpdates=function(n){var i=Gt.T,c=Zn();try{return ie(32),Gt.T=null,n()}finally{ie(c),Gt.T=i}},It.discreteUpdates=function(n,i,c,d,v){var b=Gt.T,A=Zn();try{return ie(2),Gt.T=null,n(i,c,d,v)}finally{ie(A),Gt.T=b,ae===0&&($l=Ka()+500)}},It.findAllNodes=cn,It.findBoundingRects=function(n,i){if(!xa)throw Error(o(363));i=cn(n,i),n=[];for(var c=0;c<i.length;c++)n.push(Vc(i[c]));for(i=n.length-1;0<i;i--){c=n[i];for(var d=c.x,v=d+c.width,b=c.y,A=b+c.height,G=i-1;0<=G;G--)if(i!==G){var P=n[G],ut=P.x,pt=ut+P.width,ot=P.y,Ct=ot+P.height;if(d>=ut&&b>=ot&&v<=pt&&A<=Ct){n.splice(i,1);break}else if(d!==ut||c.width!==P.width||Ct<b||ot>A){if(!(b!==ot||c.height!==P.height||pt<d||ut>v)){ut>d&&(P.width+=ut-d,P.x=d),pt<v&&(P.width=v-ut),n.splice(i,1);break}}else{ot>b&&(P.height+=ot-b,P.y=b),Ct<A&&(P.height=A-ot),n.splice(i,1);break}}}return n},It.findHostInstance=xr,It.findHostInstanceWithNoPortals=function(n){return n=y(n),n=n!==null?x(n):null,n===null?null:Cu(n.stateNode)},It.findHostInstanceWithWarning=function(n){return xr(n)},It.flushPassiveEffects=Oi,It.flushSyncFromReconciler=function(n){var i=ae;ae|=1;var c=Gt.T,d=Zn();try{if(ie(2),Gt.T=null,n)return n()}finally{ie(d),Gt.T=c,ae=i,(ae&6)===0&&Re(0)}},It.flushSyncWork=Oc,It.focusWithin=function(n,i){if(!xa)throw Error(o(363));for(n=Ul(n),i=pu(n,i),i=Array.from(i),n=0;n<i.length;){var c=i[n++],d=c.tag;if(!ql(c)){if((d===5||d===26||d===27)&&sl(c.stateNode))return!0;for(c=c.child;c!==null;)i.push(c),c=c.sibling}}return!1},It.getFindAllNodesFailureDescription=function(n,i){if(!xa)throw Error(o(363));var c=0,d=[];n=[Ul(n),0];for(var v=0;v<n.length;){var b=n[v++],A=b.tag,G=n[v++],P=i[G];if((A!==5&&A!==26&&A!==27||!ql(b))&&(Gl(b,P)&&(d.push(gu(P)),G++,G>c&&(c=G)),G<i.length))for(b=b.child;b!==null;)n.push(b,G),b=b.sibling}if(c<i.length){for(n=[];c<i.length;c++)n.push(gu(i[c]));return`findAllNodes was able to match part of the selector:
  `+(d.join(" > ")+`

No matching component was found for:
  `)+n.join(" > ")}return null},It.getPublicRootInstance=function(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 27:case 5:return Cu(n.child.stateNode);default:return n.child.stateNode}},It.injectIntoDevTools=function(){var n={bundleType:0,version:of,rendererPackageName:Tr,currentDispatcherRef:Gt,reconcilerVersion:"19.2.0"};if(_u!==null&&(n.rendererConfig=_u),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")n=!1;else{var i=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(i.isDisabled||!i.supportsFiber)n=!0;else{try{Ds=i.inject(n),mn=i}catch{}n=!!i.checkDCE}}return n},It.isAlreadyRendering=function(){return(ae&6)!==0},It.observeVisibleRects=function(n,i,c,d){if(!xa)throw Error(o(363));n=cn(n,i);var v=Qc(n,c,d).disconnect;return{disconnect:function(){v()}}},It.shouldError=function(){return null},It.shouldSuspend=function(){return!1},It.startHostTransition=function(n,i,c,d){if(n.tag!==5)throw Error(o(476));var v=Uh(n).queue;zh(n,v,i,Ts,c===null?u:function(){var b=Uh(n);return b.next===null&&(b=n.alternate.memoizedState),cr(n,b.next.queue,{},He()),c(d)})},It.updateContainer=function(n,i,c,d){var v=i.current,b=He();return rf(v,b,n,i,c,d),b},It.updateContainerSync=function(n,i,c,d){return rf(i.current,2,n,i,c,d),2},It},f.exports.default=f.exports,Object.defineProperty(f.exports,"__esModule",{value:!0})})(n2)),n2.exports}var Og;function By(){return Og||(Og=1,a2.exports=Gy()),a2.exports}var Hy=By();const jy=jg(Hy);var i2={exports:{}},Ys={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg;function wy(){return Dg||(Dg=1,Ys.ConcurrentRoot=1,Ys.ContinuousEventPriority=8,Ys.DefaultEventPriority=32,Ys.DiscreteEventPriority=2,Ys.IdleEventPriority=268435456,Ys.LegacyRoot=0,Ys.NoEventPriority=0),Ys}var Rg;function Ly(){return Rg||(Rg=1,i2.exports=wy()),i2.exports}var I0=Ly();const zg={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let Ug=!1,Gg=!1;const X0=".react-konva-event",Yy=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,qy=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,Xy={};function W0(f,e,l=Xy){if(!Ug&&"zIndex"in e&&(console.warn(qy),Ug=!0),!Gg&&e.draggable){var u=e.x!==void 0||e.y!==void 0,o=e.onDragEnd||e.onDragMove;u&&!o&&(console.warn(Yy),Gg=!0)}for(var h in l)if(!zg[h]){var g=h.slice(0,2)==="on",y=l[h]!==e[h];if(g&&y){var S=h.substr(2).toLowerCase();S.substr(0,7)==="content"&&(S="content"+S.substr(7,1).toUpperCase()+S.substr(8)),f.off(S,l[h])}var x=!e.hasOwnProperty(h);x&&f.setAttr(h,void 0)}var C=e._useStrictMode,E={},T=!1;const D={};for(var h in e)if(!zg[h]){var g=h.slice(0,2)==="on",N=l[h]!==e[h];if(g&&N){var S=h.substr(2).toLowerCase();S.substr(0,7)==="content"&&(S="content"+S.substr(7,1).toUpperCase()+S.substr(8)),e[h]&&(D[S]=e[h])}!g&&(e[h]!==l[h]||C&&e[h]!==f.getAttr(h))&&(T=!0,E[h]=e[h])}T&&(f.setAttrs(E),Wu(f));for(var S in D)f.off(S+X0),f.on(S+X0,D[S])}function Wu(f){if(!bt.autoDrawEnabled){var e=f.getLayer()||f.getStage();e&&e.batchDraw()}}var l2=M2();const Rp={},Vy={};Eo.Node.prototype._applyProps=W0;let zp=I0.DefaultEventPriority;function Qy(f,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}f.add(e),Wu(f)}function Ky(f,e,l){let u=Eo[f];u||(console.error(`Konva has no node with the type ${f}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${f}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),u=Eo.Group);const o={},h={};for(var g in e)if(g!=="ref"){var y=g.slice(0,2)==="on";y?h[g]=e[g]:o[g]=e[g]}const S=new u(o);return W0(S,h),S}function Zy(f,e,l){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${f}"`)}function ky(f,e,l){return!1}function Jy(f){return f}function Fy(){return null}function Py(){return null}function Iy(f,e,l,u){return Vy}function Wy(){}function $y(f){}function t6(f,e){return!1}function e6(){return Rp}function a6(){return Rp}const n6=setTimeout,i6=clearTimeout,l6=!0,s6=f=>{f()},u6=-1;function r6(f,e){return!1}const c6=!1,o6=!1,f6=!0,h6=!1,d6=!1;function m6(f,e){e.parent===f?e.moveToTop():f.add(e),Wu(f)}function g6(f,e){e.parent===f?e.moveToTop():f.add(e),Wu(f)}function Up(f,e,l){e._remove(),f.add(e),e.setZIndex(l.getZIndex()),Wu(f)}function p6(f,e,l){Up(f,e,l)}function y6(f,e){e.destroy(),e.off(X0),Wu(f)}function v6(f,e){e.destroy(),e.off(X0),Wu(f)}function S6(f,e,l){console.error(`Text components are not yet supported in ReactKonva. You text is: "${l}"`)}function b6(f,e,l){}function x6(f,e,l,u){W0(f,u,l)}function _6(f){f.hide(),Wu(f)}function C6(f){}function E6(f,e){(e.visible==null||e.visible)&&f.show()}function T6(f,e){}function A6(f){}function M6(){}function N6(){return null}function O6(){}function D6(){}function R6(){return I0.DefaultEventPriority}function z6(){}function U6(){return null}function G6(f){zp=f}function B6(){return zp}function H6(){return I0.DiscreteEventPriority}function j6(){return!1}function w6(){}function L6(){return null}function Y6(){return-1.1}function q6(){}function X6(){return!1}function V6(){return!0}function Q6(){}function K6(){}function Z6(){return null}const k6=null,J6=ia.createContext(null);function F6(){}const P6=Object.freeze(Object.defineProperty({__proto__:null,HostTransitionContext:J6,NotPendingTransition:k6,afterActiveInstanceBlur:D6,appendChild:m6,appendChildToContainer:g6,appendInitialChild:Qy,beforeActiveInstanceBlur:O6,cancelTimeout:i6,clearContainer:A6,commitMount:b6,commitTextUpdate:S6,commitUpdate:x6,createInstance:Ky,createTextInstance:Zy,detachDeletedInstance:M6,finalizeInitialChildren:ky,getChildHostContext:a6,getCurrentEventPriority:R6,getCurrentUpdatePriority:B6,getInstanceFromNode:N6,getInstanceFromScope:U6,getPublicInstance:Jy,getRootHostContext:e6,hideInstance:_6,hideTextInstance:C6,idlePriority:l2.unstable_IdlePriority,insertBefore:Up,insertInContainerBefore:p6,isPrimaryRenderer:c6,maySuspendCommit:X6,noTimeout:u6,now:l2.unstable_now,preloadInstance:V6,prepareForCommit:Fy,preparePortalMount:Py,prepareScopeUpdate:z6,prepareUpdate:Iy,removeChild:y6,removeChildFromContainer:v6,requestPostPaintCallback:q6,resetAfterCommit:Wy,resetFormInstance:F6,resetTextContent:$y,resolveEventTimeStamp:Y6,resolveEventType:L6,resolveUpdatePriority:H6,run:l2.unstable_runWithPriority,scheduleMicrotask:s6,scheduleTimeout:n6,setCurrentUpdatePriority:G6,shouldAttemptEagerTransition:j6,shouldDeprioritizeSubtree:t6,shouldSetTextContent:r6,startSuspendingCommit:Q6,supportsHydration:d6,supportsMicrotasks:l6,supportsMutation:f6,supportsPersistence:h6,suspendInstance:K6,trackSchedulerEvent:w6,unhideInstance:E6,unhideTextInstance:T6,waitForCommitToBeReady:Z6,warnsIfNotActing:o6},Symbol.toStringTag,{value:"Module"}));function Gp(f,e,l){if(!f)return;if(l(f)===!0)return f;let u=f.child;for(;u;){const o=Gp(u,e,l);if(o)return o;u=u.sibling}}function Bp(f){try{return Object.defineProperties(f,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return f}}const Y2=Bp(St.createContext(null));class Hp extends St.Component{render(){return St.createElement(Y2.Provider,{value:this._reactInternals},this.props.children)}}function I6(){const f=St.useContext(Y2);if(f===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=St.useId();return St.useMemo(()=>{for(const l of[f,f?.alternate]){if(!l)continue;const u=Gp(l,!1,o=>{let h=o.memoizedState;for(;h;){if(h.memoizedState===e)return!0;h=h.next}});if(u)return u}},[f,e])}const W6=Symbol.for("react.context"),$6=f=>f!==null&&typeof f=="object"&&"$$typeof"in f&&f.$$typeof===W6;function t8(){const f=I6(),[e]=St.useState(()=>new Map);e.clear();let l=f;for(;l;){const u=l.type;$6(u)&&u!==Y2&&!e.has(u)&&e.set(u,St.use(Bp(u))),l=l.return}return e}function e8(){const f=t8();return St.useMemo(()=>Array.from(f.keys()).reduce((e,l)=>u=>St.createElement(e,null,St.createElement(l.Provider,{...u,value:f.get(l)})),e=>St.createElement(Hp,{...e})),[f])}if(ia.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function a8(f){const e=ia.useRef({});return ia.useLayoutEffect(()=>{e.current=f}),ia.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const n8=()=>{const f=ia.useRef(0);return ia.useMemo(()=>{f.current++},[]),f.current>1},i8=f=>{const e=ia.useRef(null),l=ia.useRef(null),u=ia.useRef(null),o=a8(f),h=e8(),g=ia.useRef(!1),y=x=>{const{forwardedRef:C}=f;C&&(typeof C=="function"?C(x):C.current=x)},S=n8();return ia.useLayoutEffect(()=>g.current&&S?()=>{g.current=!1,y(null),fh.updateContainer(null,u.current,null),l.current.destroy()}:(g.current=!0,l.current=new Eo.Stage({width:f.width,height:f.height,container:e.current}),y(l.current),u.current=fh.createContainer(l.current,I0.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),fh.updateContainer(ia.createElement(h,{},f.children),u.current,null,()=>{}),()=>{S||(y(null),fh.updateContainer(null,u.current,null),l.current.destroy())}),[]),ia.useLayoutEffect(()=>{y(l.current),W0(l.current,f,o),fh.updateContainer(ia.createElement(h,{},f.children),u.current,null)}),ia.createElement("div",{ref:e,id:f.id,accessKey:f.accessKey,className:f.className,role:f.role,style:f.style,tabIndex:f.tabIndex,title:f.title})},l8="Layer",s8="Image",u8="Text",fh=jy(P6),r8=ia.forwardRef((f,e)=>ia.createElement(Hp,{},ia.createElement(i8,{...f,forwardedRef:e})));function c8({imageUrl:f,caption:e,textStyle:l,onSave:u}){const[o,h]=St.useState(null),[g,y]=St.useState(null),[S,x]=St.useState({width:0,height:0,scale:1}),[C,E]=St.useState({x:l?.x??50,y:l?.y??50,text:e||"",fontSize:l?.fontSize??32,fill:l?.fill??"#ffffff",fontFamily:"Arial",draggable:!0,shadowColor:"black",shadowBlur:10,shadowOpacity:.8}),T=St.useRef(null),D=St.useRef(null);St.useEffect(()=>{y(null),h(null);const B=new window.Image;B.crossOrigin="anonymous",B.src=f,B.onload=()=>{h(B),y(null);const w=D.current;if(w){const V=w.offsetWidth-40,J=w.offsetHeight-40,W=B.width/B.height,dt=V/J;let rt,et,it;W>dt?(rt=V,et=V/W,it=V/B.width):(et=J,rt=J*W,it=J/B.height),x({width:rt,height:et,scale:it,imgWidth:B.width,imgHeight:B.height}),!l?.x&&!l?.y&&E(xt=>({...xt,x:rt/2,y:et-100}))}},B.onerror=()=>{console.error("Failed to load image:",f),y("Failed to load image for editing. It may be an unsupported format or conversion failed."),h(null)}},[f,l]),St.useEffect(()=>{E(B=>({...B,text:e||""}))},[e]);const N=B=>{const w=T.current?.findOne(".caption-text");if(!w||!S.width)return B;const V=w.width(),J=w.height();return{x:Math.max(0,Math.min(B.x,S.width-V)),y:Math.max(0,Math.min(B.y,S.height-J))}},X=()=>{if(!T.current)return;const B=T.current.toDataURL({pixelRatio:1/S.scale,mimeType:"image/jpeg",quality:.9});console.log("Canvas exported:",B.substring(0,100)+"..."),u&&u(B,{x:C.x,y:C.y,fontSize:C.fontSize,fill:C.fill})};return g?O.jsx("div",{ref:D,className:"w-full h-full flex flex-col items-center justify-center bg-gray-100 p-4",children:O.jsxs("div",{className:"text-center",children:[O.jsx("p",{className:"text-red-600 font-semibold mb-2",children:"⚠️ Image Loading Error"}),O.jsx("p",{className:"text-gray-700 text-sm mb-4",children:g}),O.jsx("p",{className:"text-gray-600 text-xs",children:"Unable to load image for editing. Please try again or contact support."})]})}):!o||!S.width?O.jsx("div",{ref:D,className:"w-full h-full flex items-center justify-center bg-gray-100",children:O.jsx("p",{className:"text-gray-500",children:"Loading image..."})}):O.jsxs("div",{ref:D,className:"w-full h-full flex flex-col bg-gray-100 p-4",style:{overflow:"hidden"},children:[O.jsxs("div",{className:"p-3 bg-white rounded border shadow-sm flex flex-wrap gap-3 items-center",style:{flexShrink:0,marginBottom:"12px"},children:[O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("label",{className:"text-sm font-semibold",children:"Font Size:"}),O.jsx("input",{type:"range",min:"16",max:"72",value:C.fontSize,onChange:B=>E(w=>({...w,fontSize:parseInt(B.target.value)})),className:"w-32"}),O.jsxs("span",{className:"text-sm",children:[C.fontSize,"px"]})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("label",{className:"text-sm font-semibold",children:"Color:"}),O.jsx("input",{type:"color",value:C.fill,onChange:B=>E(w=>({...w,fill:B.target.value})),className:"w-16 h-8 cursor-pointer"})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("label",{className:"text-sm font-semibold",children:"Text:"}),O.jsx("input",{type:"text",value:C.text,onChange:B=>E(w=>({...w,text:B.target.value})),className:"border rounded px-2 py-1 text-sm flex-1 min-w-[200px]",placeholder:"Enter caption text..."})]}),O.jsx("button",{onClick:X,className:"ml-auto px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 font-semibold text-sm",children:"Save Captioned Image"})]}),O.jsx("div",{className:"flex items-center justify-center",style:{flex:"1 1 0",minHeight:0,overflow:"hidden"},children:O.jsx(r8,{ref:T,width:S.width,height:S.height,style:{background:"#f0f0f0",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:O.jsxs(l8,{children:[O.jsx(s8,{image:o,width:S.width,height:S.height}),O.jsx(u8,{name:"caption-text",...C,dragBoundFunc:N,onDragMove:B=>{E(w=>({...w,x:B.target.x(),y:B.target.y()}))}})]})})}),O.jsx("p",{className:"text-xs text-gray-600 text-center",style:{flexShrink:0,marginTop:"8px",marginBottom:"4px"},children:"Drag the text to reposition • Use controls above to customize"})]})}const Bg=f=>{let e;const l=new Set,u=(x,C)=>{const E=typeof x=="function"?x(e):x;if(!Object.is(E,e)){const T=e;e=C??(typeof E!="object"||E===null)?E:Object.assign({},e,E),l.forEach(D=>D(e,T))}},o=()=>e,y={setState:u,getState:o,getInitialState:()=>S,subscribe:x=>(l.add(x),()=>l.delete(x))},S=e=f(u,o,y);return y},o8=(f=>f?Bg(f):Bg),f8=f=>f;function h8(f,e=f8){const l=ia.useSyncExternalStore(f.subscribe,ia.useCallback(()=>e(f.getState()),[f,e]),ia.useCallback(()=>e(f.getInitialState()),[f,e]));return ia.useDebugValue(l),l}const Hg=f=>{const e=o8(f),l=u=>h8(e,u);return Object.assign(l,e),l},d8=(f=>f?Hg(f):Hg),Bn=d8(f=>({photos:[],toastMsg:"",pollingPhotoId:null,pollingPhotoIds:new Set,setPhotos:e=>f({photos:e}),removePhotoById:e=>f(l=>({photos:l.photos.filter(u=>u.id!==e)})),updatePhotoData:(e,l)=>f(u=>({photos:u.photos.map(o=>o.id===e?{...o,...l}:o)})),setToast:e=>f({toastMsg:e}),setPollingPhotoId:e=>f({pollingPhotoId:e}),addPollingId:e=>f(l=>{const u=new Set(l.pollingPhotoIds||[]);return u.add(e),{pollingPhotoIds:u}}),removePollingId:e=>f(l=>{const u=new Set(l.pollingPhotoIds||[]);return u.delete(e),{pollingPhotoIds:u}}),moveToInprogress:async e=>{try{return await g2(e,"inprogress"),f(l=>{const u=new Set(l.pollingPhotoIds||[]);return u.add(e),{photos:l.photos.filter(o=>o.id!==e),pollingPhotoId:e,pollingPhotoIds:u}}),{success:!0}}catch(l){return f({toastMsg:`Error moving photo: ${l?.message||l}`}),{success:!1,error:l}}}}));function m8({photo:f,onClose:e,onSave:l,onFinished:u}){Eh();const[o,h]=St.useState(f?.caption||""),[g,y]=St.useState(f?.description||""),[S,x]=St.useState(f?.keywords||""),[C,E]=St.useState(f?.textStyle||null),[T,D]=St.useState(!1);St.useEffect(()=>{h(f?.caption||""),y(f?.description||""),x(f?.keywords||""),E(f?.textStyle||null)},[f]),St.useEffect(()=>{const it=document.body.style.overflow;try{document.body.style.overflow="hidden"}catch(xt){console.warn("Failed to set body overflow:",xt)}return()=>{try{document.body.style.overflow=it||""}catch(xt){console.warn("Failed to restore body overflow:",xt)}}},[]);const N=Bn(it=>it.pollingPhotoIds),X=Bn(it=>it.pollingPhotoId),B=N&&N.has&&N.has(f?.id)||X===f?.id,w=`${Hn}${f.url}`,[V,J]=St.useState(null),[W,dt]=St.useState(!1);if(St.useEffect(()=>{if(!f||!f.url)return;let it=!0,xt=null;return dt(!1),(async()=>{try{const At=await s4(w);if(!it){At&&$m(At);return}xt=At,At?J(At):dt(!0)}catch(At){console.error("Failed to fetch protected image",At),it&&dt(!0)}})(),()=>{it=!1,xt&&$m(xt),J(null)}},[w,f]),!f)return null;const rt=async()=>{D(!0);try{if(!(await fetch(`http://localhost:3001/photos/${f.id}/metadata`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({caption:o,description:g,keywords:S,textStyle:C}),credentials:"include"})).ok)throw new Error("Failed to save metadata");const xt={...f,caption:o,description:g,keywords:S,textStyle:C};await l(xt),alert("Metadata saved successfully!")}catch(it){console.error("Save failed",it),alert("Failed to save metadata: "+it.message)}finally{D(!1)}},et=async(it,xt)=>{console.log("Canvas saved with caption overlay!"),D(!0);try{E(xt);const At=await fetch("http://localhost:3001/save-captioned-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({photoId:f.id,dataURL:it,caption:o,description:g,keywords:S,textStyle:xt}),credentials:"include"});if(!At.ok)throw new Error("Failed to save captioned image");const zt=await At.json();console.log("Captioned image saved:",zt);const _t={...f,caption:o,description:g,keywords:S,textStyle:xt};await l(_t),alert(`Captioned image saved to inprogress as ${zt.filename}`)}catch(At){console.error("Canvas save failed",At),alert("Failed to save captioned image: "+At.message)}finally{D(!1)}};return O.jsxs("div",{className:"bg-white overflow-hidden flex flex-col",style:{height:"100%",boxSizing:"border-box",borderRadius:"8px",border:"2px solid #4a5568",boxShadow:"0 2px 10px rgba(0,0,0,0.16)"},children:[O.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",children:[O.jsxs("h1",{className:"text-lg font-bold",children:["Edit Photo — ",f.filename]}),O.jsxs("div",{className:"flex gap-2",children:[O.jsx("button",{onClick:e,className:"px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300",children:"Back"}),O.jsx("button",{onClick:()=>{u(f.id)},className:"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700",children:"Mark as Finished"})]})]}),O.jsxs("div",{className:"flex-1 flex overflow-hidden",style:{gap:"7px",padding:"7px 7px 7px 7px",backgroundColor:"white"},children:[O.jsxs("div",{className:"w-1/2 rounded border overflow-hidden relative",style:{backgroundColor:"#f5f5f5"},children:[B&&O.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center rounded z-50",children:[O.jsx("div",{className:"w-8 h-8 border-4 border-white border-t-transparent rounded-full animate-spin","aria-hidden":"true"}),O.jsx("span",{className:"sr-only",children:"Processing..."})]}),!V&&!W&&O.jsx("div",{className:"text-center p-8",children:"Loading image..."}),W&&O.jsx("div",{className:"text-center p-8 text-red-500",children:"Failed to load image."}),V&&O.jsx(c8,{imageUrl:V,caption:o,textStyle:C,onSave:et})]}),O.jsxs("div",{className:"w-1/2 flex flex-col",style:{gap:"7px"},children:[O.jsxs("div",{className:"h-1/2 flex flex-col p-6 overflow-y-auto overflow-x-hidden rounded border",style:{backgroundColor:"#f5f5f5"},children:[O.jsxs("div",{className:"mb-2",children:[O.jsx("label",{className:"block font-semibold mb-1 text-sm",children:"Caption"}),O.jsx("textarea",{className:"w-full border rounded p-2 text-sm",rows:2,value:o,onChange:it=>h(it.target.value)})]}),O.jsxs("div",{className:"mb-2",children:[O.jsx("label",{className:"block font-semibold mb-1 text-sm",children:"Description"}),O.jsx("textarea",{className:"w-full border rounded p-2 text-sm",rows:4,value:g,onChange:it=>y(it.target.value)})]}),O.jsxs("div",{className:"mb-3",children:[O.jsx("label",{className:"block font-semibold mb-1 text-sm",children:"Keywords"}),O.jsx("textarea",{className:"w-full border rounded p-2 text-sm resize-none overflow-hidden",rows:2,value:S,onChange:it=>x(it.target.value),style:{whiteSpace:"pre-wrap",wordWrap:"break-word"}})]}),O.jsxs("div",{className:"flex gap-2",children:[O.jsx("button",{onClick:rt,disabled:T,className:"px-3 py-1.5 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:T?"Saving...":"Save"}),O.jsx("button",{onClick:e,className:"px-3 py-1.5 text-sm bg-gray-200 rounded hover:bg-gray-300",children:"Cancel"})]})]}),O.jsxs("div",{className:"h-1/2 flex flex-col p-6 rounded border",style:{backgroundColor:"#f5f5f5"},children:[O.jsx("h3",{className:"font-semibold mb-2 text-sm",children:"AI Chat (Coming Soon)"}),O.jsx("div",{className:"flex-1 border rounded p-3 bg-white text-sm text-gray-500 flex items-center justify-center",children:"Chat interface will appear here"})]})]})]})]})}function g8(){const f=Bn(h=>h.pollingPhotoId),e=Bn(h=>h.updatePhotoData),l=Bn(h=>h.setPollingPhotoId),u=Bn(h=>h.setToast),o=St.useRef(0);St.useEffect(()=>{if(!f)return;let h=!1;o.current=0;const g=40,y=C=>{if(!C)return!1;const E=(C.caption||"").toString().trim(),T=(C.description||"").toString().trim(),D=(C.keywords||"").toString().trim();return!!(E||T||D)},S=async()=>{o.current+=1;try{const C=await l4(f);if(!C)return;let E=null;if(C.photo?E=C.photo:C.photos&&Array.isArray(C.photos)?E=C.photos.find(T=>T.id===f)||null:E=C,!E)return;if(y(E)){if(h)return;e(E.id,E),l(null);return}if(o.current>=g){if(h)return;l(null),u("AI job still running — stopped polling after timeout");return}}catch(C){if((C&&C.message?String(C.message):"").includes("404")){h||(l(null),u("Photo not found — stopped polling"));return}console.warn("AIPolling getPhoto failed",C)}};S();const x=setInterval(S,3e3);return()=>{h=!0,clearInterval(x)}},[f,e,l,u])}function p8(f){if(!f||f===0)return"0 B";const e=1024,l=["B","KB","MB","GB"],u=Math.floor(Math.log(f)/Math.log(e));return parseFloat((f/Math.pow(e,u)).toFixed(1))+" "+l[u]}function y8({message:f,onClose:e}){return f?O.jsx("div",{className:"fixed top-32 right-4 bg-amber-500 text-white px-3 py-2 rounded-md shadow-lg z-40 max-w-sm text-sm",children:O.jsxs("div",{className:"flex items-start gap-2",children:[O.jsx("span",{className:"text-amber-100",children:"⚠️"}),O.jsx("div",{className:"flex-1",children:f}),O.jsx("button",{className:"text-amber-100 hover:text-white font-bold ml-2",onClick:e,title:"Dismiss",children:"×"})]})}):null}function v8(){const f=async()=>{Ut(!0);try{await n4(),x("Recheck triggered successfully")}catch(st){x(`Recheck failed: ${st.message}`)}finally{Ut(!1)}};St.useEffect(()=>{Gm("Test log: If you see this, the global log is working!")},[]);const e=Bn(st=>st.photos),l=Bn(st=>st.setPhotos),u=Bn(st=>st.updatePhotoData),o=Bn(st=>st.removePhotoById),h=Bn(st=>st.moveToInprogress),g=Bn(st=>st.pollingPhotoId),y=Bn(st=>st.setPollingPhotoId),S=Bn(st=>st.toastMsg),x=Bn(st=>st.setToast),[C,E]=St.useState(!0),T="",[D,N]=St.useState(""),[X,B]=St.useState(!1),[w,V]=St.useState([]),[J,W]=St.useState(""),[dt,rt]=St.useState(""),[et,it]=St.useState(!1),[xt,At]=St.useState({}),[zt,_t]=St.useState(!1),[jt,Ut]=St.useState(!1),[gt,H]=St.useState(null),[ct,ft]=St.useState(""),[Et,Ot]=St.useState(""),[z,$]=St.useState(""),[lt,Tt]=St.useState(null),[wt,Xt]=St.useState(!1),fe=St.useRef(null),[Ie,he]=St.useState(!0),[vl,Vi]=St.useState(!1),[Ya,mi]=St.useState(null),li=St.useRef(null);g8(),St.useEffect(()=>{window.logGlobalError=Gm},[]);const Sn=St.useCallback(async st=>{E(!0);try{const Kt=await a4(typeof st=="string"?st:"working");l(Kt&&Kt.photos||[])}catch(Dt){x(`Error loading photos from backend: ${Dt&&Dt.message?Dt.message:"unknown"}`)}finally{E(!1)}},[l,x]);St.useEffect(()=>{Sn(wt?"finished":zt?"inprogress":"working")},[zt,wt,Sn]);const bn=St.useRef([]);St.useEffect(()=>{(async()=>{if(e.length===0)return;const Dt=e.map($e=>$e.filename),Kt=bn.current;if(Kt.length===Dt.length&&Kt.every(($e,Ge)=>$e===Dt[Ge]))return;bn.current=Dt;const ha={};for(const $e of e)ha[$e.id]="Loading...";At(ha);let Re={},ns=!1;try{const $e=await e4(Dt);if($e&&typeof $e=="object"){console.log("[App] Batch privilege mapping: photo filenames:",Dt),console.log("[App] Batch privilege mapping: batchResult keys:",Object.keys($e));for(const Ge of e){const ee=$e[Ge.filename];if(typeof ee=="string")Re[Ge.id]=ee;else if(ee&&typeof ee=="object"){const la=[];(ee.read||ee.canRead)&&la.push("R"),(ee.write||ee.canWrite)&&la.push("W"),(ee.execute||ee.canExecute)&&la.push("X"),Re[Ge.id]=la.length>0?la.join(""):"?"}else console.warn("[App] No privilege found for photo:",Ge.filename,"in batchResult:",$e),Re[Ge.id]="?"}At(Re),ns=!0}}catch($e){console.warn("[App] Batch privilege check failed, will fallback to individual checks:",$e)}if(ns){console.log("[App] Batch privilege mapping succeeded, skipping fallback.");return}else{console.warn("[App] Batch privilege mapping did not succeed, running fallback to individual checks."),Re={};for(const $e of e)try{const Ge=await t4($e.filename),ee=Ge&&(Ge.privileges||Ge.privilege||(Ge.canRead||Ge.canWrite||Ge.canExecute?Ge:null));if(ee&&ee.read!==void 0&&(ee.canRead=ee.read,ee.canWrite=ee.write,ee.canExecute=ee.execute),ee){const la=[];ee.canRead&&la.push("R"),ee.canWrite&&la.push("W"),ee.canExecute&&la.push("X"),Re[$e.id]=la.length>0?la.join(""):"?"}else Re[$e.id]="?"}catch(Ge){console.warn("Privilege check failed for",$e.filename,Ge),Re[$e.id]="Err"}At(Re)}})()},[e]);const jn=async()=>{try{if(!window.showDirectoryPicker)throw new Error("File System Access API not supported");const st=await window.showDirectoryPicker(),Dt=[];for await(const[Kt,We]of st.entries())if(We.kind==="file"&&/\.(jpg|jpeg|png|gif|heic|heif)$/i.test(Kt)){const ha=await We.getFile();try{const Re=await U3(ha),ns=Re?.DateTimeOriginal||Re?.CreateDate||Re?.DateTime;Dt.push({name:Kt,file:ha,exifDate:ns,handle:We})}catch{Dt.push({name:Kt,file:ha,exifDate:null,handle:We})}}li.current=st,V(Dt),it(!0)}catch(st){x(`Folder selection failed: ${st.message}`)}},Qi=w.filter(st=>{if(!J&&!dt)return!0;const Dt=st.exifDate?new Date(st.exifDate):new Date(st.file.lastModified),Kt=J?new Date(J):null,We=dt?new Date(dt+"T23:59:59"):null;return(!Kt||Dt>=Kt)&&(!We||Dt<=We)}),as=async()=>{if(Qi.length!==0){B(!0);try{for(const st of Qi)await $3(st.file);N(`Successfully uploaded ${Qi.length} photos`),await Sn(wt?"finished":zt?"inprogress":"working"),V([]),it(!1)}catch(st){x(`Upload failed: ${st.message}`)}finally{B(!1)}}},gi=async st=>{try{const Dt=await h(st);if(!Dt||!Dt.success){const Kt=Dt&&Dt.error;x(`Error moving photo: ${Kt?.message||"unknown"}`)}else await Sn(wt?"finished":zt?"inprogress":"working")}catch(Dt){x(`Error moving photo: ${Dt.message}`)}},Sl=async st=>{try{await g2(st,"working"),await Sn(wt?"finished":zt?"inprogress":"working")}catch(Dt){x(`Error moving photo back to staged: ${Dt.message}`)}},Ki=async st=>{if(confirm("Are you sure you want to delete this photo? This action cannot be undone."))try{const Dt=await fetch(`http://localhost:3001/photos/${st}`,{method:"DELETE",credentials:"include"});if(Dt.status===401||Dt.status===403){window.location.reload();return}if(!Dt.ok){const Kt=await Dt.json();throw new Error(Kt.error||"Failed to delete photo")}o(st),x("Photo deleted successfully")}catch(Dt){x(`Error deleting photo: ${Dt.message}`)}};St.useEffect(()=>{const st=Kt=>{try{try{console.debug("[App] onRunAi event",Kt&&Kt.detail&&Kt.detail.photoId)}catch{}const We=Kt?.detail?.photoId;We&&y(We)}catch{}},Dt=Kt=>{try{if(!Kt||Kt.key!=="photo:run-ai")return;const We=Kt.newValue;if(!We)return;const ha=JSON.parse(We),Re=ha&&ha.photoId;try{console.debug("[App] storage event photo:run-ai",Re)}catch{}Re&&y(Re)}catch{}};return typeof window<"u"&&window.addEventListener&&(window.addEventListener("photo:run-ai",st),window.addEventListener("storage",Dt)),()=>{try{typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("photo:run-ai",st),window.removeEventListener("storage",Dt))}catch{}}},[y]);const Sa=(st,Dt=!1)=>{try{fe.current=document.activeElement}catch{}he(!!Dt),H(st);try{Tt(st)}catch{}};St.useEffect(()=>{gt&&(ft(gt.caption||""),Ot(gt.description||""),$(gt.keywords||""))},[gt]);const ba=St.useCallback(async st=>{try{await g2(st,"finished"),x("Photo marked as finished"),H(null),o(st)}catch(Dt){x(`Error marking photo as finished: ${Dt.message}`)}},[o,x]);return ia.useEffect(()=>{const st=Dt=>{try{const Kt=Dt.data||{};Kt&&Kt.type==="updateCaption"?u(Kt.id,{caption:Kt.caption}):Kt&&Kt.type}catch{}};return typeof window<"u"&&window.addEventListener&&window.addEventListener("message",st),()=>{try{typeof window<"u"&&window.removeEventListener&&window.removeEventListener("message",st)}catch{}}},[u]),O.jsxs("div",{className:"flex flex-col bg-gray-100",id:"main-app-container",style:{position:"fixed",top:0,left:0,right:0,bottom:0,paddingTop:"72px"},children:[O.jsx("div",{className:"fixed top-6 left-1/2 transform -translate-x-1/2 z-50",children:O.jsx(y8,{message:S,onClose:()=>x("")})}),O.jsx(r4,{onSelectFolder:jn,onViewStaged:()=>{_t(!1),Xt(!1),H(null),Tt(null),he(!1)},onViewInprogress:()=>{_t(!0),Xt(!1),H(null),Tt(null),he(!1)},onViewFinished:()=>{_t(!1),Xt(!0),H(null),Tt(null),he(!1)},onRecheck:f,rechecking:jt,onShowMetadata:()=>{lt||gt?(mi(lt||gt),Vi(!0)):x("Please select a photo first")},toolbarMessage:D,onClearToolbarMessage:()=>N("")}),O.jsx("div",{"aria-live":"polite",className:"sr-only",children:T}),vl&&Ya&&O.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",style:{zIndex:100},children:O.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full m-4 shadow-2xl",children:[O.jsxs("div",{className:"flex items-center justify-between mb-4",children:[O.jsx("h2",{className:"text-xl font-bold",children:"Photo Metadata"}),O.jsx("button",{onClick:()=>Vi(!1),className:"text-2xl text-gray-500 hover:text-gray-700",children:"×"})]}),O.jsxs("div",{className:"space-y-2 text-sm",children:[O.jsxs("p",{children:[O.jsx("strong",{children:"Filename:"})," ",Ya.filename]}),O.jsxs("p",{children:[O.jsx("strong",{children:"File Size:"})," ",Ya.file_size]}),O.jsxs("p",{children:[O.jsx("strong",{children:"State:"})," ",Ya.state]}),O.jsxs("p",{children:[O.jsx("strong",{children:"Hash:"})," ",O.jsx("span",{className:"font-mono text-xs break-all",children:Ya.hash||"N/A"})]}),Ya.metadata?.DateTimeOriginal&&O.jsxs("p",{children:[O.jsx("strong",{children:"Date Taken:"})," ",Ya.metadata.DateTimeOriginal]})]}),O.jsx("div",{className:"mt-6 flex justify-end",children:O.jsx("button",{onClick:()=>Vi(!1),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Close"})})]})}),et&&O.jsx(c4,{startDate:J,endDate:dt,setStartDate:W,setEndDate:rt,uploading:X,filteredLocalPhotos:Qi,handleUploadFiltered:as,setShowLocalPicker:it,onReopenFolder:jn}),O.jsx("div",{className:"flex-1 overflow-auto",style:{padding:"8px 16px 16px 16px"},children:gt?O.jsx(m8,{photo:gt,onClose:()=>H(null),onFinished:async st=>{await ba(st),H(null)},onSave:async st=>{l(Dt=>Dt.map(Kt=>Kt.id===st.id?{...Kt,...st}:Kt)),H(null)}}):O.jsx(O.Fragment,{children:lt?O.jsx("div",{className:"bg-white rounded-lg shadow-md h-full p-6",children:O.jsxs("div",{className:"flex items-start h-full gap-4",style:{height:"calc(100vh - 140px)"},children:[O.jsx("div",{className:"w-2/5 bg-gray-100 rounded overflow-auto flex items-center justify-center px-2 py-3",style:{maxHeight:"100%"},children:O.jsx("img",{src:`${Hn}${lt.url}`,alt:lt.filename,className:"max-h-full max-w-full object-contain",style:{width:"auto",height:"auto"}})}),O.jsx("div",{className:"mx-3",style:{width:"3px",backgroundColor:"#e5e7eb",height:"100%"}}),O.jsxs("aside",{className:"w-3/5 bg-white rounded shadow-sm border p-8 flex flex-col",style:{maxHeight:"100%",borderLeft:"1px solid #e5e7eb"},children:[O.jsxs("header",{className:"mb-3",children:[O.jsx("h2",{className:"text-lg font-semibold",children:lt.filename}),O.jsx("div",{className:"text-xs text-gray-500",children:lt.metadata?.DateTimeOriginal||""})]}),O.jsxs("div",{className:"space-y-4 mb-2",style:{overflow:"auto"},children:[O.jsxs("section",{children:[O.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Caption"}),gt&&gt.id===lt.id&&!Ie?O.jsx("textarea",{value:ct,onChange:st=>ft(st.target.value),className:"w-full rounded border p-2 text-sm bg-gray-50"}):O.jsx("div",{className:"rounded border p-2 bg-gray-50 text-sm text-gray-700",children:lt.caption||O.jsx("span",{className:"text-gray-400",children:"No caption"})})]}),O.jsxs("section",{children:[O.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),gt&&gt.id===lt.id&&!Ie?O.jsx("textarea",{value:Et,onChange:st=>Ot(st.target.value),className:"w-full rounded border p-2 text-sm bg-gray-50",rows:4}):!lt.description||!lt.keywords?O.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[O.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[O.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),O.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),O.jsx("span",{className:"text-gray-500 text-sm",children:"AI is processing this photo..."})]}):O.jsx("div",{className:"rounded border p-2 bg-gray-50 text-sm text-gray-700",children:lt.description||O.jsx("span",{className:"text-gray-400",children:"No description"})})]}),O.jsxs("section",{children:[O.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Keywords"}),gt&&gt.id===lt.id&&!Ie?O.jsx("input",{value:z,onChange:st=>$(st.target.value),className:"w-full rounded border p-2 text-sm bg-gray-50"}):!lt.description||!lt.keywords?O.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[O.jsxs("svg",{className:"animate-spin h-6 w-6 text-blue-500 mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[O.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),O.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),O.jsx("span",{className:"text-gray-500 text-xs",children:"Waiting for AI info..."})]}):O.jsx("div",{className:"rounded border p-2 bg-gray-50 text-sm text-gray-700",children:lt.keywords||O.jsx("span",{className:"text-gray-400",children:"No keywords"})})]}),O.jsxs("section",{className:"flex-1 min-h-0",children:[O.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"AI Agent"}),O.jsxs("div",{className:"h-full bg-gray-50 rounded p-3 overflow-auto text-sm text-gray-700 flex flex-col",style:{minHeight:0},children:[O.jsxs("div",{className:"flex-1",children:[O.jsx("p",{className:"text-gray-400",children:"AI chat agent placeholder. Integrate agent UI here (messages, input box, actions)."}),O.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Example:",O.jsxs("ul",{className:"list-disc ml-5",children:[O.jsx("li",{children:'Ask: "Generate alt text for this image"'}),O.jsx("li",{children:'Ask: "Suggest 5 keywords"'})]})]})]}),O.jsx("div",{className:"text-xs text-gray-400 mt-2",children:"Placeholder"})]})]})]}),O.jsx("div",{className:"sticky bottom-0 bg-white pt-2 -mx-4 px-4 pb-2 border-t",children:O.jsxs("div",{className:"flex justify-end gap-2",children:[O.jsx("button",{onClick:()=>{H(null)},className:"px-3 py-1 bg-gray-100 border rounded text-sm",children:"Close"}),O.jsx("button",{onClick:async()=>{try{ct!==(lt.caption||"")&&await i4(lt.id,ct),u(lt.id,{caption:ct,description:Et,keywords:z}),H(null),x("Saved in app")}catch(st){x("Save failed: "+(st.message||st))}},className:"px-3 py-1 bg-blue-600 text-white rounded text-sm",children:"Save"}),O.jsx("button",{onClick:async()=>{try{await ba(lt.id)}catch{x("Mark finished failed")}},className:"px-3 py-1 bg-green-600 text-white rounded text-sm",children:"Mark as Finished"})]})})]})]})}):O.jsx("div",{className:"bg-white rounded-lg shadow-md",children:C?O.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading photos..."}):e.length===0?O.jsx("div",{className:"p-8 text-center text-gray-500",children:"No photos found in backend."}):O.jsxs("div",{children:[O.jsx("div",{className:"border-b border-gray-200 px-4 py-2 bg-gray-50 font-medium text-sm",children:O.jsxs("div",{className:"grid grid-cols-15 gap-4",children:[O.jsx("div",{className:"col-span-2",children:"Preview"}),O.jsx("div",{className:"col-span-2",children:"Filename"}),O.jsx("div",{className:"col-span-3",children:"Date Taken"}),O.jsx("div",{className:"col-span-1",children:"Size"}),O.jsx("div",{className:"col-span-2",children:"State"}),O.jsx("div",{className:"col-span-2",children:"Privileges"}),O.jsx("div",{className:"col-span-1",children:"Hash"}),O.jsx("div",{className:"col-span-2",children:"Actions"})]})}),O.jsx("div",{className:"divide-y divide-gray-200 table-row-compact",children:e.map(st=>O.jsxs("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer",onClick:()=>Tt(st),children:[O.jsxs("div",{className:"grid grid-cols-15 gap-4 text-sm items-center",children:[O.jsx("div",{className:"col-span-2",children:O.jsxs("div",{className:"relative inline-block",children:[st.thumbnail?O.jsx("img",{src:`${Hn}${st.thumbnail}`,alt:st.filename,className:"max-h-20 rounded shadow bg-white"}):O.jsx("div",{className:"w-20 h-20 flex items-center justify-center bg-gray-200 text-gray-400 rounded shadow",children:"No Thumb"}),g===st.id&&O.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center rounded",children:[O.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin","aria-hidden":"true"}),O.jsx("span",{className:"sr-only",children:"Processing"})]})]})}),O.jsx("div",{className:"col-span-2 font-medium text-gray-900 truncate",children:st.filename}),O.jsx("div",{className:"col-span-3 text-gray-600",children:st.metadata.DateTimeOriginal||st.metadata.CreateDate||"Unknown"}),O.jsx("div",{className:"col-span-1 text-gray-600 text-xs",children:p8(st.file_size)}),O.jsx("div",{className:"col-span-2 text-gray-600",children:st.state==="working"?"staged":st.state}),O.jsx("div",{className:"col-span-2 text-gray-600",children:xt[st.id]||"..."}),O.jsx("div",{className:"col-span-1 text-green-700 font-mono text-xs",children:st.hash?O.jsxs("span",{title:st.hash,children:["✔ ",st.hash.slice(-5)]}):"..."}),O.jsxs("div",{className:"col-span-2 flex gap-2",children:[st.state==="working"&&O.jsx("button",{onClick:Dt=>{Dt.stopPropagation(),gi(st.id)},className:"bg-green-500 hover:bg-green-700 text-white px-2 py-1 rounded text-xs",children:"Move to Inprogress"}),st.state==="inprogress"&&O.jsxs(O.Fragment,{children:[O.jsx("button",{onClick:Dt=>{Dt.stopPropagation(),Sa(st,!1)},className:"bg-blue-500 hover:bg-blue-700 text-white px-2 py-1 rounded text-xs",children:"Edit"}),O.jsx("button",{onClick:Dt=>{Dt.stopPropagation(),Sl(st.id)},className:"bg-yellow-500 hover:bg-yellow-700 text-white px-2 py-1 rounded text-xs",children:"Move to Staged"}),O.jsx("button",{onClick:Dt=>{Dt.stopPropagation(),Ki(st.id)},className:"bg-red-500 hover:bg-red-700 text-white px-2 py-1 rounded text-xs",children:"Delete"})]})]})]}),(st.caption||st.description||st.keywords)&&O.jsxs("div",{className:"mt-2 ml-4 p-2 bg-gray-50 rounded border border-gray-200 text-xs text-gray-700",children:[st.caption&&O.jsxs("div",{children:[O.jsx("span",{className:"font-semibold",children:"Caption:"})," ",st.caption]}),st.description&&O.jsxs("div",{className:"mt-1",children:[O.jsx("span",{className:"font-semibold",children:"Description:"})," ",st.description]}),st.keywords&&O.jsxs("div",{className:"mt-1",children:[O.jsx("span",{className:"font-semibold",children:"Keywords:"})," ",st.keywords]})]})]},st.id))})]})})})})]})}const S8=({onSwitchToRegister:f})=>{const[e,l]=St.useState(""),[u,o]=St.useState(""),[h,g]=St.useState(!1),[y,S]=St.useState(""),{login:x}=Eh(),C=async E=>{if(E.preventDefault(),g(!0),S(""),!e||!u){S("Please fill in all fields"),g(!1);return}const T=await x(e,u);T.success||S(T.error),g(!1)};return O.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:[y&&O.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-8",style:{marginTop:"120px",zIndex:9999,position:"relative",width:"100%",maxWidth:480,boxShadow:"0 2px 8px rgba(0,0,0,0.08)",border:"2px solid #f87171",fontWeight:"bold",color:"#991b1b",fontSize:"1.2rem",textAlign:"center",display:"block",pointerEvents:"auto",background:"#fff0f1",outline:"4px solid #fff0f1",outlineOffset:"-4px",marginLeft:"auto",marginRight:"auto",padding:"1.5rem",boxSizing:"border-box",minHeight:80,marginBottom:40,transition:"all 0.2s",top:0,left:0,right:0,borderRadius:12},children:O.jsxs("div",{className:"flex items-center justify-center",children:[O.jsx("svg",{className:"h-6 w-6 text-red-400 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:O.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),O.jsxs("span",{children:["Login Failed: ",y]})]})}),O.jsxs("div",{className:"max-w-md w-full space-y-8",children:[O.jsxs("div",{children:[O.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to Photo App"}),O.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Access your photo collection securely"})]}),O.jsxs("form",{className:"mt-8 space-y-6",onSubmit:C,children:[O.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[O.jsxs("div",{children:[O.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),O.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Username",value:e,onChange:E=>l(E.target.value),disabled:h})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),O.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",value:u,onChange:E=>o(E.target.value),disabled:h})]})]}),O.jsx("div",{children:O.jsx("button",{type:"submit",disabled:h,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:h?O.jsxs("div",{className:"flex items-center",children:[O.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[O.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),O.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})}),O.jsx("div",{className:"text-center",children:O.jsx("button",{type:"button",onClick:f,className:"text-indigo-600 hover:text-indigo-500 text-sm font-medium",children:"Don't have an account? Register here"})})]})]})]})},b8=({onSwitchToLogin:f})=>{const[e,l]=St.useState(""),[u,o]=St.useState(""),[h,g]=St.useState(""),[y,S]=St.useState(""),[x,C]=St.useState(!1),[E,T]=St.useState(""),{register:D}=Eh(),N=w=>{const J=/[A-Z]/.test(w),W=/[a-z]/.test(w),dt=/\d/.test(w),rt=/[!@#$%^&*(),.?":{}|<>]/.test(w),et=[];return w.length<8&&et.push("Must be at least 8 characters long"),J||et.push("Must contain at least one uppercase letter"),W||et.push("Must contain at least one lowercase letter"),dt||et.push("Must contain at least one number"),rt||et.push("Must contain at least one special character"),{isValid:et.length===0,errors:et}},X=async w=>{if(w.preventDefault(),C(!0),T(""),!e||!u||!h||!y){T("Please fill in all fields"),C(!1);return}if(e.length<3){T("Username must be at least 3 characters long"),C(!1);return}if(!/^[a-zA-Z0-9_]+$/.test(e)){T("Username can only contain letters, numbers, and underscores"),C(!1);return}if(!/\S+@\S+\.\S+/.test(u)){T("Please enter a valid email address"),C(!1);return}const V=N(h);if(!V.isValid){T(`Password requirements not met:
`+V.errors.join(`
`)),C(!1);return}if(h!==y){T("Passwords do not match"),C(!1);return}const J=await D(e,u,h);J.success||T(J.error),C(!1)},B=N(h);return O.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:O.jsxs("div",{className:"max-w-md w-full space-y-8",children:[O.jsxs("div",{children:[O.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),O.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Join Photo App to manage your photos securely"})]}),O.jsxs("form",{className:"mt-8 space-y-6",onSubmit:X,children:[O.jsxs("div",{className:"space-y-4",children:[O.jsxs("div",{children:[O.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),O.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Enter username",value:e,onChange:w=>l(w.target.value),disabled:x}),O.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Must be 3+ characters, letters, numbers, and underscores only"})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),O.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Enter email address",value:u,onChange:w=>o(w.target.value),disabled:x})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),O.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Enter password",value:h,onChange:w=>g(w.target.value),disabled:x}),h&&O.jsxs("div",{className:"mt-2 text-xs",children:[O.jsx("p",{className:"font-medium text-gray-700 mb-1",children:"Password requirements:"}),O.jsxs("ul",{className:"space-y-1",children:[O.jsx("li",{className:h.length>=8?"text-green-600":"text-red-600",children:"✓ At least 8 characters"}),O.jsx("li",{className:/[A-Z]/.test(h)?"text-green-600":"text-red-600",children:"✓ Uppercase letter"}),O.jsx("li",{className:/[a-z]/.test(h)?"text-green-600":"text-red-600",children:"✓ Lowercase letter"}),O.jsx("li",{className:/\d/.test(h)?"text-green-600":"text-red-600",children:"✓ Number"}),O.jsx("li",{className:/[!@#$%^&*(),.?":{}|<>]/.test(h)?"text-green-600":"text-red-600",children:"✓ Special character"})]})]})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),O.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Confirm password",value:y,onChange:w=>S(w.target.value),disabled:x}),y&&h!==y&&O.jsx("p",{className:"mt-1 text-xs text-red-600",children:"Passwords do not match"})]})]}),E&&O.jsx("div",{className:"rounded-md bg-red-50 p-4",children:O.jsxs("div",{className:"flex",children:[O.jsx("div",{className:"flex-shrink-0",children:O.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:O.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),O.jsxs("div",{className:"ml-3",children:[O.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Registration Failed"}),O.jsx("div",{className:"mt-2 text-sm text-red-700 whitespace-pre-line",children:E})]})]})}),O.jsx("div",{children:O.jsx("button",{type:"submit",disabled:x||!B.isValid||h!==y,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:x?O.jsxs("div",{className:"flex items-center",children:[O.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[O.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),O.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):"Create account"})}),O.jsx("div",{className:"text-center",children:O.jsx("button",{type:"button",onClick:f,className:"text-indigo-600 hover:text-indigo-500 text-sm font-medium",children:"Already have an account? Sign in here"})})]})]})})},x8=({children:f})=>{const{isAuthenticated:e,loading:l}=Eh(),[u,o]=St.useState(!0);return l?O.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:O.jsxs("div",{className:"text-center",children:[O.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),O.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):e?O.jsx("div",{className:"min-h-screen bg-gray-100",children:f}):u?O.jsx(S8,{onSwitchToRegister:()=>o(!1)}):O.jsx(b8,{onSwitchToLogin:()=>o(!0)})};E3.createRoot(document.getElementById("root")).render(O.jsx(St.StrictMode,{children:O.jsx(u4,{children:O.jsx(x8,{children:O.jsx(v8,{})})})}));
