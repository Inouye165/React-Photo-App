name: "CodeQL Config"

# Paths to exclude from all analysis
paths-ignore:
  - '**/test/**'
  - '**/tests/**'
  - '**/*.test.js'
  - '**/*.spec.js'
  - '**/scripts/test-keys.js'  # Local diagnostic tool, not used in production

# Use default security queries
queries:
  - uses: security-and-quality

# Query-specific configuration
query-filters:
  - exclude:
      id: js/missing-rate-limiting
      reason: Test files mount production routes with internal rate limiting
  - exclude:
      id: js/missing-csrf-middleware
      reason: CSRF protection implemented at route level with Origin verification
